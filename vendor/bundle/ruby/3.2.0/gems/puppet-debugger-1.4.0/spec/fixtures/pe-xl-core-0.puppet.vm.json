{"tags":["pe_repo","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64","pe_repo::platform::windows_x86_64","windows_x86_64","puppet_enterprise","puppet_enterprise::license","license","puppet_enterprise::profile::agent","profile","agent","puppet_enterprise::profile::certificate_authority","certificate_authority","puppet_enterprise::profile::console","console","puppet_enterprise::profile::database","database","puppet_enterprise::profile::master","master","puppet_enterprise::profile::orchestrator","orchestrator","puppet_enterprise::profile::puppetdb","puppetdb","settings","puppet_enterprise::params","params","puppet_enterprise::symlinks","symlinks","puppet_enterprise::pxp_agent","pxp_agent","puppet_enterprise::pxp_agent::service","service","puppet_enterprise::profile::console::certs","certs","puppet_enterprise::packages","packages","puppet_enterprise::repo","repo","puppet_enterprise::repo::config","config","puppet_enterprise::profile::console::console_services_config","console_services_config","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console::proxy","proxy","pe_nginx","pe_nginx::params","puppet_enterprise::profile::console::proxy::nginx_conf","nginx_conf","puppet_enterprise::profile::console::proxy::http_redirect","http_redirect","puppet_enterprise::profile::console::cache","cache","pe_postgresql::globals","pe_postgresql","globals","puppet_enterprise::postgresql::client","postgresql","client","pe_postgresql::params","pe_postgresql::client","puppet_enterprise::postgresql::remove","remove","pe_postgresql::server::contrib","server","contrib","pe_postgresql::server","pe_postgresql::server::reload","reload","pe_postgresql::server::install","install","pe_postgresql::server::initdb","initdb","pe_postgresql::server::config","pe_postgresql::server::service","pe_postgresql::server::passwd","passwd","puppet_enterprise::master::meep","meep","puppet_enterprise::profile::master::classifier","classifier","puppet_enterprise::profile::master::auth_conf","auth_conf","puppet_enterprise::master::tk_authz","tk_authz","puppet_enterprise::profile::master::puppetdb","puppet_enterprise::master","puppet_enterprise::master::puppetserver","puppetserver","pe_r10k::params","pe_r10k","pe_r10k::config","pe_r10k::package","package","puppet_enterprise::master::code_manager","code_manager","puppet_enterprise::master::file_sync","file_sync","puppet_enterprise::trapperkeeper::analytics","trapperkeeper","analytics","puppet_enterprise::profile::controller","controller","puppet_enterprise::cli_config","cli_config","puppet_enterprise::puppetdb","puppet_enterprise::puppetdb::database_ini","database_ini","puppet_enterprise::puppetdb::jetty_ini","jetty_ini","puppet_enterprise::puppetdb::rbac_consumer_conf","rbac_consumer_conf","puppet_enterprise::puppetdb::sync_ini","sync_ini","puppet_enterprise::puppetdb::config_ini","config_ini","puppet_enterprise::puppetdb::service","puppet_enterprise::certs::puppetdb_whitelist","puppetdb_whitelist","pe_repo::bulk_pluginsync","bulk_pluginsync","puppet_enterprise::master::recover_configuration","recover_configuration","puppet_enterprise::trapperkeeper::inventory","inventory","puppet_enterprise::profile::bolt_server","bolt_server","puppet_enterprise::profile::plan_executor","plan_executor","puppet_enterprise::profile::ace_server","ace_server","pe_concat::setup","pe_concat","setup","pe_staging","class"],"name":"pe-xl-core-0.puppet.vm","version":1586966085,"code_id":"urn:puppet:code-id:1:155d32fbf0ee2a3a2fdc5894fe53d02e09fb162f;production","catalog_uuid":"369fece0-ee37-4b90-9717-89ee53a0116e","catalog_format":1,"environment":"production","resources":[{"type":"Stage","title":"main","tags":["stage"],"exported":false},{"type":"Class","title":"Settings","tags":["class","settings"],"exported":false},{"type":"Class","title":"Main","tags":["class"],"exported":false,"parameters":{"name":"main"}},{"type":"Class","title":"Puppet_enterprise::Params","tags":["class","puppet_enterprise::params","puppet_enterprise","params"],"exported":false},{"type":"Class","title":"Puppet_enterprise","tags":["class","puppet_enterprise"],"exported":false,"parameters":{"database_host":"pe-xl-core-0.puppet.vm","puppetdb_host":"pe-xl-core-0.puppet.vm","puppetdb_database_host":"pe-xl-db-0.puppet.vm","puppet_master_host":"pe-xl-core-0.puppet.vm","certificate_authority_host":"pe-xl-core-0.puppet.vm","pcp_broker_host":"pe-xl-core-0.puppet.vm","ha_enabled_replicas":["pe-xl-core-1.puppet.vm"],"console_host":"pe-xl-core-0.puppet.vm","allow_unauthenticated_status":true,"console_database_host":"pe-xl-core-0.puppet.vm","orchestrator_database_host":"pe-xl-core-0.puppet.vm","inventory_database_host":"pe-xl-core-0.puppet.vm","certificate_authority_port":8140,"puppet_master_port":8140,"console_port":443,"api_port":"4433","puppetdb_port":8081,"database_port":5432,"puppetdb_database_name":"pe-puppetdb","puppetdb_database_user":"pe-puppetdb","classifier_database_name":"pe-classifier","classifier_database_super_user":"pe-classifier","classifier_database_read_user":"pe-classifier-read","classifier_database_write_user":"pe-classifier-write","classifier_service_regular_db_user":"pe-classifier-write","classifier_service_migration_db_user":"pe-classifier","classifier_url_prefix":"/classifier-api","activity_database_name":"pe-activity","activity_database_super_user":"pe-activity","activity_database_read_user":"pe-activity-read","activity_database_write_user":"pe-activity-write","activity_service_migration_db_user":"pe-activity","activity_service_regular_db_user":"pe-activity-write","activity_url_prefix":"/activity-api","rbac_database_name":"pe-rbac","rbac_database_super_user":"pe-rbac","rbac_database_read_user":"pe-rbac-read","rbac_database_write_user":"pe-rbac-write","rbac_service_migration_db_user":"pe-rbac","rbac_service_regular_db_user":"pe-rbac-write","rbac_url_prefix":"/rbac-api","orchestrator_url_prefix":"/orchestrator","inventory_url_prefix":"/inventory","orchestrator_database_name":"pe-orchestrator","inventory_database_name":"pe-inventory","orchestrator_database_super_user":"pe-orchestrator","orchestrator_database_read_user":"pe-orchestrator-read","orchestrator_database_write_user":"pe-orchestrator-write","inventory_database_super_user":"pe-inventory","inventory_database_read_user":"pe-inventory-read","inventory_database_write_user":"pe-inventory-write","orchestrator_service_migration_db_user":"pe-orchestrator","orchestrator_service_regular_db_user":"pe-orchestrator-write","inventory_service_migration_db_user":"pe-inventory","inventory_service_regular_db_user":"pe-inventory-write","orchestrator_port":8143,"bolt_server_port":62658,"bolt_server_concurrency":100,"plan_executor_port":62659,"plan_executor_workers":1,"ace_server_port":44633,"ace_server_concurrency":10,"pglogical_keepalives_idle":30,"pglogical_keepalives_count":2,"database_ssl":true,"database_cert_auth":true,"license_key_path":"/etc/puppetlabs/license.key","send_analytics_data":true,"ssl_protocols":["TLSv1.2"],"ssl_cipher_suites":[],"manage_symlinks":true,"pcp_broker_port":8142,"puppetdb_sync_interval_minutes":2}},{"type":"Class","title":"Puppet_enterprise::Profile::Agent","tags":["class","puppet_enterprise::profile::agent","puppet_enterprise","profile","agent"],"exported":false,"parameters":{"manage_puppet_conf":true,"pcp_broker_list":["pe-xl-core-0.puppet.vm:8142","pe-xl-core-1.puppet.vm:8142"],"server_list":["pe-xl-core-0.puppet.vm:8140","pe-xl-core-1.puppet.vm:8140"],"manage_symlinks":true,"pxp_enabled":true,"pcp_broker_host":"pe-xl-core-0.puppet.vm","pcp_broker_port":8142,"pcp_broker_ws_uris":[],"package_inventory_enabled":false}},{"type":"Class","title":"Puppet_enterprise::Profile::Console","tags":["class","puppet_enterprise::profile::console","puppet_enterprise","profile","console"],"exported":false,"parameters":{"replication_mode":"source","java_args":{"Xmx":"768m","Xms":"256m"},"ca_host":"pe-xl-core-0.puppet.vm","certname":"pe-xl-core-0.puppet.vm","database_host":"pe-xl-core-0.puppet.vm","database_port":5432,"database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem","master_host":"pe-xl-core-0.puppet.vm","master_port":8140,"master_certname":"pe-xl-core-0.puppet.vm","puppetdb_host":["pe-xl-core-0.puppet.vm"],"puppetdb_port":[8081],"listen_address":"127.0.0.1","ssl_listen_address":"0.0.0.0","console_ssl_listen_port":443,"console_services_listen_port":"4430","console_services_ssl_listen_port":"4431","console_services_api_listen_port":"4432","console_services_api_ssl_listen_port":"4433","console_services_plaintext_status_enabled":false,"console_services_plaintext_status_port":8123,"activity_url_prefix":"/activity-api","activity_database_name":"pe-activity","activity_database_migration_user":"pe-activity","activity_database_user":"pe-activity-write","classifier_database_name":"pe-classifier","classifier_database_migration_user":"pe-classifier","classifier_database_user":"pe-classifier-write","classifier_url_prefix":"/classifier-api","classifier_synchronization_period":600,"classifier_prune_threshold":7,"classifier_node_check_in_storage":false,"classifier_allow_config_data":true,"rbac_database_name":"pe-rbac","rbac_database_migration_user":"pe-rbac","rbac_database_user":"pe-rbac-write","rbac_url_prefix":"/rbac-api","rbac_token_maximum_lifetime":"10y","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","hostcrl":"/etc/puppetlabs/puppet/ssl/crl.pem","delayed_job_workers":2,"disable_live_management":true,"migrate_db":false,"whitelisted_certnames":[],"proxy_read_timeout":120,"pcp_timeout":5,"display_local_time":false,"send_analytics_data":true}},{"type":"Class","title":"Puppet_enterprise::Profile::Database","tags":["class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"exported":false,"parameters":{"replica_hostnames":["pe-xl-core-1.puppet.vm"],"replication_mode":"source","certname":"pe-xl-core-0.puppet.vm","database_listen_addresses":"*","puppetdb_database_name":"pe-puppetdb","puppetdb_database_user":"pe-puppetdb","classifier_database_name":"pe-classifier","classifier_database_super_user":"pe-classifier","classifier_database_read_user":"pe-classifier-read","classifier_database_write_user":"pe-classifier-write","rbac_database_name":"pe-rbac","rbac_database_super_user":"pe-rbac","rbac_database_read_user":"pe-rbac-read","rbac_database_write_user":"pe-rbac-write","activity_database_name":"pe-activity","activity_database_super_user":"pe-activity","activity_database_read_user":"pe-activity-read","activity_database_write_user":"pe-activity-write","orchestrator_database_name":"pe-orchestrator","orchestrator_database_super_user":"pe-orchestrator","orchestrator_database_read_user":"pe-orchestrator-read","orchestrator_database_write_user":"pe-orchestrator-write","inventory_database_name":"pe-inventory","inventory_database_super_user":"pe-inventory","inventory_database_read_user":"pe-inventory-read","inventory_database_write_user":"pe-inventory-write","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","maintenance_work_mem":"8042MB","wal_buffers":"8MB","work_mem":"8MB","max_wal_size":6144,"checkpoint_completion_target":0.9,"checkpoint_timeout":"10min","log_min_duration_statement":"5000","log_min_messages":"warning","log_min_error_statement":"error","log_error_verbosity":"default","log_checkpoints":"on","log_connections":"on","log_disconnections":"on","log_lock_waits":"on","log_temp_files":8192,"log_autovacuum_min_duration":0,"log_line_prefix":"%m [db:%d,sess:%c,pid:%p,vtid:%v,tid:%x] ","effective_cache_size":"38295MB","shared_buffers":"4096MB","memorysize_in_bytes":67463198801,"max_connections":400,"autovacuum_vacuum_scale_factor":0.08,"autovacuum_analyze_scale_factor":0.04,"autovacuum_max_workers":3,"autovacuum_work_mem":"2680MB","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","encoding":"UTF8","ssl_ciphers":["ECDHE-ECDSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305","ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES256-SHA384","ECDHE-ECDSA-AES128-SHA256","ECDHE-RSA-AES128-SHA256"],"ip_mask_allow_all_users":"0.0.0.0/0","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users":"::/0","ipv6_mask_allow_all_users_ssl":"::/0","additional_pg_hba_rules":{},"puppetdb_hosts":["pe-xl-compiler-0.puppet.vm","pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm","pe-xl-core-0.puppet.vm"],"console_hosts":["pe-xl-core-0.puppet.vm"],"pcp_broker_hosts":["pe-xl-core-0.puppet.vm"],"replication_source_hostname":"","max_worker_processes":40,"max_replication_slots":20,"max_wal_senders":20,"wal_level":"logical","shared_preload_libraries":["pglogical"],"auto_explain_settings":{}}},{"type":"Class","title":"Puppet_enterprise::Profile::Master","tags":["class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"exported":false,"parameters":{"classifier_port":[4433,4433],"puppetdb_host":["pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"classifier_client_certname":["pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"provisioned_replicas":["pe-xl-core-1.puppet.vm"],"replication_mode":"source","classifier_host":["pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"file_sync_enabled":true,"puppetdb_port":[8081,8081],"code_manager_auto_configure":true,"java_args":{"Xmx":"2048m","Xms":"512m"},"allow_unauthenticated_ca":true,"allow_unauthenticated_status":true,"ca_host":"pe-xl-core-0.puppet.vm","ca_port":8140,"certname":"pe-xl-core-0.puppet.vm","classifier_url_prefix":"/classifier-api","console_client_certname":"pe-xl-core-0.puppet.vm","console_host":"pe-xl-core-0.puppet.vm","console_server_certname":"pe-xl-core-0.puppet.vm","orchestrator_client_certname":"pe-xl-core-0.puppet.vm","master_of_masters_certname":"pe-xl-core-0.puppet.vm","enable_ca_proxy":true,"facts_terminus":"puppetdb","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","manage_symlinks":true,"metrics_graphite_enabled":false,"metrics_graphite_host":"graphite","metrics_graphite_port":2003,"metrics_graphite_update_interval_seconds":60,"metrics_jmx_enabled":true,"metrics_server_id":"pe-xl-core-0","profiler_enabled":true,"check_for_updates":true,"send_analytics_data":true,"ha_enabled_replicas":["pe-xl-core-1.puppet.vm"],"ssl_listen_port":8140}},{"type":"Class","title":"Puppet_enterprise::Profile::Puppetdb","tags":["class","puppet_enterprise::profile::puppetdb","puppet_enterprise","profile","puppetdb"],"exported":false,"parameters":{"sync_peers":[{"host":"pe-xl-core-1.puppet.vm","port":8081,"sync_interval_minutes":2}],"sync_whitelist":["pe-xl-core-1.puppet.vm"],"database_host":"pe-xl-db-0.puppet.vm","java_args":{"Xmx":"768m","Xms":"256m"},"master_certname":"pe-xl-core-0.puppet.vm","whitelisted_certnames":[],"certname":"pe-xl-core-0.puppet.vm","confdir":"/etc/puppetlabs/puppetdb/conf.d","database_name":"pe-puppetdb","database_port":5432,"database_user":"pe-puppetdb","gc_interval":"60","node_ttl":"7d","report_ttl":"14d","listen_address":"127.0.0.1","listen_port":"8080","ssl_listen_address":"0.0.0.0","ssl_listen_port":8081,"localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem","rbac_host":"pe-xl-core-0.puppet.vm","rbac_port":"4433","rbac_prefix":"/rbac-api"}},{"type":"Class","title":"Pe_repo","tags":["class","pe_repo"],"exported":false,"parameters":{"compile_master_pool_address":"puppet-xl.vm","base_path":"https://pm.puppetlabs.com/puppet-agent","repo_dir":"/opt/puppetlabs/server/data/packages","prefix":"/packages","master":"pe-xl-core-0.puppet.vm","http_proxy_port":3128,"enable_bulk_pluginsync":true}},{"type":"Class","title":"Pe_repo::Platform::El_7_x86_64","tags":["class","pe_repo::platform::el_7_x86_64","pe_repo","platform","el_7_x86_64"],"exported":false,"parameters":{"agent_version":"6.4.3"}},{"type":"Class","title":"Pe_repo::Platform::Windows_x86_64","tags":["class","pe_repo::platform::windows_x86_64","pe_repo","platform","windows_x86_64"],"exported":false,"parameters":{"agent_version":"6.4.3"}},{"type":"Class","title":"Puppet_enterprise::License","tags":["class","puppet_enterprise::license","puppet_enterprise","license"],"exported":false,"parameters":{"manage_license_key":true}},{"type":"Class","title":"Puppet_enterprise::Profile::Certificate_authority","tags":["class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"exported":false,"parameters":{"client_whitelist":[],"enable_infra_crl":true}},{"type":"Class","title":"Puppet_enterprise::Profile::Orchestrator","tags":["class","puppet_enterprise::profile::orchestrator","puppet_enterprise","profile","orchestrator"],"exported":false,"parameters":{"java_args":{"Xmx":"768m","Xms":"256m"},"certname":"pe-xl-core-0.puppet.vm","database_host":"pe-xl-core-0.puppet.vm","database_port":5432,"database_name":"pe-orchestrator","database_user":"pe-orchestrator-write","database_migration_user":"pe-orchestrator","database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem","ssl_listen_address":"0.0.0.0","ssl_listen_port":8143,"ssl_protocols":["TLSv1.2"],"master_host":"pe-xl-core-0.puppet.vm","master_port":8140,"puppetdb_host":["pe-xl-core-0.puppet.vm"],"puppetdb_port":[8081],"classifier_host":"pe-xl-core-0.puppet.vm","classifier_port":"4433","classifier_prefix":"/classifier-api","rbac_host":"pe-xl-core-0.puppet.vm","rbac_port":"4433","rbac_prefix":"/rbac-api","activity_host":"pe-xl-core-0.puppet.vm","activity_port":"4433","activity_prefix":"/activity-api","console_host":"pe-xl-core-0.puppet.vm","console_services_host":"pe-xl-core-0.puppet.vm","console_services_port":"4433","inventory_port":8143,"inventory_prefix":"/inventory","pcp_listen_port":8142,"pcp_accept_consumers":4,"pcp_delivery_consumers":4,"run_service":true,"bolt_server_max_connections":100,"plan_executor_workers":1,"allow_unauthenticated_status":true,"ace_server_max_connections":10}},{"type":"Pe_anchor","title":"puppet_enterprise:barrier:ca","tags":["pe_anchor","puppet_enterprise:barrier:ca","class","puppet_enterprise"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/init.pp","line":235,"exported":false},{"type":"Class","title":"Puppet_enterprise::Symlinks","tags":["class","puppet_enterprise::symlinks","puppet_enterprise","symlinks","puppet_enterprise::profile::agent","profile","agent"],"exported":false,"parameters":{"manage_symlinks":true}},{"type":"File","title":"/usr/local","tags":["pe-agent-symlinks","pe-master-symlinks","file","class","puppet_enterprise::symlinks","puppet_enterprise","symlinks","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/symlinks.pp","line":32,"exported":false,"parameters":{"ensure":"directory","replace":false,"tag":["pe-agent-symlinks","pe-master-symlinks"]}},{"type":"File","title":"/usr/local/bin","tags":["pe-agent-symlinks","pe-master-symlinks","file","class","puppet_enterprise::symlinks","puppet_enterprise","symlinks","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/symlinks.pp","line":32,"exported":false,"parameters":{"ensure":"directory","replace":false,"tag":["pe-agent-symlinks","pe-master-symlinks"]}},{"type":"File","title":"/usr/local/bin/facter","tags":["pe-agent-symlinks","file","class","puppet_enterprise::symlinks","puppet_enterprise","symlinks","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/symlinks.pp","line":38,"exported":false,"parameters":{"ensure":"link","target":"/opt/puppetlabs/bin/facter","tag":"pe-agent-symlinks","require":"File[/usr/local/bin]"}},{"type":"File","title":"/usr/local/bin/puppet","tags":["pe-agent-symlinks","file","class","puppet_enterprise::symlinks","puppet_enterprise","symlinks","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/symlinks.pp","line":45,"exported":false,"parameters":{"ensure":"link","target":"/opt/puppetlabs/bin/puppet","tag":"pe-agent-symlinks","require":"File[/usr/local/bin]"}},{"type":"File","title":"/usr/local/bin/pe-man","tags":["pe-master-symlinks","file","class","puppet_enterprise::symlinks","puppet_enterprise","symlinks","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/symlinks.pp","line":52,"exported":false,"parameters":{"ensure":"link","target":"/opt/puppetlabs/bin/pe-man","tag":"pe-master-symlinks","require":"File[/usr/local/bin]"}},{"type":"File","title":"/usr/local/bin/hiera","tags":["pe-agent-symlinks","file","class","puppet_enterprise::symlinks","puppet_enterprise","symlinks","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/symlinks.pp","line":59,"exported":false,"parameters":{"ensure":"link","target":"/opt/puppetlabs/bin/hiera","tag":"pe-agent-symlinks","require":"File[/usr/local/bin]"}},{"type":"File","title":"/usr/local/bin/r10k","tags":["pe-master-symlinks","file","class","puppet_enterprise::symlinks","puppet_enterprise","symlinks","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/symlinks.pp","line":66,"exported":false,"parameters":{"ensure":"link","target":"/opt/puppetlabs/bin/r10k","tag":"pe-master-symlinks","require":"File[/usr/local/bin]"}},{"type":"File","title":"/usr/local/bin/eyaml","tags":["pe-master-symlinks","file","class","puppet_enterprise::symlinks","puppet_enterprise","symlinks","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/symlinks.pp","line":73,"exported":false,"parameters":{"ensure":"link","target":"/opt/puppetlabs/puppet/lib/ruby/vendor_gems/bin/eyaml","tag":"pe-master-symlinks","require":"File[/usr/local/bin]"}},{"type":"Class","title":"Puppet_enterprise::Pxp_agent","tags":["class","puppet_enterprise::pxp_agent","puppet_enterprise","pxp_agent","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/agent.pp","line":63,"exported":false,"parameters":{"broker_ws_uri":["wss://pe-xl-core-0.puppet.vm:8142/pcp2/","wss://pe-xl-core-1.puppet.vm:8142/pcp2/"],"master_uris":["pe-xl-core-0.puppet.vm:8140","pe-xl-core-1.puppet.vm:8140"],"pcp_version":"2","enabled":true,"pxp_loglevel":"info","extra_options":{}}},{"type":"File","title":"/etc/puppetlabs/pxp-agent/pxp-agent.conf","tags":["file","class","puppet_enterprise::pxp_agent","puppet_enterprise","pxp_agent","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pxp_agent.pp","line":105,"exported":false,"parameters":{"content":"{\"broker-ws-uris\":[\"wss://pe-xl-core-0.puppet.vm:8142/pcp2/\",\"wss://pe-xl-core-1.puppet.vm:8142/pcp2/\"],\"pcp-version\":\"2\",\"master-uris\":[\"pe-xl-core-0.puppet.vm:8140\",\"pe-xl-core-1.puppet.vm:8140\"],\"ssl-key\":\"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem\",\"ssl-cert\":\"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem\",\"ssl-ca-cert\":\"/etc/puppetlabs/puppet/ssl/certs/ca.pem\",\"loglevel\":\"info\"}","mode":"0660","notify":"Service[pxp-agent]"}},{"type":"Class","title":"Puppet_enterprise::Pxp_agent::Service","tags":["class","puppet_enterprise::pxp_agent::service","puppet_enterprise","pxp_agent","service","puppet_enterprise::pxp_agent","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pxp_agent.pp","line":111,"exported":false,"parameters":{"enabled":true}},{"type":"Service","title":"pxp-agent","tags":["service","pxp-agent","class","puppet_enterprise::pxp_agent::service","puppet_enterprise","pxp_agent","puppet_enterprise::pxp_agent","puppet_enterprise::profile::agent","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pxp_agent/service.pp","line":4,"exported":false,"parameters":{"ensure":true,"enable":true,"hasrestart":true}},{"type":"Pe_ini_setting","title":"agent conf file server_list","tags":["pe_ini_setting","class","puppet_enterprise::profile::agent","puppet_enterprise","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/agent.pp","line":73,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppet/puppet.conf","section":"agent","setting":"server_list","value":"pe-xl-core-0.puppet.vm:8140,pe-xl-core-1.puppet.vm:8140"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/state/package_inventory_enabled","tags":["file","class","puppet_enterprise::profile::agent","puppet_enterprise","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/agent.pp","line":95,"exported":false,"parameters":{"ensure":"absent","mode":"0644"}},{"type":"File","title":"/opt/puppetlabs/bin/puppet-enterprise-uninstaller","tags":["file","class","puppet_enterprise::profile::agent","puppet_enterprise","profile","agent"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/agent.pp","line":107,"exported":false,"parameters":{"ensure":"file","mode":"0544","content":"#!/bin/bash\n\n#==========================================================\n# Copyright @ 2016 Puppet, Inc.\n# Redistribution prohibited.\n# Address: 308 SW 2nd Ave., 5th Floor Portland, OR 97204\n# Phone: (877) 575-9775\n# Email: info@puppet.com\n#==========================================================\n\n#===[ Summary ]=========================================================\n\n# This script is sourced by the Puppet Enterprise installer and upgrader and\n# provides helper functions for them.\n\n#===[ Conventions ]=====================================================\n\n# VARIABLES\n#\n# Variable names starting with \"q_\" are sanitized user answers to\n# questions asked by the `ask` function.\n#\n# Variable names starting with \"t_\" are transient variables for use\n# within a function. For example, \"t_ask__name\" is a transient variable\n# for storing a \"name\" within the \"ask\" function. This convention is\n# necessary because all POSIX sh variables are globals and there's no\n# way to localize the scope of variables to prevent functions from\n# stomping over each other's state.\n#\n# Variable names in all capital letters are globals that are\n# intentionally shared between different functions.\n\n#===[ Global Varables ]================================================\n# gettext i18n variables\nexport TEXTDOMAINDIR\nreadonly TEXTDOMAINDIR=\"$(pwd)/locales\"\nexport TEXTDOMAIN=\"puppet-enterprise\"\n\nLOG_DIR_DESTINATION=\"/var/log/puppetlabs/installer\"\nPUPPET_BIN_DIR=\"/opt/puppetlabs/puppet/bin\"\nPUPPET_SHARE_DIR=\"/opt/puppetlabs/puppet/share\"\nMODULE_DIR=\"/opt/puppetlabs/puppet/modules\"\nSERVER_DIR=\"/opt/puppetlabs/server\"\nSERVER_BIN_DIR=\"${SERVER_DIR?}/bin\"\nSERVER_SHARE_DIR=\"${SERVER_DIR?}/share\"\nSERVER_DATA_DIR=\"${SERVER_DIR?}/data\"\n\n# Initialize gettext for i18n\n#\n# Falls back to a fake gettext() if gettext.sh can't be found so that the\n# user can still see output if they don't have gettext.\nif type gettext.sh >/dev/null 2>&1; then\n  # shellcheck disable=SC1091\n  . gettext.sh\nelse\n  echo \"[ERROR] Unable to load gettext.sh.\"\n  echo \"[ERROR] Please install the gettext package if you would like translated instructions.\"\n\n  # Fake gettext function\n  gettext() {\n    printf \"%s\" \"${1}\"\n  }\n\n  # Fake eval_gettext function\n  eval_gettext() {\n    # shellcheck disable=SC2086\n    printf \"%s\" \"$(eval echo \\\"${1}\\\")\"\n  }\nfi\n\n#===[ Functions ]=======================================================\n\n# Stop executioning the program, after cleaning up.\nexception_handler() {\n    t_source_cut=`basename $0 | cut -d '-' -f 1,2`-\n    t_logfile_name=`basename ${LOGFILE}`\n    t_logfile_destination=\"${LOG_DIR_DESTINATION}/${t_logfile_name}\"\n    if [ ${t_source_cut} = \"puppet-enterprise-\" ] ; then\n        case `basename $0 | cut -d '-' -f 3` in\n            installer)\n                t_operation=\"installation\"\n                ;;\n            support)\n                t_operation=\"support script\"\n                ;;\n            *)\n                t_operation=\"uninstallation\"\n                ;;\n        esac\n    else\n        t_operation=`basename $0`\n    fi\n    try_stty echo\n    display_newline\n    display_major_separator\n    display_newline\n    if has_logfile ; then\n        t_error_message=\"There was an error running the ${t_operation}. Please see the ${t_logfile_destination} file for more info. ${t_instructions}\"\n    else\n        t_error_message=\"There was an error running the ${t_operation}. Please see the last few lines of output for more info. ${t_instructions}\"\n    fi\n    display_newline\n    echo \"${t_error_message}\" | display_wrapped_text\n    display_newline\n    # Users can acidentally remove their entire installation\n    # if they accidentally roll_back on upgrades so we don't get\n    # them the option\n    if ! is_upgrade ; then\n        if ! is_use_answers_file && ! is_noop && [ \"${t_operation}\" = 'installation' -a 'y' = \"${OFFER_ROLL_BACK}\" ] ; then\n            roll_back_installer_changes\n        fi\n    else\n        echo \"Contact Puppet Labs support for assistance in completing this upgrade. If you want to completely remove Puppet Enterprise, run /opt/puppetlabs/bin/puppet-enterprise-uninstaller.\" | display_wrapped_text\n        display_newline\n    fi\n    quit 1\n}\n\n# Move log files into the /var/log/puppetlabs/installer directory for the support\n# script to pick up.\ncopy_installer_log_files(){\n    # We may be running the support script, in which case the log file won't exist.\n    if has_logfile; then\n        # /var/log/puppetlabs/installer gets created by the pe-installer(higgs) package.\n        # if this is an upgrade or an install from the answers file, this directory\n        # may not exist. So create it.\n        if ! [ -d \"${LOG_DIR_DESTINATION}\" ] ; then\n            run_suppress_output \"mkdir -p ${LOG_DIR_DESTINATION}\"\n            run_suppress_output \"chmod 700 ${LOG_DIR_DESTINATION}\"\n        fi\n\n        run_suppress_output \"cp ${LOGFILE} ${LOG_DIR_DESTINATION}\"\n\n        # Save answers files to /var/log/puppetlabs/installer/\n        save_redacted_answers \"${LOG_DIR_DESTINATION}/answers.install\"\n    fi\n}\n\nroll_back_installer_changes(){\n    # Roll back using the uninstaller with the purge flag, and if this is a database install, -d also\n    # Make sure the uninstaller is present before even asking\n    t_uninstaller=\"$(installer_dir)/puppet-enterprise-uninstaller\"\n    if [ -r \"${t_uninstaller}\" ] ; then\n        display_newline\n        echo \"The Puppet Enterprise Installer can remove any Puppet Enterprise components and configuration files installed prior to this error.\" | display_wrapped_text\n        if [ 'y' = \"${q_database_install?}\" ] ; then\n            display_newline\n            echo \"(Note: this does not include removal of any system packages installed and/or installed remote databases/users.)\" | display_wrapped_text\n        fi\n        display_newline\n        ask q_roll_back_on_failure \"Remove Puppet Enterprise components and configuration files?\" yN\n        if [ 'y' = \"${q_roll_back_on_failure}\" ] ; then\n            if [ 'y' = \"${q_database_install?}\" -a 'y' = \"${ROLL_BACK_DBS}\" ] ; then\n                t_database_removal_flag='-d'\n            fi\n            run \"/bin/bash ${t_uninstaller} ${t_database_removal_flag} -p -y\"\n        fi\n    fi\n}\n\n# Invoke the exception_handler on CTRL-C or \"set -e\" errors.\nregister_exception_handler() {\n    trap exception_handler INT TERM EXIT\n}\n\n# Remove the exception handler.\nunregister_exception_handler() {\n    trap - INT TERM EXIT\n}\n\n# Display a multiline string, because we can't rely on `echo` to do the right thing.\n#\n# Arguments:\n# 1. Text to display.\ndisplay() {\n    printf \"%s\\n\" \"${1?}\"\n}\n\n# Display a multiline string without a trailing newline.\n#\n# Arguments:\n# 1. Text to display.\ndisplay_nonewline() {\n    printf \"%s\" \"${1?}\"\n}\n\n# Create the workdir, a temporary directory for use by the program, if needed.\nprepare_workdir() {\n    if [ -z \"${WORKDIR:-\"\"}\" -o ! -d \"${WORKDIR:-\"\"}\" ]; then\n        if type mktemp &> /dev/null; then\n            # NOTE: The `mktemp` command is not POSIX, but is supported by most UNIX variants:\n            WORKDIR=`mktemp -t -d tmp.puppet-enterprise-installer.XXXXXX`\n        else\n            # mktemp not available on AIX, so we use a new solution\n            WORKDIR=/tmp/puppet-enterprise-intaller.XXX-${RANDOM}\n            mkdir -p ${WORKDIR}\n        fi\n    fi\n}\n\n# Remove the workdir, a temporary directory used by this installer:\nremove_workdir() {\n    if [ ! -z \"${WORKDIR:-\"\"}\" ]; then\n        if [ -d \"${WORKDIR?}\" ]; then\n            rm -rf \"${WORKDIR?}\"\n        fi\n        unset WORKDIR\n    fi\n}\n\n# Exit the installer and remove the workdir if it exists.\n#\n# Arguments:\n# 1. Exit value, defaults to 0.\nquit() {\n    unregister_exception_handler\n    remove_workdir\n    copy_installer_log_files\n\n    exit \"${1:-\"0\"}\"\n}\n\n# Display a newline\ndisplay_newline() {\n    display ''\n}\n\n# Display an error message to STDERR, but do not exit.\n#\n# Arguments:\n# 1. Message to display.\ndisplay_error() {\n    echo \"!! ERROR: ${1?}\" | display_wrapped_text 0 1>&2\n    display_newline 1>&2\n}\n\n# Display an error message to STDERR and exit the program.\n#\n# Arguments:\n# 1. Error message to display.\ndisplay_failure() {\n    if [ -s ${WORKDIR?}/aix.rpm.errors ]; then\n        display_captured_errors\n    fi\n\n    display_error \"${1?}\"\n    display_footer\n    quit 1\n}\n\n# Display a failure within \"prepare_platform\".\n#\n# Arguments:\n# 1. Error message to display.\ndisplay_platform_failure() {\n    IS_FAILURE=y\n\n    # Set default columns if needed\n    if [ -z \"${PLATFORM_COLUMNS:-\"\"}\" ]; then\n        PLATFORM_COLUMNS=72\n    fi\n\n    display_failure \"${1?}\"\n}\n\n# Display usage information, optionally display error message.\n#\n# Arguments:\n# 1. Error message to display. Optional.\ndisplay_usage() {\n    t_display_usage__error=\"${1:-\"\"}\"\n\n    display \"\nUSAGE: $(basename \"${0?}\") [-a ANSWER_FILE] [-A ANSWER_FILE] [-D] [-h] [-l LOG_FILE] [-n] [-q] [-V]\n\nOPTIONS:\n\n    -a <PATH_to_ANSWER_FILE>\n        Read answers from file and quit with error if an answer is missing.\n    -A <PATH_to_ANSWER_FILE>\n        Read answers from file and prompt for input if an answer is missing.\n        Full answer file is saved at:\n        $(installer_dir)/answers.lastrun.$(hostname -f)\n    -D\n        Display debugging information.\n        Must be run with the '-a' or '-A' flag.\n    -h\n        Display this help.\n    -l <PATH_to_LOG_FILE>\n        Log commands and results to file.\n        Must be run with the '-a' or '-A' flag.\n    -n\n        Run in 'noop' mode; show commands that would have been run\n        during installation without running them.\n        Must be run with the '-a' or '-A' flag.\n    -q\n        Run in quiet mode; the installation process is not displayed.\n        Must be run with the '-a' flag.\n    -V\n        Display very verbose debugging information.\n        Must be run with the '-a' or '-A' flag.\"\n\n    if [ ! -z \"${t_display_usage__error?}\" ]; then\n        display_newline\n        display_failure \"${t_display_usage__error?}\"\n    else\n        display_footer\n        quit\n    fi\n}\n\n# Display a step in the installation process.\n#\n# Arguments:\n# 1. Description of the step, e.g. \"PERFORM INSTALLATION\"\n# 2. Display newline afterwards? Defaults to 'y'.\ndisplay_step() {\n    t_display_step__description=\"${1?}\"\n    t_display_step__newline=\"${2:-\"y\"}\"\n\n    if [ -z \"${DISPLAY_STEP__NUMBER:-\"\"}\" ]; then\n        DISPLAY_STEP__NUMBER=1\n    else\n        DISPLAY_STEP__NUMBER=$(( 1 + ${DISPLAY_STEP__NUMBER?} ))\n    fi\n\n    display_newline\n    display_minor_separator\n    display_newline\n    display \"STEP ${DISPLAY_STEP__NUMBER?}: ${t_display_step__description?}\"\n\n    if [ y = \"${t_display_step__newline?}\" ]; then\n        display_newline\n    fi\n}\n\n# Display the name of a product and its description.\n#\n# Arguments:\n# 1. Name of product, e.g. \"Puppet Strings\"\n# 2. Description of the product, e.g. \"Enterprise-quality strings for your marionettes.\"\ndisplay_product() {\n    t_display_product__name=\"${1?}\"\n    t_display_product__description=\"${2?}\"\n\n    display \"\n-> ${t_display_product__name?}\n\n$(echo \"${t_display_product__description?}\" | display_wrapped_text)\n\"\n}\n\n# Display the comment line.\n#\n# Arguments:\n# 1. Comment to display.\ndisplay_comment() {\n    display \"## ${1?}\"\n}\n\n# Display the fake commaned.\n#\n# Arguments:\n# 1. Command to display, e.g., \"ls -la\"\ndisplay_placeholder() {\n    t_display_placeholder__message=\"++ ${1?}\"\n\n    display \"${t_display_placeholder__message?}\"\n    if has_logfile; then\n        echo \"${t_display_placeholder__message?}\" >> \"${LOGFILE?}\"\n    fi\n}\n\n# Display a major separator line.\ndisplay_major_separator() {\n    if [ -z \"${t_display_major_separator:-\"\"}\" ]; then\n        t_display_major_separator=\"$(display_extend_text =)\"\n    fi\n\n    display \"${t_display_major_separator?}\"\n}\n\n# Display a minor separator line.\ndisplay_minor_separator() {\n    if [ -z \"${t_display_minor_separator:-\"\"}\" ]; then\n        t_display_minor_separator=\"$(display_extend_text -)\"\n    fi\n\n    display \"${t_display_minor_separator?}\"\n}\n\n# Display the header.\ndisplay_header() {\n    display_major_separator\n    display_newline\n    if [ -f \"$(installer_dir)/VERSION\" ]; then\n        display \"Puppet Enterprise v$(cat \"$(installer_dir)/VERSION\") Uninstaller\"\n    else\n        display \"Puppet Enterprise Uninstaller\"\n    fi\n    display_newline\n    display \"Puppet Enterprise documentation can be found at http://puppetlabs.com/docs/pe/\"\n}\n\n# Display the footer.\ndisplay_footer() {\n    display_newline\n    display_major_separator\n}\n\n# Display a line of the given character extended to the full width of the terminal.\n#\n# Arguments:\n# 1. Character to display, e.g. \"=\"\ndisplay_extend_text() {\n    prepare_platform\n\n    echo \"${1?}\" \"${PLATFORM_COLUMNS?}\" | \"${PLATFORM_AWK?}\" '{ result=\"\"; for (i = 1; i <= $2; i++) { printf($1) } }'\n}\n\n# Display wrapped, indented text..\n#\n# Arguments:\n# 1. Spaces to use for the initial line's indentation, e.g. 0\n# 2. Spaces to use for the Subsequent lines' indentation, e.g. 4\n# 3. Maximum width of the indented text before it's wrapped. Defaults to a sensible value.\n#\n# Example:\n#   echo \"Hello world!\" | display_wrapped_text 4 2 4\ndisplay_wrapped_text() {\n    t_display_wrapped_text__initial=\"${1:-\"3\"}\"\n    t_display_wrapped_text__subsequent=\"${2:-\"3\"}\"\n    t_display_wrapped_text__maxlength=\"${3:-\"\"}\"\n\n    prepare_platform\n\n    # Set default maxlength value based on terminal width\n    if [ -z \"${t_display_wrapped_text__maxlength?}\" ]; then\n        t_display_wrapped_text__maxlength=\"$(( ${PLATFORM_COLUMNS?} - 4 ))\"\n    fi\n\n    # If no awk is available, just use cat\n    if [ -z \"${PLATFORM_AWK:-\"\"}\" ]; then\n        cat\n        return\n    fi\n\n    \"${PLATFORM_AWK?}\" -vmaxlength=\"${t_display_wrapped_text__maxlength?}\" -vinitial=\"${t_display_wrapped_text__initial?}\" -vsubsequent=\"${t_display_wrapped_text__subsequent?}\" '\n        function set_indent() {\n            if (is_initial == 1)\n                spacing = initial\n            else\n                spacing = subsequent\n\n            if (spacing > 0)\n                indent = sprintf((\"%\" spacing \"s\"), \" \")\n            else\n                indent = \"\"\n        }\n\n        BEGIN {\n            if (! maxlength)\n                maxlength = 72\n\n            if (! initial)\n                initial = 0\n\n            if (! subsequent)\n                subsequent = 0\n\n            buffer = \"\"\n            is_initial = 1\n            current = 0\n        }\n\n        {\n            if (NF) {\n                for (i = 1; i <= NF ; i++) {\n                    if (buffer == \"\") {\n                        buffer = $i\n                    } else {\n                        set_indent()\n\n                        if (length(indent) + length(buffer) + length($i) + 1 <= maxlength) {\n                            buffer = ( buffer \" \" $i )\n                        } else {\n                            if (is_initial == 1) {\n                                is_initial = 0\n                            }\n                            printf(\"%s%s\\n\", indent, buffer)\n                            buffer = $i\n                        }\n                    }\n                 }\n          } else {\n              buffer = \"\"\n              print\n          }\n        }\n\n        END {\n            if (length(buffer) > 0)\n                set_indent()\n                printf(\"%s%s\", indent, buffer)\n        }\n    '\n}\n\n# Display a question, make the user answer it, and set a variable with their answer.\n#\n# Arguments:\n# 1. Name of the variable to export, e.g. \"q_favorite_color\"\n# 2. Question text to display, e.g. \"What's your favorite color?\"\n# 3. Kind of question, e.g. \"Yn\" to show a 'Y/n' prompt that defaults to 'yes', \"yN\" to show a y/N prompt that defaults to 'no', \"String\" for a manditory string response, \"StringOrBlank\" for an optional string response.\n# 4. Default answer, optional. Currently only supported for \"String\" questions.\nask() {\n    t_ask__name=\"${1?}\"\n    t_ask__question=\"${2?}\"\n    t_ask__kind=\"${3?}\"\n    t_ask__default=\"${4:-\"\"}\"\n\n    t_ask__message=\"?? ${t_ask__question?} \"\n    case \"${t_ask__kind?}\" in\n        Yn)\n            t_ask__message=\"${t_ask__message?}[Y/n] \"\n            ;;\n        yN)\n            t_ask__message=\"${t_ask__message?}[y/N] \"\n            ;;\n        yn)\n            t_ask__message=\"${t_ask__message?}[y/n] \"\n            ;;\n        cr)\n            t_ask__message=\"${t_ask__message?}[c/r] \"\n            ;;\n        StringOrBlank)\n            t_ask__message=\"${t_ask__message?}[Default: (blank)] \"\n            ;;\n        String*)\n            if [ ! -z \"${t_ask__default?}\" ]; then\n                t_ask__message=\"${t_ask__message?}[Default: ${t_ask__default?}] \"\n            fi\n            ;;\n        Password*)\n            if [ ! -z \"${t_ask__default?}\" ]; then\n                t_ask__message=\"${t_ask__message?}[Default: ${t_ask__default?}] \"\n            fi\n            ;;\n        *)\n            display_failure \"Invalid question kind: ${t_ask__kind?}\"\n            ;;\n    esac\n\n    # Try to load the answer from an existing variable, e.g. given name \"q\" look at variable \"$q\".\n    eval t_ask__answered=\\$\"${t_ask__name:-\"\"}\"\n\n    # Was the variable \"$q\" defined before the question was run, like if the answer file defined it?\n    eval '[ -n \"${'\"${t_ask__name:-}\"'}\" ] && t_ask__defined=0 || t_ask__defined=1'\n\n    t_ask__success=n\n    until [ y = \"${t_ask__success?}\" ]; do\n        echo \"${t_ask__message?}\" | display_wrapped_text 0\n        display_nonewline \" \"\n        if [ 0 = \"${t_ask__defined?}\" ]; then\n            if [ \"${t_ask__kind?}\" = \"Password4\" -o \"${t_ask__kind?}\" = \"Password8\" ]; then\n                t_ask__response=\"${t_ask__answered?}\"\n                display \"\"\n                unset t_ask__answered\n            else\n                t_ask__response=\"${t_ask__answered?}\"\n                display \"${t_ask__response?}\"\n                unset t_ask__answered\n            fi\n        else\n            if [ 0 != \"${t_ask__defined?}\" -a y = \"${IS_ANSWER_REQUIRED:-\"\"}\" ]; then\n                display_newline\n                display_failure \"Could not find response for above question in answer file. (Variable needed: ${t_ask__name?})\"\n            fi\n            if [ \"${t_ask__kind?}\" = \"Password4\" -o \"${t_ask__kind?}\" = \"Password8\" ]; then\n                read -s -r t_ask__response; echo\n            else\n                read -r t_ask__response\n            fi\n        fi\n\n        case \"${t_ask__kind?}\" in\n            Yn)\n                if [ -z \"${t_ask__response?}\" -o y = \"${t_ask__response?}\" -o Y = \"${t_ask__response?}\" ]; then\n                    t_ask__answer=y\n                    t_ask__success=y\n                elif [ n = \"${t_ask__response?}\" -o N = \"${t_ask__response?}\" ]; then\n                    t_ask__answer=n\n                    t_ask__success=y\n                else\n                    display_error 'Answer must be either \"y\", \"n\" or <ENTER> for \"y\"'\n                fi\n                ;;\n            yN)\n                if [ y = \"${t_ask__response?}\" -o Y = \"${t_ask__response?}\" ]; then\n                    t_ask__answer=y\n                    t_ask__success=y\n                elif [ -z \"${t_ask__response?}\" -o n = \"${t_ask__response?}\" -o N = \"${t_ask__response?}\" ]; then\n                    t_ask__answer=n\n                    t_ask__success=y\n                else\n                    display_error 'Answer must be either \"y\", \"n\" or <ENTER> for \"n\"'\n                fi\n                ;;\n            yn)\n                if [ y = \"${t_ask__response?}\" -o Y = \"${t_ask__response?}\" ]; then\n                    t_ask__answer=y\n                    t_ask__success=y\n                elif [ n = \"${t_ask__response?}\" -o N = \"${t_ask__response?}\" ]; then\n                    t_ask__answer=n\n                    t_ask__success=y\n                else\n                    display_error 'Answer must be either \"y\", \"n\"'\n                fi\n                ;;\n            cr)\n                if [ c = \"${t_ask__response?}\" -o C = \"${t_ask__response?}\" ]; then\n                    t_ask__answer=c\n                    t_ask__success=y\n                elif [ r = \"${t_ask__response?}\" -o R = \"${t_ask__response?}\" ]; then\n                    t_ask__answer=r\n                    t_ask__success=y\n                else\n                    display_error 'Answer must be either \"c\", \"r\"'\n                fi\n                ;;\n            String)\n                if [ -z \"${t_ask__response?}\" -a ! -z \"${t_ask__default?}\" ]; then\n                    t_ask__answer=\"${t_ask__default?}\"\n                    t_ask__success=y\n                elif [ ! -z ${t_ask__response?} ]; then\n                    t_ask__answer=\"${t_ask__response?}\"\n                    t_ask__success=y\n                else\n                    display_error 'Answer must be a string'\n                fi\n                ;;\n            StringForceLowerCase)\n                if [ -z \"${t_ask__response?}\" -a ! -z \"${t_ask__default?}\" ]; then\n                    t_ask__answer=\"$(echo \"${t_ask__default?}\" | tr '[A-Z]' '[a-z]')\"\n                    t_ask__success=y\n                elif [ ! -z ${t_ask__response?} ]; then\n                    t_ask__answer=\"$(echo \"${t_ask__response?}\" | tr '[A-Z]' '[a-z]')\"\n                    t_ask__success=y\n                else\n                    display_error 'Answer must be a string'\n                fi\n                ;;\n            StringOrBlank)\n                t_ask__answer=\"${t_ask__response?}\"\n                t_ask__success=y\n                ;;\n            Password4)\n                if [ 1 = \"${t_ask__defined?}\" ]; then\n                    LEN=${#t_ask__response}\n                    if [ $LEN -lt 4 ]; then\n                        t_ask__success=n\n                        display_error 'Password must be a minimum of 4 characters'\n                    elif echo \"${t_ask__response?}\" | ${PLATFORM_EGREP?} -q \"'\"; then\n                        t_ask__success=n\n                        display_error \"Passwords may not contain the single quote (') character.\"\n                    else\n                        read -s -r -p \"Confirm Password: \" t_ask__response_confirm; echo\n                        if [ \"${t_ask__response?}\" = \"${t_ask__response_confirm?}\" ]; then\n                            t_ask__answer=\"${t_ask__response?}\"\n                            t_ask__success=y\n                        else\n                            display_error 'Password mismatch: Please try again'\n                        fi\n                    fi\n                else\n                    t_ask__answer=\"${t_ask__response?}\"\n                    t_ask__success=y\n                fi\n                ;;\n            Password8)\n                if [ 1 = \"${t_ask__defined?}\" ]; then\n                    LEN=${#t_ask__response}\n                    if [ $LEN -lt 8 ]; then\n                        t_ask__success=n\n                        display_error 'Password must be a minimum of 8 characters'\n                    elif echo \"${t_ask__response?}\" | ${PLATFORM_EGREP?} -q \"'\"; then\n                        t_ask__success=n\n                        display_error \"Passwords may not contain the single quote (') character.\"\n                    else\n                        read -s -r -p \"Confirm Password: \" t_ask__response_confirm; echo\n                        if [ \"${t_ask__response?}\" = \"${t_ask__response_confirm?}\" ]; then\n                            t_ask__answer=\"${t_ask__response?}\"\n                            t_ask__success=y\n                        else\n                            display_error 'Password mismatch: Please try again'\n                        fi\n                    fi\n                else\n                    t_ask__answer=\"${t_ask__response?}\"\n                    t_ask__success=y\n                fi\n                ;;\n            *)\n                ;;\n        esac\n    done\n\n    eval \"${t_ask__name?}='${t_ask__answer?}'\"\n}\n\n# Wrapper for stty. Check for tty,\n# if not don't use stty\n#\n# Arguments:\n# 1. Argument to pass to stty\ntry_stty() {\n    tty >/dev/null 2>&1\n    if [ $? -eq 0 ]; then\n         stty \"${1}\"\n    fi\n}\n\n# Execute a command if not in noop mode\n# If in debug mode, display the command to run\n#\n# Arguments:\n# 1. Command to execute, e.g. \"ls -la\"\nrun() {\n    t_run__command=\"${1?}\"\n    t_run__message=\"** ${t_run__command?}\"\n\n    if is_debug; then\n        display \"${t_run__message?}\"\n    fi\n    if has_logfile; then\n        echo \"${t_run__message?}\" >> \"${LOGFILE?}\"\n    fi\n    if is_noop; then\n        return 0\n    else\n        if has_logfile; then\n            ( eval \"${t_run__command?}\" ) 2>&1 | tee -a \"${LOGFILE?}\"\n            # Return the status of the command, not tee\n            return \"${PIPESTATUS[0]}\"\n        else\n            ( eval \"${t_run__command?}\" )\n            return $?\n        fi\n    fi\n}\n\n# Executes a command using run() but suppresses standard output\n# unless running in debug mode\nrun_suppress_stdout() {\n    t_run__command=\"${1?}\"\n    if is_debug; then\n        run \"${t_run__command}\"\n    else\n        ( run \"${t_run__command}\" ) > /dev/null\n    fi\n    return $?\n}\n\n# Executes a command using run() but suppresses standard error\n# unless running in debug mode\nrun_suppress_stderr() {\n    t_run__command=\"${1?}\"\n    if is_debug; then\n        run \"${t_run__command}\"\n    else\n        ( run \"${t_run__command}\" ) 2> /dev/null\n    fi\n    return $?\n}\n\n# Executes a command using run() but suppresses all output\n# unless running in debug mode\nrun_suppress_output() {\n    t_run__command=\"${1?}\"\n    if is_debug; then\n        run \"${t_run__command}\"\n    else\n        ( run \"${t_run__command}\" ) &> /dev/null\n    fi\n    return $?\n}\n\n# Prepare variables storing platform information:\n# * PLATFORM_NAME : Name of the platorm, e.g. \"centos\".\n# * PLATFORM_TAG : Tag representing the platform, release and architecture, e.g. \"centos-5-i386\"\n# * PLATFORM_RELEASE : Release version, e.g. \"10.10\".\n# * PLATFORM_ARCHITECTURE : Architecture, e.g. \"i386\".\n# * PLATFORM_PACKAGING : Name of local packaging system, e.g. \"dpkg\".\n# * PLATFORM_AWK : Path to the desired awk, e.g. \"nawk\".\n# * PLATFORM_HOSTNAME : Fully-Qualified hostname of this machine, e.g. \"myhost.mycompany.com\".\n# * PLATFORM_HOSTNAME_SHORT : Shortened hostname of this machine, e.g. \"myhost\".\n# * PLATFORM_COLUMNS : Number of columns on the terminal or a reasonable default.\nprepare_platform() {\n\n    # Do not do detection if within a failure to avoid loop\n    if [ y = \"${IS_FAILURE:-\"\"}\" ]; then\n        return\n    fi\n\n    prepare_workdir\n\n    # NONPORTABLE\n\n    # Awk\n    if [ -z \"${PLATFORM_AWK:-\"\"}\" ]; then\n        for command in gawk nawk awk; do\n            if `echo '42' | ${command?} -v a=42 '{ print a;}' > /dev/null 2>&1`; then\n                PLATFORM_AWK=\"${command?}\"\n                break\n            fi\n        done\n\n        if [ -z \"${PLATFORM_AWK:-\"\"}\" ]; then\n            display_platform_failure \"Can't find \\\"awk\\\" that accepts the -v flag in PATH -- please install it before continuing\"\n        fi\n    fi\n\n    # JJM Default to grep -E to preserve existing behavior.\n    # Note, this function gets called over and over, so we need to be a bit defensive if the variable is already set.\n    if [ -z \"${PLATFORM_EGREP}\" ]; then\n        PLATFORM_EGREP='grep -E'\n    fi\n\n    # Name and release\n    if [ -z \"${PLATFORM_NAME:-\"\"}\" -o -z \"${PLATFORM_RELEASE:-\"\"}\" ]; then\n        VENDOR_PACKAGE_OFFLINE='false'\n        # First try identifying using lsb_release.  This takes care of Ubuntu (lsb-release is part of ubuntu-minimal).\n        if type lsb_release > /dev/null 2>&1; then\n            t_prepare_platform=`lsb_release -icr 2>&1`\n\n            PLATFORM_NAME=\"$(printf \"${t_prepare_platform?}\" | ${PLATFORM_EGREP?} '^Distributor ID:' | cut -s -d: -f2 | sed 's/[[:space:]]//' | tr '[[:upper:]]' '[[:lower:]]')\"\n\n            # Sanitize name for unusual platforms\n            case \"${PLATFORM_NAME?}\" in\n                redhatenterpriseserver | redhatenterpriseclient | redhatenterpriseas | redhatenterprisees | enterpriseenterpriseserver | redhatenterpriseworkstation | redhatenterprisecomputenode | oracleserver)\n                    PLATFORM_NAME=rhel\n                    ;;\n                enterprise* )\n                    PLATFORM_NAME=centos\n                    ;;\n                scientific | scientifics | scientificsl )\n                    PLATFORM_NAME=rhel\n                    ;;\n                suse* )\n                    PLATFORM_NAME=sles\n                    ;;\n                amazonami )\n                    PLATFORM_NAME=amazon\n                    ;;\n                'cumulus networks' )\n                    PLATFORM_NAME=cumulus\n                    ;;\n            esac\n\n            # Release\n            PLATFORM_RELEASE=\"$(printf \"${t_prepare_platform?}\" | ${PLATFORM_EGREP?} '^Release:' | cut -s -d: -f2 | sed 's/[[:space:]]//g')\"\n\n            # Sanitize release for unusual platforms\n            case \"${PLATFORM_NAME?}\" in\n                centos | rhel | sles )\n                    # Platform uses only number before period as the release, e.g. \"CentOS 5.5\" is release \"5\"\n                    PLATFORM_RELEASE=\"$(printf \"${PLATFORM_RELEASE?}\" | cut -d. -f1)\"\n                    ;;\n                debian )\n                    # Platform uses only number before period as the release, e.g. \"Debian 6.0.1\" is release \"6\"\n                    PLATFORM_RELEASE=\"$(printf \"${PLATFORM_RELEASE?}\" | cut -d. -f1)\"\n                    if [ ${PLATFORM_RELEASE} = \"testing\" ] ; then\n                        PLATFORM_RELEASE=7\n                    fi\n                    ;;\n                cumulus )\n                    # Platform uses first two numbers as the release, e.g. \"Cumulus 2.2.2\" is release \"2.2\"\n                    PLATFORM_RELEASE=\"$(printf \"${PLATFORM_RELEASE?}\" | cut -d. -f1,2)\"\n                    ;;\n            esac\n        # Test for Solaris.\n        elif [ \"x$(uname -s)\" = \"xSunOS\" ]; then\n            PLATFORM_NAME=\"solaris\"\n            t_platform_release=\"$(uname -r)\"\n            # JJM We get back 5.10 but we only care about the right side of the decimal.\n            PLATFORM_RELEASE=\"${t_platform_release##*.}\"\n            PLATFORM_EGREP='egrep'\n        elif [ \"x$(uname -s)\" = \"xAIX\" ] ; then\n            PLATFORM_NAME=\"aix\"\n            t_platform_release=\"$(oslevel | cut -d'.' -f1,2)\"\n            PLATFORM_RELEASE=\"${t_platform_release}\"\n            PLATFORM_EGREP='egrep'\n            PLATFORM_ROOT_GROUP='system'\n            PLATFORM_ROOT_USER='root'\n            PLATFORM_PUPPET_GROUP='puppet'\n            PLATFORM_PUPPET_USER='puppet'\n            PLATFORM_PUPPET_HOME='/opt/freeware/var/lib/pe-puppet'\n\n        # Test for RHEL variant. RHEL, CentOS, OEL\n        elif [ -f /etc/redhat-release -a -r /etc/redhat-release -a -s /etc/redhat-release ]; then\n            # Oracle Enterprise Linux 5.3 and higher identify the same as RHEL\n            if grep -qi 'red hat enterprise' /etc/redhat-release; then\n                PLATFORM_NAME=rhel\n            elif grep -qi 'centos' /etc/redhat-release; then\n                PLATFORM_NAME=centos\n            elif grep -qi 'scientific' /etc/redhat-release; then\n                PLATFORM_NAME=rhel\n            elif grep -qi 'fedora' /etc/redhat-release; then\n                PLATFORM_NAME='fedora'\n            fi\n            # Release - take first digits after ' release ' only.\n            PLATFORM_RELEASE=\"$(sed 's/.*\\ release\\ \\([[:digit:]]\\+\\).*/\\1/g;q' /etc/redhat-release)\"\n        # Test for Cumulus releases\n        elif [ -r \"/etc/os-release\" ] && ${PLATFORM_EGREP?} \"Cumulus Linux\" \"/etc/os-release\" &> /dev/null ; then\n            PLATFORM_NAME=cumulus\n            PLATFORM_RELEASE=`${PLATFORM_EGREP?} \"VERSION_ID\" \"/etc/os-release\" | cut -d'=' -f2 | cut -d'.' -f'1,2'`\n        elif [ -r \"/etc/Eos-release\" ] && ${PLATFORM_EGREP?} \"Arista Networks EOS\" \"/etc/Eos-release\" &> /dev/null ; then\n            PLATFORM_NAME=eos\n            PLATFORM_RELEASE=$(sed -n 's/^Arista Networks EOS v*\\(.*\\)$/\\1/p' \"/etc/Eos-release\" | cut -d'.' -f1)\n        # Test for Debian releases\n        elif [ -f /etc/debian_version -a -r /etc/debian_version -a -s /etc/debian_version ]; then\n            t_prepare_platform__debian_version_file=\"/etc/debian_version\"\n            t_prepare_platform__debian_version=`cat /etc/debian_version`\n\n            if cat \"${t_prepare_platform__debian_version_file?}\" | ${PLATFORM_EGREP?} '^[[:digit:]]' > /dev/null; then\n                PLATFORM_NAME=debian\n                PLATFORM_RELEASE=\"$(printf \"${t_prepare_platform__debian_version?}\" | sed 's/\\..*//')\"\n            elif cat \"${t_prepare_platform__debian_version_file?}\" | ${PLATFORM_EGREP?} '^wheezy' > /dev/null; then\n                PLATFORM_NAME=debian\n                PLATFORM_RELEASE=\"7\"\n            fi\n        elif [ -f /etc/SuSE-release -a -r /etc/SuSE-release ]; then\n            t_prepare_platform__suse_version=`cat /etc/SuSE-release`\n\n            if printf \"${t_prepare_platform__suse_version?}\" | ${PLATFORM_EGREP?} 'Enterprise Server'; then\n                PLATFORM_NAME=sles\n                t_version=`/bin/cat /etc/SuSE-release | grep VERSION | sed 's/^VERSION = \\(\\d*\\)/\\1/' `\n                t_patchlevel=`cat /etc/SuSE-release | grep PATCHLEVEL | sed 's/^PATCHLEVEL = \\(\\d*\\)/\\1/' `\n                PLATFORM_RELEASE=\"${t_version}\"\n            fi\n        elif [ -f /etc/system-release ]; then\n            if grep -qi 'amazon linux' /etc/system-release; then\n                PLATFORM_NAME=amazon\n                t_image_name=$(grep image_name /etc/image-id | cut -d\\\" -f2 | cut -d- -f1)\n                if [ \"$t_image_name\" == \"amzn2\" ]; then\n                    PLATFORM_RELEASE=7\n                else\n                    PLATFORM_RELEASE=6\n                fi\n            else\n                display_platform_failure \"$(cat /etc/system-release) is not a supported platform for Puppet Enterprise v${PE_VERSION}\n                    Please visit http://links.puppetlabs.com/puppet_enterprise_${PE_LINK_VER?}_platform_support to request support for this platform.\"\n\n            fi\n        elif [ -z \"${PLATFORM_NAME:-\"\"}\" ]; then\n            display_platform_failure \"$(uname -s) is not a supported platform for Puppet Enterprise v${PE_VERSION}\n            Please visit http://links.puppetlabs.com/puppet_enterprise_${PE_LINK_VER?}_platform_support to request support for this platform.\"\n        fi\n    fi\n\n    # Assign Default Values For Platform Specifics\n    PLATFORM_ROOT_USER=${PLATFORM_ROOT_USER:=root}\n    PLATFORM_ROOT_GROUP=${PLATFORM_ROOT_GROUP:=root}\n    PLATFORM_PUPPET_USER=${PLATFORM_PUPPET_USER:=pe-puppet}\n    PLATFORM_PUPPET_USER=${PLATFORM_PUPPET_GROUP:=pe-puppet}\n    PLATFORM_SYMLINK_TARGET=${PLATFORM_SYMLINK_TARGET:=/usr/local/bin}\n    PLATFORM_PUPPET_HOME=${PLATFORM_PUPPET_HOME:=/var/opt/lib/pe-puppet}\n\n    if [ -z \"${PLATFORM_NAME:-\"\"}\" -o -z \"${PLATFORM_RELEASE:-\"\"}\" ]; then\n        display_platform_failure \"Unknown platform\"\n    fi\n\n    case \"${PLATFORM_NAME?}\" in\n        centos | rhel )\n            case \"${PLATFORM_RELEASE?}\" in\n                4 )\n                    VENDOR_PACKAGE_OFFLINE='true'\n                    ;;\n            esac\n            ;;\n        sles )\n            if [ \"10\" = \"${PLATFORM_RELEASE?}\" ]; then\n                VENDOR_PACKAGE_OFFLINE='true'\n            fi\n            ;;\n    esac\n\n    # Packaging\n    if [ -z \"${PLATFORM_PACKAGING:-\"\"}\" ]; then\n        case \"${PLATFORM_NAME?}\" in\n            centos | rhel | sles | amazon | aix | eos | fedora )\n                PLATFORM_PACKAGING=rpm\n                ;;\n            ubuntu | debian | cumulus)\n                PLATFORM_PACKAGING=dpkg\n                ;;\n            solaris )\n                case  \"${PLATFORM_RELEASE?}\" in\n                    10)\n                        PLATFORM_PACKAGING=pkgadd\n                        ;;\n                    11)\n                        PLATFORM_PACKAGING=ips\n                        ;;\n                esac\n                ;;\n            *)\n                display_platform_failure \"Unknown packaging system for platform: ${PLATFORM_NAME?}\"\n                ;;\n        esac\n    fi\n\n    # Architecture\n    if [ -z \"${PLATFORM_ARCHITECTURE:-\"\"}\" ]; then\n        case \"${PLATFORM_NAME?}\" in\n            solaris | aix )\n                PLATFORM_ARCHITECTURE=\"$(uname -p)\"\n                if [ \"${PLATFORM_ARCHITECTURE}\" = \"powerpc\" ] ; then\n                  PLATFORM_ARCHITECTURE='power'\n                fi\n                ;;\n            *)\n                PLATFORM_ARCHITECTURE=\"`uname -m`\"\n                ;;\n        esac\n        case \"${PLATFORM_ARCHITECTURE?}\" in\n            x86_64)\n                case \"${PLATFORM_NAME?}\" in\n                    ubuntu | debian | cumulus )\n                        PLATFORM_ARCHITECTURE=amd64\n                        ;;\n                esac\n                ;;\n            i686)\n                PLATFORM_ARCHITECTURE=i386\n                ;;\n            ppc)\n                PLATFORM_ARCHITECTURE=powerpc\n                ;;\n        esac\n    fi\n\n    # Tag\n    if [ -z \"${PLATFORM_TAG:-\"\"}\" ]; then\n        case \"${PLATFORM_NAME?}\" in\n            # Enterprise linux (centos & rhel) share the same packaging\n            # Amazon linux is similar enough for our packages\n            rhel | centos | amazon )\n                PLATFORM_TAG=\"el-${PLATFORM_RELEASE?}-${PLATFORM_ARCHITECTURE?}\"\n                ;;\n            *)\n                PLATFORM_TAG=\"${PLATFORM_NAME?}-${PLATFORM_RELEASE?}-${PLATFORM_ARCHITECTURE?}\"\n                ;;\n        esac\n    fi\n\n    # Columns\n    if [ -z \"${PLATFORM_COLUMNS:-\"\"}\" ]; then\n        PLATFORM_COLUMNS=\"$(try_stty size 2>&1 | cut -s -d\" \" -f2)\"\n        if ! (echo $PLATFORM_COLUMNS | ${PLATFORM_EGREP?} '^[[:digit:]]+$') > /dev/null 2>&1; then\n            PLATFORM_COLUMNS=72\n        fi\n    fi\n\n    # Hostname\n    if [ -z \"${PLATFORM_HOSTNAME:-\"\"}\" ]; then\n        case \"${PLATFORM_NAME?}\" in\n            solaris)\n                # Calling hostname --fqdn on solaris will set the hostname to '--fqdn' so we don't do that.\n                # Note there is a single space and literal tab character inside the brackets to match spaces or tabs\n                # in resolv.conf\n                t_fqdn=`sed -n 's/^[ \t]*domain[ \t]*\\(.*\\)$/\\1/p' /etc/resolv.conf`\n                t_host=`uname -n`\n                if [ -z $t_fqdn ]; then\n                    PLATFORM_HOSTNAME=${t_host?}\n                else\n                    PLATFORM_HOSTNAME=\"${t_host?}.${t_fqdn:-''}\"\n                fi\n\n                PLATFORM_HOSTNAME_SHORT=${t_host?}\n                ;;\n            aix)\n                # As with solaris, calling `hostname --fqdn` sets the hostname\n                # to '--fqdn' if /opt/freeware/bin is in the path and we're\n                # calling GNU hostname. AIX also has AIX hostname, in /bin, in\n                # which `hostname` prints the fqdn, and `hostname -s` prints\n                # hostname with domain info trimmed. We use the AIX hostname\n                # because its more sane and reliably there.\n                PLATFORM_HOSTNAME=`/bin/hostname`\n                PLATFORM_HOSTNAME_SHORT=`/bin/hostname -s`\n                ;;\n            *)\n                if hostname --fqdn &> /dev/null; then\n                    PLATFORM_HOSTNAME=`hostname --fqdn 2> /dev/null`\n                else\n                    PLATFORM_HOSTNAME=`hostname`\n                fi\n\n                if hostname --short &> /dev/null; then\n                    PLATFORM_HOSTNAME_SHORT=`hostname --short 2> /dev/null`\n                else\n                    PLATFORM_HOSTNAME_SHORT=`echo \"${PLATFORM_HOSTNAME}\" | cut -d. -f1`\n                fi\n                ;;\n        esac\n    fi\n\n    # pgrep\n    if [ -z \"${PLATFORM_PGREP}\" ] ; then\n        case \"${PLATFORM_NAME?}\" in\n            aix)\n                PLATFORM_PGREP=aix_service_to_pid\n            ;;\n            *)\n                PLATFORM_PGREP=$(wherefore pgrep)\n            ;;\n        esac\n    fi\n}\n\n# Fail unless the current user has root privileges.\nprepare_user() {\n    case `basename $0` in\n        puppet-enterprise-uninstaller)\n            t_script_run=\"Puppet Enterprise Uninstaller\"\n        ;;\n        *)\n            t_script_run=\"Puppet Enterprise Installer\"\n    esac\n    t_user_error_message=\"The ${t_script_run} must be run by a user with \\\"root\\\" privileges.\"\n    # NONPORTABLE\n    case \"${PLATFORM_NAME?}\" in\n        solaris)\n            # JJM BASHISM NONPORTABLE\n            if [ ! \"0\" = \"${EUID?}\" ]; then\n                display_failure \"${t_user_error_message}\"\n            fi\n            ;;\n        *)\n            if [ ! \"0\" = \"$(id -u)\" ]; then\n                display_failure \"${t_user_error_message}\"\n            fi\n            ;;\n    esac\n}\n\n# AIX doesn't have pgrep. Not only that, the way it displays our services does\n# not actually include enough information to distinguish between puppet and\n# mcollective. That is, `ps -ef` will show '/opt/puppetlabs/puppet/bin/ruby' for both. We\n# can, however, get the PID for a service by parsing the output of `lssrcs -s\n# $servicename`. A caveat is that the PID is only displayed if the process is\n# in an active or stopping state, not stopped.\n# Arguments:\n# 1. The name of the service to search for\n# Prints:\n# the PID of that service, if running\naix_service_to_pid() {\n    if /bin/lssrc -s ${1?} &>/dev/null ; then\n        if /bin/lssrc -s ${1?} | ${PLATFORM_EGREP?} -q \"active|stopping\" ; then\n            /bin/lssrc -s | xargs | ${PLATFORM_AWK} '{print $(NF-1)}'\n        else\n            return 1\n        fi\n    fi\n}\n\n# Make a backup copy of the file. Creates the backup in the same directory with a timestamp and \".bak\" suffix.\n#\n# Arguments:\n# 1. File to backup.\nbackup_file() {\n    t_backup_file__source=\"${1?}\"\n    t_backup_file__target=\"${t_backup_file__source?}.`date '+%Y%m%dT%H%M%S'`.bak\"\n\n    case \"${PLATFORM_NAME?}\" in\n        solaris)\n            t_cp='cp -p -r'\n            ;;\n        *)\n            t_cp='cp -a'\n            ;;\n    esac\n\n    if [ -e \"${t_backup_file__source?}\" ]; then\n        run \"${t_cp?} ${t_backup_file__source?} ${t_backup_file__target?}\"\n    fi\n}\n\n# Check rpm error log and try to remove directories that are empty after upgrade (fix poor rpm on AIX)\nremove_empty_directories() {\n    if [ -s \"${WORKDIR?}/aix.rpm.errors\" ]; then\n        for f in `cat ${WORKDIR?}/aix.rpm.errors | ${PLATFORM_EGREP?} \"^cannot remove .* - directory not empty\\$\" | sed \"s/^cannot remove \\(.*\\) - directory not empty\\$/\\1/g\"`; do\n            [ -d \"${f?}\" ] && run_suppress_stderr \"rmdir \\\"${f?}\\\" 2>/dev/null\" || :\n        done\n    fi\n\n    display_captured_errors\n}\n\ndisplay_captured_errors() {\n    if [ -s ${WORKDIR?}/aix.rpm.errors ]; then\n        # Display other errors than directories not being removed\n        cat ${WORKDIR?}/aix.rpm.errors | ${PLATFORM_EGREP?} -v \"^cannot remove .* - directory not empty\\$\" || :\n        run_suppress_stderr \"rm ${WORKDIR?}/aix.rpm.errors\" || :\n    fi\n}\n\n# Utility function to canonicalize the path to a file.\n# If using Solaris, readlink is not defined, have to determine manually.\n# Otherwise just use readlink. Echoes the full path to a file.\ncanonicalize_file() {\n    t_file_to_check=\"${1?}\"\n    canonical_path=\"\"\n    if [ \"solaris\" = \"${PLATFORM_NAME}\" ] || [ \"aix\" = \"${PLATFORM_NAME}\" ] ; then\n        if [ -L \"${t_file_to_check}\" ] ; then\n            # File is a link\n            canonical_path=`file -h \"${t_file_to_check}\" | cut -d' ' -f 4`\n        else\n            # expand possible tilde\n            eval t_file_to_check=\"${t_file_to_check}\"\n            file_dir=`dirname ${t_file_to_check}`\n            # check if dir exists before trying to pushd, otherwise echo blank\n            if [ -d \"${file_dir}\" ] ; then\n                file_base=`basename \"${t_file_to_check}\"`\n                pushd \"${file_dir}\" > /dev/null 2>&1\n                full_path=$(pwd)\n                popd > /dev/null 2>&1\n                canonical_path=\"${full_path}/${file_base}\"\n            fi\n        fi\n    else\n        canonical_path=\"$(readlink -f ${t_file_to_check})\"\n    fi\n    echo \"${canonical_path}\"\n}\n\n# Display path to this installer. Optionally override this by exporting INSTALLER_DIR environment variable.\ninstaller_dir() {\n    if [ -z \"${INSTALLER_DIR:-\"\"}\" ]; then\n        INSTALLER_DIR=\"$(canonicalize_file $(dirname \"${0?}\"))\"\n    fi\n\n    echo \"${INSTALLER_DIR?}\"\n}\n\n# Display platform's package path, e.g. \"packages/centos-5-x86_64\".\nplatform_package_dir() {\n    prepare_platform\n\n    echo \"$(installer_dir)/packages/${PLATFORM_TAG?}\"\n}\n\n# Display the platform in a form suitable for use as a Puppet class, eg\n# \"centos_5_x86_64\".\nplatform_puppet_class() {\n  # Replace - with _ then delete all non-word characters.\n  echo \"${PLATFORM_TAG?}\" | tr - _ | tr -dc '[:alnum:]_'\n}\n\n# Load the answers from a file. The file is just a shell script that we source.\n#\n# Arguments:\n# 1. File to load answers from.\nload_answers() {\n    t_load_answers__file=\"${1?}\"\n\n    if [ -f \"${t_load_answers__file?}\" ]; then\n        # Force the answer file to have Unix line-endings.\n        # \\15 and \\32 are the octal ASCII values for \\r and substitute character, respectively.\n        tr -d '\\15\\32' < \"${t_load_answers__file?}\" > \"${t_load_answers__file?}\".placeholder\n        cat \"${t_load_answers__file?}\".placeholder > \"${t_load_answers__file?}\"\n        rm \"${t_load_answers__file?}\".placeholder\n\n        if [ '.' = \"$(dirname \"${t_load_answers__file?}\")\" -a ! \"./\" = \"$( echo \"${t_load_answers__file?}\" | cut -c 1-2)\" ]; then\n            # Some shells can only source files if given a path.\n            t_load_answers__file=\"./${t_load_answers__file?}\"\n        fi\n\n        display_step 'READ ANSWERS FROM FILE'\n        display_comment \"Reading answers from file: ${t_load_answers__file?}\"\n        . \"${t_load_answers__file?}\"\n    else\n        display_failure \"Can't find answers file: ${t_load_answers__file?}\"\n    fi\n}\n\n# Running in noop mode? Return 0 if true.\nis_noop() {\n    if [ y = \"${IS_NOOP:-\"\"}\" ]; then\n        return 0\n    else\n        return 1\n    fi\n}\n\n# Running in quiet mode? Return 0 if true\nis_quiet() {\n  if [ -n \"${ANSWER_FILE_TO_LOAD}\" -a y = \"${IS_ANSWER_REQUIRED}\" ] ; then\n    ANSWERS_PROVIDED=y\n  else\n    ANSWERS_PROVIDED=n\n  fi\n\n  if [ y = \"${IS_SUPPRESS_OUTPUT:-\"\"}\" -a y = \"${ANSWERS_PROVIDED}\" ]; then\n      return 0\n  elif [ y = \"${IS_SUPPRESS_OUTPUT:-\"\"}\" -a n = \"${ANSWERS_PROVIDED}\" ]; then\n      display_usage 'A complete answer file must be specified in order to run in quiet mode. Must be run with the \"-a\" flag'\n  else\n    return 1\n  fi\n}\n\n# Running from an answer file? Return 0 if true, else 1\nis_use_answers_file() {\n    if [ -z \"${ANSWER_FILE_TO_LOAD}\" ] ; then\n        return 1\n    else\n        return 0\n    fi\n}\n\n# Running in debug mode? Return 0 if true.\nis_debug() {\n    if [ y = \"${IS_DEBUG:-\"\"}\" ]; then\n        return 0\n    else\n        return 1\n    fi\n}\n\n# Running in very verbose debug mode? Return 0 if true.\nis_verbose_debug() {\n    if [ y = \"${IS_VERBOSE_DEBUG:-\"\"}\" ]; then\n        return 0\n    else\n        return 1\n    fi\n}\n\n# Detected existing installation? Return 0 if true, else 1\nis_upgrade() {\n    if [ y = \"${IS_UPGRADE}\" ]; then\n      return 0\n    else\n      return 1\n    fi\n}\n\n# Was a logfile specified?\nhas_logfile() {\n    if [ ! -z \"${LOGFILE:-\"\"}\" ]; then\n        return 0\n    else\n        return 1\n    fi\n}\n\n# Is the package installed? Returns 0 for true, 1 for false.\n#\n# Arguments:\n# 1. Name of package.\nis_package_installed() {\n    prepare_platform\n\n    # NONPORTABLE\n    case \"${PLATFORM_PACKAGING?}\" in\n        rpm)\n            (rpm -qi \"${1?}\") > /dev/null 2>&1\n            return $?\n            ;;\n        dpkg)\n            (dpkg-query --show --showformat '${Package}:${Status}\\\\n' \"${1?}\" 2>&1 | grep ' installed') > /dev/null\n            return $?\n            ;;\n        pkgadd)\n            (pkginfo -l ${1?} | ${PLATFORM_EGREP?} 'STATUS:[:space:]*.*[:space:]*installed') &> /dev/null\n            return $?\n            ;;\n        ips)\n            run_suppress_output \"pkg info ${1?}\"\n            return $?\n            ;;\n        *)\n            display_failure \"Do not know how to check if package is installed on this platform.\"\n            ;;\n    esac\n}\n\nrun_quiet_mode() {\n  # suppress output from the install process\n  exec > /dev/null 2>&1\n}\n\nprepare_log_file() {\n    if [ -z \"${LOGFILE}\" ] ; then\n    \tif [ -n \"${1}\" ] ; then\n            LOGFILE=\"${1}_log.lastrun\"\n    \telse\n    \t    LOGFILE=\"default_log.lastrun\"\n        fi\n\n        t_log_lastrun_basename=\"${LOGFILE?}\".\"${PLATFORM_HOSTNAME?}\".log\n        t_installer_dir=\"$(pwd)\"\n        if try_create_log_file \"$t_installer_dir/${t_log_lastrun_basename?}\" ; then\n            LOGFILE=\"$t_installer_dir/${t_log_lastrun_basename?}\"\n        elif try_create_log_file \"/tmp/${t_log_lastrun_basename?}\" ; then\n            LOGFILE=\"/tmp/${t_log_lastrun_basename?}\"\n        else\n            display_major_separator\n            display_newline\n            display_comment \"Unable to write to the install log '${t_log_lastrun_basename?}' or '/tmp/${t_log_lastrun_basename?}'. Proceeding without logging.\"\n            LOGFILE=\"\"\n        fi\n    else\n        LOGFILE=\"$(canonicalize_file \"${LOGFILE}\")\"\n        if ! try_create_log_file \"${LOGFILE?}\" ; then\n            display_newline\n            display_comment \"Unable to write to the specified log.\"\n            LOGFILE=\"\"\n            ask LOGFILE \"What is the path to a writable log file?\" String\n            LOGFILE=\"$(canonicalize_file \"${LOGFILE}\")\"\n            try_create_log_file \"${LOGFILE}\" || display_failure \"Unable to write to specified log file.\"\n        fi\n    fi\n}\n\ntry_create_log_file() {\n    t_log_to_use=${1}\n    # if log file is blank bail early\n    [ -z \"t_log_to_use\" ] && return 1\n\n    if touch ${t_log_to_use?} 2>/dev/null && chmod 600 ${t_log_to_use?} 2>/dev/null ; then\n        return 0\n    else\n        return 1\n    fi\n}\n\n# Determines where the answer file should be written\nanswer_file_to_save() {\n    t_lastrun_basename=\"answers.lastrun.${PLATFORM_HOSTNAME?}\"\n    if touch \"$(installer_dir)/${t_lastrun_basename}\" 2>/dev/null ; then\n        echo \"$(installer_dir)/${t_lastrun_basename}\"\n    elif touch \"/tmp/${t_lastrun_basename}\" 2>/dev/null ; then\n        echo \"/tmp/${t_lastrun_basename}\"\n    else\n        echo \"\"\n    fi\n}\n\nsave_redacted_answers() {\n    run_suppress_output \"sed \\\"s/^\\(q_.*password\\)=.*/#\\1=REDACTED/g\\\" < \\\"$(answer_file_to_save)\\\" > \\\"${1}\\\"\"\n}\n\n# Remove the platform-specific package repo. Do nothing on platforms where we\n# don't use a repo, or if the repo doesn't exist.\nremove_package_repo() {\n  case \"${PLATFORM_PACKAGING?}\" in\n    rpm)\n      case \"${PLATFORM_NAME?}\" in\n        sles)\n          if [ \"10\" != \"${PLATFORM_RELEASE?}\" ]; then\n            if zypper service-list | grep -q puppet-enterprise-installer; then\n              run \"zypper service-delete puppet-enterprise-installer\"\n            fi\n          fi\n          ;;\n        aix | eos)\n          # Don't remove anything\n          ;;\n        *)\n          t_el_4_regex=\"el-4-(i386|x86_64)\"\n          if [[ ! \"$PLATFORM_TAG\" =~ ${t_el_4_regex?} ]] ; then\n              run \"yum clean all --disablerepo='*' --enablerepo=puppet-enterprise-installer\"\n              run \"rm -f /etc/yum.repos.d/puppet-enterprise-installer.repo\"\n          fi\n          ;;\n      esac\n      ;;\n    dpkg)\n      run \"rm -f /etc/apt/sources.list.d/puppet-enterprise-installer.list\"\n      run \"apt-get update -qq\"\n      ;;\n    ips)\n      # (RE-869) The repository we create lives in\n      # /etc/puppetlabs/installer/solaris.repo, and *must* remain on the system\n      # after install. If packages are installed in a non-global zone from a\n      # non-system repository (e.g. a file-based repository that was added to\n      # the non-global zone but not the global zone), and that repository and\n      # associated publisher are deleted, the same packages cannot be\n      # subsequently installed in the global zone. This is because while we\n      # deleted the repository and associated publisher from the non-global\n      # zone, it still retains information about the publisher to associate\n      # with the installed packages in /var/pkg/publisher.\n      # When later installing in the global zone, the pkg application in the\n      # global zone \"recurses\" into each non-global zone and attempts to\n      # verify/synchronize/something the publisher of the packages being installed with\n      # any of the same name in the non-global zone. If we remove this information from the\n      # non-global zone, the install in the global zone always fails.  To avoid this issue, we\n      # have to leave behind the repository on the system as long as PE is\n      # there. Note that we don't actually have to keep any packages in the\n      # repository, but we do need the skeleton/metadata present.\n      #\n      # Remove the packages from the repository to minimize size on disk, but\n      # retain the repository itself\n      run_suppress_output \"pkgrepo remove -s 'file:///etc/puppetlabs/installer/solaris.repo' '*' || :\"\n      ;;\n    *)\n      # Don't remove anything\n      ;;\n  esac\n}\n\n# Echo back either the AIO puppet bin dir path, or PE 3.x pe-agent\n# puppet bin dir.\npuppet_bin_dir() {\n    if [ -e \"${PUPPET_BIN_DIR?}\" ]; then\n        t_puppet_bin_dir=\"${PUPPET_BIN_DIR?}\"\n    else\n        t_puppet_bin_dir=/opt/puppet/bin\n    fi\n    echo \"${t_puppet_bin_dir?}\"\n}\n\n# On solaris, `which` always returns 0, even if the binary does not exist. This\n# wrapper calls `ksh whence` on solaris, which accomplishes what we want, and\n# which on other platforms.\nwherefore() {\n  if [ \"x${PLATFORM_NAME?}\" = \"xsolaris\" ] ; then\n    ksh whence ${1?} 2> /dev/null\n  else\n    which ${1?} 2> /dev/null\n  fi\n  return $?\n}\n\n# Run puppet resource with the given arguments.\npuppet_resource() {\n  run_suppress_stdout \"$(puppet_bin_dir)/puppet resource --modulepath=${MODULE_DIR?} --no-storeconfigs $@\"\n}\n\n# END utilities\n\n#===[ Variables ]=======================================================\n\n# Variables that hold lists of dirs, files, users, services to kill/remove\n## Because the database files are in /opt/puppet/var/lib/pgsql, we have to tiptoe\n## around that directory when clearing things out of /opt/puppet\nt_pe_uninstall_dirs=\"/opt/puppet/activemq /opt/puppet/bin /opt/puppet/include /opt/puppet/lib /opt/puppet/libexec /opt/puppet/pe_version /opt/puppet/pe_build /opt/puppet/sbin /opt/puppet/share /opt/puppet/var/www /var/opt/lib/pe-puppet /var/opt/lib/pe-puppetmaster /var/opt/cache/pe-puppet-dashboard /var/log/pe-*\"\nt_pe_uninstall_dirs=\"${t_pe_uninstall_dirs} /opt/puppetlabs/bin/puppet-enterprise-uninstaller /opt/puppetlabs/bin/puppet-infra /opt/puppetlabs/bin/puppet-infrastructure /opt/puppetlabs/puppet /opt/puppetlabs/mcollective /opt/puppetlabs/server/apps /opt/puppetlabs/server/bin /opt/puppetlabs/server/pe_* /opt/puppetlabs/server/share\"\nt_pe_purge_dirs=\"/etc/puppetlabs /var/run/pe-memcached /var/opt/lib/pe-puppet /var/lib/peadmin /var/pkg/lost+found/etc/puppetlabs* /var/pkg/lost+found/opt/puppet* /var/log/puppetlabs /var/cache/puppetlabs /var/run/puppetlabs /run/puppetlabs\"\nt_pe_files=\"/etc/init.d/pe-* /var/run/pe-*/* /var/run/pe-* /var/lock/subsys/pe-* /var/lock/pe-* /var/svc/manifest/network/pe-* /var/svc/manifest/network/puppet* /lib/svc/method/pe-*\"\nt_pe_processes=\"puppetagent pe-puppetserver pe-console-services pe-puppet pe-puppet-agent pe-mcollective pe-nginx pe-activemq pe-puppet-dashboard-workers pe-puppetdb pe-postgresql puppet pe-orchestration-services pe-bolt-server pe-ace-server\"\nt_pe_users_and_groups=\"pe-webserver pe-puppet puppet-dashboard pe-activemq peadmin pe-mco mco pe-auth pe-puppetdb pe-postgres pe-console-services pe-orchestration-services pe-bolt-server pe-ace-server\"\nt_pe_uninstall_db_dirs=\"/opt/puppet /opt/puppetlabs/puppet /opt/puppetlabs/server\"\nt_pe_packages_to_check='^(pe-.*|puppet-agent)$'\nt_pe_symlinks=\"puppet facter puppet-module mco pe-man hiera r10k\"\nt_pe_cronjobs=(report_baseline pe-mcollective-metadata pe-puppet-console-prune-task \"create tar.gz of pluginsync cache\" \"puppet infra recover_configuration\")\nt_pe_crond_files=\"default-add-all-nodes\"\nt_pe_db_answers_file=\"/etc/puppetlabs/installer/database_info.install\"\n\n#===[ Functions ]=======================================================\n\n# Display uninstaller usage information, optionally display error message.\n#\n# Arguments:\n# 1. Error message to display. Optional.\ndisplay_uninstall_usage() {\n    t_display_usage__error=\"${1:-\"\"}\"\n\n    display \"\nUSAGE: $(basename \"${0?}\") [-a ANSWER_FILE] [-A ANSWER_FILE] [-d] [-h] [-l LOG_FILE] [-n] [-p] [-y]\n\nOPTIONS:\n    -a ANSWER_FILE\n        Read answers from file and quit with error if an answer is missing.\n    -A ANSWER_FILE\n        Read answers from file and prompt for input if an answer is missing.\n    -d\n        Also remove any databases during the uninstall.\n    -h\n        Display this help screen\n    -l LOG_FILE\n        Log commands and results to file.\n    -n\n        Run in 'noop' mode; show commands that would have been run\n        during installation without running them.\n    -p\n        Perform a 'purge', a full uninstall of Puppet Enterprise. Remove\n        all configuration files and user home directories in addition\n        to the standard uninstall. Puppet Enterprise databases and database\n        users will not be removed unless the -d flag is also passed.\n    -y\n        Assume yes to 'Are you sure?'\n\"\n\n    if [ -n \"${t_display_usage__error?}\" ]; then\n        display_newline\n        display_failure \"${t_display_usage__error?}\"\n    else\n        display_footer\n        quit\n    fi\n}\n\n#...[ Handle process ]..................................................\n\nhandle_process() {\n  case \"${1?}\" in\n    pe-puppet)\n      case \"${PLATFORM_NAME}\" in\n        debian|ubuntu|el|sles|solaris|cumulus)\n          PROC=\"-f '/opt/puppetlabs/puppet/bin/puppet([[:space:]]|$)'\"\n          ;;\n        aix)\n          PROC=\"pe-puppet\"\n          ;;\n        *)\n          return 0\n          ;;\n      esac\n    ;;\n    pe-puppet-agent)\n      if [ \"$PLATFORM_NAME\" = \"debian\" ] || [ \"$PLATFORM_NAME\" = \"ubuntu\" ]; then\n        PROC=\"-f '/opt/puppetlabs/puppet/bin/puppet([[:space:]]|$)'\"\n      else\n        return 0\n      fi\n    ;;\n    puppetagent)\n      if [ \"$PLATFORM_NAME\" = \"solaris\" ]; then\n        PROC=\"-f '/opt/puppetlabs/puppet/bin/puppet([[:space:]]|$)'\"\n      else\n        return 0\n      fi\n    ;;\n    puppet)\n      if [ \"$PLATFORM_NAME\" = \"solaris\" ]; then\n        PROC=\"-f '/opt/puppetlabs/puppet/bin/puppet([[:space:]]|$)'\"\n      else\n        return 0\n      fi\n    ;;\n\n    pe-console-services)\n      case \"${PLATFORM_NAME}\" in\n        aix|solaris)\n          return 0\n          ;;\n        *)\n          PROC=\"-f /opt/puppetlabs/server/apps/console-services/console-services-release.jar\"\n          ;;\n      esac\n    ;;\n\n    pe-nginx)\n      case \"${PLATFORM_NAME}\" in\n        aix|solaris)\n          return 0\n          ;;\n        *)\n          PROC=\"-f /opt/puppetlabs/server/bin/nginx\"\n          ;;\n      esac\n    ;;\n\n    pe-activemq)\n      case \"${PLATFORM_NAME}\" in\n        aix|solaris)\n          return 0\n          ;;\n        *)\n          PROC=\"-f /opt/puppetlabs/server/apps/activemq/bin/activemq.jar\"\n          ;;\n        esac\n    ;;\n\n    pe-mcollective)\n      if [ \"${PLATFORM_NAME}\" = \"aix\" ] ; then\n        PROC=\"pe-mcollective\"\n      else\n        PROC=\"-f /opt/puppetlabs/puppet/bin/mcollectived\"\n      fi\n    ;;\n\n    pe-puppet-dashboard-workers)\n      case \"${PLATFORM_NAME}\" in\n        aix|solaris)\n          return 0\n          ;;\n        *)\n          PROC=\"delayed_job\"\n          ;;\n        esac\n    ;;\n\n    pe-puppetdb)\n      case \"${PLATFORM_NAME}\" in\n        aix|solaris)\n          return 0\n          ;;\n        *)\n          PROC=\"-f /opt/puppetlabs/server/apps/puppetdb/puppetdb-release.jar\"\n          ;;\n      esac\n    ;;\n\n    pe-postgresql)\n      case \"${PLATFORM_NAME}\" in\n        aix|solaris)\n          return 0\n          ;;\n        *)\n          PROC=\"-f /opt/puppetlabs/server/apps/postgresql/bin/postgres\"\n          ;;\n      esac\n    ;;\n\n    pe-puppetserver)\n      case \"${PLATFORM_NAME}\" in\n        aix|solaris)\n          return 0\n          ;;\n        *)\n          PROC=\"-f /opt/puppetlabs/server/apps/puppetserver/puppet-server-release.jar\"\n          ;;\n        esac\n        ;;\n\n    pe-orchestration-services)\n      case \"${PLATFORM_NAME}\" in\n        aix|solaris)\n          return 0\n          ;;\n        *)\n          PROC=\"-f /opt/puppetlabs/server/apps/orchestration-services/orchestration-services-release.jar\"\n          ;;\n        esac\n        ;;\n\n   pe-bolt-server)\n      case \"${PLATFORM_NAME}\" in\n        aix|solaris)\n          return 0\n          ;;\n        *)\n          PROC=\"bolt-server\"\n          ;;\n        esac\n        ;;\n\n   pe-ace-server)\n      case \"${PLATFORM_NAME}\" in\n        aix|solaris)\n          return 0\n          ;;\n        *)\n          PROC=\"ace-server\"\n          ;;\n        esac\n        ;;\n\n    *)\n\n      # Unknown process\n      fail \"Don't know how to kill process ${1?}\"\n    ;;\n  esac\n\n  if [ \"${1?}\" = \"pe-puppet-dashboard-workers\" ]; then\n    # delayed_job is known to not respond well to service commands, so we'll try\n    # using the init script, but we'll probably need to kill them.\n    # delayed_job also doesn't appear in pgrep listings so `ps -ef` is also checked for delayed_job\n    if (! stop_process ${1?}) || [ -n \"$(get_worker_pids)\" ]; then\n      PID=$(get_worker_pids)\n      if [ -n \"${PID}\" ]; then\n        for sig in \"TERM\" \"KILL\"; do\n          run \"kill -${sig} ${PID?}\"\n          sleep 3\n          PID=$(get_worker_pids)\n          # Break out if there are no PIDs remaining to kill or if they are gone (aren't responding to signals, via kill -0)\n          # kill -0 means do the processes respond to signals. this is linux specific but delayed_job and pe-puppet-dashboard\n          # won't be on solaris, as solaris is agent only.\n          if [ -z \"$PID\" ] || ! (run \"kill -0 ${PID} &> /dev/null\"); then\n            break\n          fi\n        done\n      fi\n    fi\n  else\n    # If the process didn't stop successfully or if the pgrep reports processes still alive\n    # then it gets killed, either via TERM or KILL depending.\n    if (! stop_process ${1?}) || (${PLATFORM_PGREP} $PROC &> /dev/null); then\n      kill_process \"$PROC\"\n    fi\n  fi\n}\n\n#...[ Get Worker PIDS ]...............................................\n# Wrapper to make the script more readable. This should return the pids for the pe-puppet-dashboard workers.\n#\n\nget_worker_pids() {\n    t_PID=\"$(${PLATFORM_PGREP} $PROC) $(ps -fu puppet-dashboard &> /dev/null && ps -fu puppet-dashboard | $PLATFORM_EGREP 'delayed_job' | awk '{ print $2 }' | xargs)  $(ps -fu pe-puppet-dashboard &> /dev/null && ps -fu pe-puppet-dashboard | $PLATFORM_EGREP 'delayed_job' | awk '{ print $2 }' | xargs)\"\n    r_PID=$(echo ${t_PID} | tr -d \"\\n\")\n    echo ${r_PID}\n}\n\n#...[ Stop process ]..................................................\n# Platform specific: stops the given service using init.d for linux, svcadm for solaris, or stopsrc/rmssys for AIX\n# Passes the exit status for the stop up to the calling function\n\nstop_process() {\n  case \"${PLATFORM_NAME?}\" in\n    debian|ubuntu|sles|rhel|centos|amazon|cumulus|eos)\n      if [ -f /etc/init.d/$1 ]; then\n        run \"/etc/init.d/${1?} stop\"\n        return $?\n      elif [ -f /usr/lib/systemd/system/$1.service ]; then\n        run \"/bin/systemctl stop ${1?}.service\"\n        return $?\n      fi\n    ;;\n    solaris)\n      if /usr/bin/svcs -a | grep \"${1?}\" &>/dev/null ; then\n        if /usr/bin/svcs -a | grep \"${1?}\" | grep \"online\"  &>/dev/null; then\n          if ! run \"/usr/sbin/svcadm disable -s svc:/network/${1?}\" ; then\n            return 1\n          fi\n        fi\n        if ! run \"/usr/sbin/svccfg delete svc:/network/${1?}\" ; then\n          return 1\n        fi\n      fi\n    ;;\n    aix)\n      if /bin/lssrc -s \"${1?}\" &> /dev/null ; then\n        if /bin/lssrc -s \"${1?}\" | ${PLATFORM_EGREP} -q \"active|stopping\" ; then\n          if ! run \"/bin/stopsrc -f -s ${1?}\" ; then\n            return 1\n          fi\n          sleep 5\n        fi\n      fi\n    ;;\n    *)\n      # Unsupported platform\n      fail \"Don't know how to stop process ${1?}\"\n    ;;\n  esac\n}\n\n#...[ Kill process ]..................................................\n# Kills the process(es) found by the given pgrep arguments first by\n# signaling TERM and then by KILL. It bails out after term if the\n# processes have died.\n\nkill_process() {\n  PID=$(${PLATFORM_PGREP} ${1?} | xargs)\n  PIDS=$(echo ${PID} | tr -d \"\\n\")\n  if [ -n \"$PIDS\" ]; then\n    for sig in \"TERM\" \"KILL\"; do\n      run \"kill -${sig} ${PIDS?}\"\n      sleep 5\n      PID=$(${PLATFORM_PGREP} ${1?} | xargs)\n      PIDS=$(echo ${PID} | tr -d \"\\n\")\n      if [ -z \"$PIDS\" ]; then\n        break\n      fi\n    done\n  fi\n}\n\n#...[ Remove user ]....................................................\n# Removes the given user if it exists.\n\nremove_user() {\n  if getent passwd \"${1?}\" > /dev/null 2>&1; then\n    case \"${PLATFORM_NAME?}\" in\n      rhel | centos | ubuntu | debian | sles | solaris | amazon | cumulus | eos)\n        run \"/usr/sbin/userdel ${1?}\"\n      ;;\n      *)\n        fail \"Unknown platform name, can't remove user\"\n      ;;\n    esac\n  fi\n}\n\n#...[ Remove groups ]....................................................\n# Removes the given group if it exists.\n\nremove_group() {\n  if getent group \"${1?}\" > /dev/null 2>&1; then\n    case \"${PLATFORM_NAME?}\" in\n      rhel | centos | ubuntu | debian | sles | solaris | amazon | cumulus | eos)\n        run \"/usr/sbin/groupdel ${1?}\"\n      ;;\n      *)\n        fail \"Unknown platform name, can't remove user\"\n      ;;\n    esac\n  fi\n}\n\n#...[ Remove packages ]..................................................\n# Removes all of the pe-specific packages for each of the three package managers.\n\nremove_pe_packages() {\n  # NONPORTABLE\n  case \"${PLATFORM_PACKAGING?}\" in\n    rpm)\n      # First pass, standard uninstall\n      packages_to_remove=\"$(rpm -qa --queryformat '%{NAME}\\n' | ${PLATFORM_EGREP?} ${t_pe_packages_to_check?} | xargs)\"\n      command_to_remove_packages=\"rpm -e --allmatches ${packages_to_remove?}\"\n      if [ -n \"${packages_to_remove?}\" ]; then\n        if [ \"x${PLATFORM_NAME}\" = \"xaix\" ]; then\n          run \"${command_to_remove_packages?} 2>${WORKDIR?}/aix.rpm.errors\"\n          remove_empty_directories\n        else\n          run \"${command_to_remove_packages?}\"\n        fi\n      fi\n\n      # Some of the preun scriptlets break standard uninstall, so anything left standing needs to cleaned up.\n      packages_to_remove=\"$(rpm -qa --queryformat '%{NAME}\\n' | ${PLATFORM_EGREP?} ${t_pe_packages_to_check?} | xargs)\"\n      command_to_remove_packages=\"rpm -e --noscripts --allmatches ${packages_to_remove?}\"\n      if [ -n \"${packages_to_remove?}\" ]; then\n        if [ \"x${PLATFORM_NAME}\" = \"xaix\" ]; then\n          run \"${command_to_remove_packages?} 2>${WORKDIR?}/aix.rpm.errors\"\n          remove_empty_directories\n        else\n          run \"${command_to_remove_packages?}\"\n        fi\n      fi\n    ;;\n    dpkg)\n      packages_to_remove=\"$(dpkg-query --show --showformat '${Package}\\n' | ${PLATFORM_EGREP?} ${t_pe_packages_to_check?} | xargs)\"\n      if is_purge; then\n        command_to_remove_packages=\"dpkg -P ${packages_to_remove?}\"\n      else\n        command_to_remove_packages=\"dpkg -r ${packages_to_remove?}\"\n      fi\n\n      if [ -n \"${packages_to_remove?}\" ]; then\n        run \"${command_to_remove_packages?}\"\n      fi\n    ;;\n    pkgadd)\n      packages_to_remove=\"$(pkginfo | ${PLATFORM_EGREP?} \"(PUP|puppet-agent)\" | cut -d ' ' -f 2 | xargs)\"\n      if is_noop; then\n        run \"pkgrm -A -n ${packages_to_remove} &> /dev/null\"\n      else\n        trap : SIGTERM\n        # Solaris 10 will not non-interactively uninstall packages with\n        # scripts without a modified admin file\n        run \"tmpdir=$(/usr/bin/mktemp -t -d tmp.puppet-enterprise-uninstaller.XXXXXX)\"\n        run \"echo \"action=nocheck\" > ${tmpdir}/action.txt\"\n        while [ -n \"${packages_to_remove}\" ]; do\n          packages_to_remove=\"$(pkginfo | ${PLATFORM_EGREP?} \"(PUP|puppet-agent)\" | cut -d ' ' -f 2 | xargs)\"\n          for pkg in $packages_to_remove; do\n            run \"pkgrm -a ${tmpdir}/action.txt -A -n ${pkg} &> /dev/null\"\n          done\n        done\n        run \"rm -rf ${tmpdir}\"\n        trap - SIGTERM\n      fi\n    ;;\n    ips)\n      packages_to_remove=\"$(pkg list | ${PLATFORM_EGREP?} '^(system/management/pe-.*|puppet-agent) (puppetlabs.com)*' | cut -d' ' -f1 | xargs)\"\n      command_to_remove_packages=\"pkg uninstall ${packages_to_remove}\"\n      if [ -n \"${packages_to_remove}\" ] ; then\n        if is_purge ; then\n          run_suppress_output \"${command_to_remove_packages}\"\n        else\n          run_suppress_stdout \"${command_to_remove_packages}\"\n        fi\n      fi\n      ;;\n    *)\n      fail \"Unknown platform packaging system, can't remove packages\"\n    ;;\n  esac\n}\n\n# copies and timestamps an answers file to /tmp, if it exists and is readable.\n# echo the backup target back to the caller. Never fail on this though, this is not\n# a deal-breaker for the uninstall\n# Arguments:\n# 1. The answers file to back up\nbackup_answers_file() {\n  t_answers_file=\"${1?}\"\n  t_backup_target_file=\"$(basename ${1?}).`date '+%Y%m%dT%H%M%S'`.bak\"\n  if [ -r \"${t_answers_file}\" ] ; then\n    run_suppress_output \"cp -a ${t_answers_file} /tmp/${t_backup_target_file}\" || true\n    run_suppress_output \"chmod 600 /tmp/${t_backup_target_file}\" || true\n  fi\n  echo \"/tmp/${t_backup_target_file}\"\n}\n\n#...[ Remove crons ]..........................................................\n\nremove_cron() {\n  # First remove the cron resources if they exist\n  for cron in \"${t_pe_cronjobs[@]}\"; do\n    if run \"/opt/puppetlabs/puppet/bin/puppet resource cron | ${PLATFORM_EGREP?} '${cron?}'\" &> /dev/null; then\n      run \"/opt/puppetlabs/puppet/bin/puppet resource cron '${cron?}' ensure=absent\"\n    fi\n  done\n\n  # Next remove our job(s) in /etc/cron.d if it exists\n  for cron in $t_pe_crond_files; do\n    [ -f /etc/cron.d/${cron?} ] && run \"rm -rf '/etc/cron.d/${cron?}'\"\n  done\n}\n\nfail() {\n  echo \"!! ERROR: ${1?}\"\n  exit 1\n}\n\nstatus() {\n  echo \"## ${1?}\"\n}\n\nstop_pe_processes() {\n  # Abstraction layer. This calls down to stop or kill each of the PE services.\n  for process in $t_pe_processes; do\n    handle_process \"${process?}\"\n  done\n}\n\nis_purge() {\n  if [ y = \"${q_pe_purge:-\"\"}\" ]; then\n    return 0\n  else\n    return 1\n  fi\n}\n\nis_remove_db() {\n  if [ y = \"${q_pe_remove_db:-\"\"}\" ]; then\n    return 0\n  else\n    return 1\n  fi\n}\n\n#===[ Setup ]===========================================================\n\nUNINSTALLER_DIR=\"$(dirname \"${0?}\")\"\n\n# Check to see if sourcing the uninstaller\n\nif [ \"puppet-enterprise-uninstaller\" = \"$(basename \"${0?}\")\" ]; then\n    register_exception_handler\n    prepare_platform\n    prepare_user\n\n    IS_DEBUG=n\n    IS_NOOP=n\n    ANSWER_FILE_TO_LOAD=\n    IS_ANSWER_REQUIRED=n\n    WAS_DASHBOARD=n\n    LOGFILE=\n\n    if [ -z \"$PLATFORM_EGREP\" ]; then\n        if [ ${PLATFORM_NAME?} = \"solaris\" ]; then\n            PLATFORM_EGREP='egrep'\n        else\n            PLATFORM_EGREP='grep -E'\n        fi\n    fi\n\n    while getopts a:A:dhnpl:y option; do\n        case \"$option\" in\n            a)\n                ANSWER_FILE_TO_LOAD=\"${OPTARG?}\"\n                IS_ANSWER_REQUIRED=y\n            ;;\n            A)\n                ANSWER_FILE_TO_LOAD=\"${OPTARG?}\"\n                IS_ANSWER_REQUIRED=n\n            ;;\n            d)\n                q_pe_remove_db=y\n            ;;\n            h)\n                display_header\n                display_uninstall_usage\n            ;;\n            l)\n                LOGFILE=\"${OPTARG?}\"\n            ;;\n            n)\n                IS_NOOP=y\n                IS_DEBUG=y\n            ;;\n            p)\n                q_pe_purge=y\n            ;;\n            y)\n                q_pe_uninstall=y\n            ;;\n            ?)\n                display_header\n                display_uninstall_usage \"Illegal option specified\"\n            ;;\n        esac\n    done\n\n    if ! is_use_answers_file; then\n        if has_logfile; then\n            display_header\n            display_usage \"logfile option '-l' must be used with '-a' or '-A' options\"\n        fi\n        if is_noop; then\n            display_header\n            display_usage \"noop option '-n' must be used with '-a' or '-A' options\"\n        fi\n    fi\n\n    # Load answers if specified:\n    if [ -n \"${ANSWER_FILE_TO_LOAD?}\" ]; then\n        load_answers \"${ANSWER_FILE_TO_LOAD?}\"\n    fi\n\n    if ! is_noop; then\n        prepare_log_file 'uninstall'\n    fi\n\n    # Setup\n    display_major_separator\n    display_newline\n    display_newline\n    display_header\n    display_newline\n\n    ask q_pe_remove_db 'Remove Puppet Enterprise database?' yN\n    ask q_pe_purge 'Purge all Puppet Enterprise configuration and files from system?' yN\n\n    # Display the flags passed\n    display_newline\n    display_major_separator\n    display \"Options selected:\"\n    if is_purge; then\n        display '* Purge: Full uninstall'\n    else\n        display '* Partial uninstall (leave most configuration files and homedirs)'\n    fi\n\n    if is_noop; then\n        display '* Noop Mode: Actions will be displayed instead of performed'\n    fi\n\n    display_newline\n    display_major_separator\n    display_newline\n\n    # Make sure this is what they want.\n    if is_package_installed 'pe-puppet-dashboard'; then\n        WAS_DASHBOARD=y\n        if ! is_remove_db; then\n            display \"*** Warning: The uninstall will remove all console database configuration files, but not the database itself.\"\n        else\n            display \"*** Warning: the console databases will be completely removed.\"\n        fi\n\n        display_newline\n        display_major_separator\n        display_newline\n    fi\n\n    # Make sure this is what they want.\n    if is_package_installed 'pe-puppetdb'; then\n        if ! is_remove_db; then\n            display \"*** Warning: The uninstall will remove all puppetdb database configuration files, but not the database itself.\"\n        else\n            display \"*** Warning: the puppetdb databases will be completely removed.\"\n        fi\n\n        display_newline\n        display_major_separator\n        display_newline\n    fi\n\n    ask q_pe_uninstall 'Uninstall Puppet Enterprise?' yN\n\n    if [ ! y = \"${q_pe_uninstall?}\" ]; then\n        display_newline\n        display_major_separator\n        display_newline\n        display \"Exiting uninstaller\"\n        display_newline\n        display_major_separator\n        quit\n    fi\n\n    display_newline\n    display_major_separator\n    display_newline\n\n    # Remove PE cronjobs\n    status \"Removing PE cronjobs...\"\n    remove_cron\n\n    # Remove PE packages\n    # First stop the processes\n    status \"Stopping PE processes...\"\n    stop_pe_processes\n\n    # Then remove the packages\n    status \"Removing PE packages...\"\n    remove_pe_packages\n\n    # Remove PE users and groups\n\n    status \"Removing PE users and groups...\"\n    # First users\n    for user in $t_pe_users_and_groups; do\n        remove_user \"${user?}\"\n    done\n\n    # Then groups\n    for group in $t_pe_users_and_groups; do\n        remove_group \"${group?}\"\n    done\n\n    # Remove simplified agent repo files\n    case \"${PLATFORM_PACKAGING?}\" in\n        rpm)\n            case \"${PLATFORM_NAME?}\" in\n                sles)\n                    if zypper service-list | grep puppet_enterprise; then\n                        run \"zypper clean -r puppet_enterprise\"\n                        run \"zypper service-delete puppet_enterprise\"\n                    fi\n                    ;;\n                *)\n                    if [ -e \"/etc/yum.repos.d/puppet_enterprise.repo\" ]; then\n                        run \"yum clean all --disablerepo='*' --enablerepo=puppet_enterprise\"\n                        run \"rm -f /etc/yum.repos.d/puppet_enterprise.repo\"\n                    fi\n                    ;;\n            esac\n            ;;\n        dpkg)\n            if [ -e \"/etc/apt/sources.list.d/puppet_enterprise.list\" -o -e \"/etc/apt/apt.conf.d/90puppet_enterprise\" ]; then\n                run \"rm -f /etc/apt/sources.list.d/puppet_enterprise.list\"\n                run \"rm -f /etc/apt/apt.conf.d/90puppet_enterprise\"\n                run \"apt-get update -qq\"\n            fi\n            ;;\n        *)\n            # Don't remove anything\n            ;;\n    esac\n\n    t_sol_11_regex=\"solaris-11-(i386|sparc)\"\n    if [[ \"${PLATFORM_TAG}\" =~ $t_sol_11_regex ]] ; then\n        if [ -f \"/etc/puppetlabs/installer/solaris.repo/pkg5.repository\" ] ; then\n            remove_package_repo\n        fi\n        if run_suppress_output \"pkg publisher puppetlabs.com\" ; then\n          # First, try to remove the publisher altogether\n          if ! run_suppress_output \"pkg unset-publisher puppetlabs.com\" ; then\n            # If that doesn't work, we're in a non-global zone and the\n            # publisher is from a global zone. As such, just remove any\n            # references to the non-global zone uri.\n            run_suppress_output \"pkg set-publisher -G '*' puppetlabs.com\"\n          fi\n        fi\n    fi\n\n    # Remove PE dirs and files\n\n    status \"Removing PE directories and files...\"\n    if is_purge; then\n        # If this is a -d -p uninstall, we're going to blow away any record of the\n        # database password, leaving behind an inaccessible server. Here we\n        # back it up, if it exists\n        t_pe_db_answers_file_backup=$(backup_answers_file \"${t_pe_db_answers_file}\")\n        t_dirs_files_to_delete=\"$t_pe_uninstall_dirs $t_pe_purge_dirs $t_pe_files\"\n    else\n        t_dirs_files_to_delete=\"$t_pe_uninstall_dirs\"\n    fi\n\n    for entry in $t_dirs_files_to_delete; do\n        if [ -n \"$entry\" -a -e \"$entry\" ]; then\n            run \"rm -rf '${entry}'\"\n        fi\n    done\n    \n    # If /opt/puppetlabs/bin is empty (i.e. no installed tools outside of PE, remove it)\n    if !(find \"/opt/puppetlabs/bin\" -mindepth 1 -print -quit 2>/dev/null | grep -q .); then\n        run \"rm -rf '/opt/puppetlabs/bin'\"\n    else\n        status \"All PE files in /opt/puppetlabs/bin are removed, but the directory still contains previously installed non-PE files\"\n    fi\n\n    # Instead of indiscriminately blowing away /opt/puppetlabs on a \n    # database removal, this will ensure that no other puppet tools\n    # (i.e. Bolt) are removed when removing pieces of /opt/puppetlabs. \n    # If there are no other tools installed, however, /opt/puppetlabs \n    # will be removed\n    status \"Removing PE database files...\"\n    if is_remove_db; then\n        for entry in $t_pe_uninstall_db_dirs; do\n            if [ -n \"$entry\" -a -e \"$entry\" ]; then\n                run \"rm -rf '${entry}'\"\n            fi\n        done\n        if !(find \"/opt/puppetlabs\" -mindepth 1 -print -quit 2>/dev/null | grep -q .); then\n            run \"rm -rf '/opt/puppetlabs'\"\n        fi\n    fi\n\n    # Remove Puppet Labs GPG key unless the puppet-enterprise-release package\n    # is installed, which means they're using the key for FOSS as well\n    if is_purge && ! is_package_installed \"puppetlabs-release\" ; then\n      case \"${PLATFORM_PACKAGING?}\" in\n        rpm)\n          t_legacy_key_id=\"4bd6ec30\"\n          t_key_id=\"EF8D349F\"\n          if run_suppress_output 'rpm -qi gpg-pubkey-${t_legacy_key_id}' ; then\n              status 'Removing Puppet Labs rpm GPG key...'\n              run_suppress_output 'rpm -e gpg-pubkey-${t_legacy_key_id}'\n          fi\n          if run_suppress_output 'rpm -qi gpg-pubkey-${t_key_id}' ; then\n              status 'Removing Puppet, Inc. rpm GPG key...'\n              run_suppress_output 'rpm -e gpg-pubkey-${t_key_id}'\n          fi\n          ;;\n        dpkg)\n          t_legacy_key_id=\"4BD6EC30\"\n          t_key_id=\"EF8D349F\"\n          if run_suppress_output 'apt-key list | egrep ${t_legacy_key_id}' ; then\n              status 'Removing Puppet Labs legacy apt GPG key...'\n              run_suppress_output 'apt-key del ${t_legacy_key_id}'\n          fi\n          if run_suppress_output 'apt-key list | egrep ${t_key_id}' ; then\n              status 'Removing Puppet Labs apt GPG key...'\n              run_suppress_output 'apt-key del ${t_key_id}'\n          fi\n          ;;\n        *)\n          # Not rpm or dpkg? No keys\n          ;;\n        esac\n    fi\n\n    # Remove PE symlinks\n\n    status \"Removing PE symlinks...\"\n    # Call me paranoid, but we're going to make absolutely sure PLATFORM_SYMLINK_TARGET\n    # is set before rm -f'ing anything.\n    PLATFORM_SYMLINK_TARGET=\"${PLATFORM_SYMLINK_TARGET:=\"/usr/local/bin\"}\"\n    for link in $t_pe_symlinks; do\n        if [ -L \"${PLATFORM_SYMLINK_TARGET}/$link\" ] ; then\n          run \"rm -f '${PLATFORM_SYMLINK_TARGET?}/$link'\"\n        fi\n    done\n\n\n    # Some package cleanup\n\n    case \"${PLATFORM_NAME?}\" in\n        ubuntu|debian|cumulus)\n            status \"Removing stale dpkg state overrides...\"\n            sed -i '/^pe-puppet[[:space:]]/d' /var/lib/dpkg/statoverride\n        ;;\n    esac\n\n    # Prompt the user to remove any certificates from the master if they want to reinstall this node\n    display_newline\n    display_major_separator\n    display_newline\n\n    display \"In order to successfully reinstall the agent role on this node, you will need to remove its certificate from the Puppet master.\"\n    display \"To do that, run \\\"puppet cert clean <node name>\\\" on the Puppet master.\"\n    display_newline\n\n    if [ y = \"${WAS_DASHBOARD}\" ] ; then\n      display \"In order to successfully reinstall the console role, you will also need to remove the \\\"pe-internal-dashboard\\\" certificate.\"\n      display \"To do that, run \\\"puppet cert clean pe-internal-dashboard\\\" on the Puppet master.\"\n      display_newline\n    fi\n\n    display_major_separator\n    display_newline\n\n    #===[ Teardown ]========================================================\n    unregister_exception_handler\n    remove_workdir\n    status \"Done!\"\nfi\n#===[ Fin ]=============================================================\n"}},{"type":"Class","title":"Puppet_enterprise::Profile::Console::Certs","tags":["class","puppet_enterprise::profile::console::certs","puppet_enterprise","profile","console","certs","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console.pp","line":193,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","hostcrl":"/etc/puppetlabs/puppet/ssl/crl.pem","require":"Package[pe-console-services]"}},{"type":"Puppet_enterprise::Certs","title":"pe-console-services::server_cert","tags":["puppet_enterprise::certs","puppet_enterprise","certs","pe-console-services::server_cert","pe-console-services","server_cert","class","puppet_enterprise::profile::console::certs","profile","console","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/certs.pp","line":16,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","container":"console-services","cert_dir":"/opt/puppetlabs/server/data/console-services/certs","append_ca":false,"before":"File[/etc/puppetlabs/console-services/conf.d/webserver.conf]","make_pk8_cert":true,"group":"pe-console-services","owner":"pe-console-services","ssl_dir":"/etc/puppetlabs/puppet/ssl","full_restart":["Exec[pe-console-services service full restart]"],"package_name":"pe-console-services"}},{"type":"Class","title":"Puppet_enterprise::Packages","tags":["class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"exported":false,"parameters":{"installing":false}},{"type":"Class","title":"Puppet_enterprise::Repo","tags":["class","puppet_enterprise::repo","puppet_enterprise","repo","puppet_enterprise::packages","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":28,"exported":false,"parameters":{"installing":false}},{"type":"Class","title":"Puppet_enterprise::Repo::Config","tags":["class","puppet_enterprise::repo::config","puppet_enterprise","repo","config","puppet_enterprise::repo","puppet_enterprise::packages","packages","puppet_enterprise::profile::console","profile","console"],"exported":false,"parameters":{"master":"pe-xl-core-0.puppet.vm","manage":true}},{"type":"File","title":"/etc/yum.repos.d/pe_repo.repo","tags":["file","class","puppet_enterprise::repo::config","puppet_enterprise","repo","config","puppet_enterprise::repo","puppet_enterprise::packages","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/repo/config.pp","line":46,"exported":false,"parameters":{"ensure":"absent","mode":"0644"}},{"type":"File","title":"/etc/yum.repos.d/pc_repo.repo","tags":["file","class","puppet_enterprise::repo::config","puppet_enterprise","repo","config","puppet_enterprise::repo","puppet_enterprise::packages","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/repo/config.pp","line":49,"exported":false,"parameters":{"ensure":"absent","mode":"0644"}},{"type":"Yumrepo","title":"puppet_enterprise","tags":["yumrepo","puppet_enterprise","class","puppet_enterprise::repo::config","repo","config","puppet_enterprise::repo","puppet_enterprise::packages","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/repo/config.pp","line":53,"exported":false,"parameters":{"ensure":"present","baseurl":"file:///opt/puppetlabs/server/data/packages/public/2019.1.1/puppet_enterprise","descr":"Puppet Labs PE Packages $releasever - $basearch","enabled":true,"gpgcheck":"1","gpgkey":"file:///opt/puppetlabs/server/data/packages/public/GPG-KEY-puppet\n\tfile:///opt/puppetlabs/server/data/packages/public/GPG-KEY-puppet-2025-04-06","sslcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","sslclientcert":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","sslclientkey":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem"}},{"type":"Package","title":"pe-bundler","tags":["package","pe-bundler","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":38,"exported":false,"parameters":{"ensure":"absent","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-postgresql-common","tags":["pe-psql-common","package","pe-postgresql-common","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":43,"exported":false,"parameters":{"tag":["pe-psql-common"],"ensure":"latest","require":["Class[Puppet_enterprise::Repo]","Class[Puppet_enterprise::Postgresql::Remove]"],"allow_virtual":true,"before":["Class[Pe_postgresql::Client]","Class[Pe_postgresql::Server]","Class[Pe_postgresql::Server::Contrib]"]}},{"type":"Package","title":"pe-postgresql96-pglogical","tags":["pe-psql-pglogical","package","pe-postgresql96-pglogical","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":50,"exported":false,"parameters":{"tag":["pe-psql-pglogical"],"ensure":"latest","require":"Package[postgresql-server]","allow_virtual":true}},{"type":"Package","title":"pe-postgresql96-pgrepack","tags":["pe-database-extensions","package","pe-postgresql96-pgrepack","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":56,"exported":false,"parameters":{"tag":["pe-database-extensions"],"ensure":"latest","require":"Package[postgresql-server]","allow_virtual":true}},{"type":"Package","title":"pe-java","tags":["pe-master-packages","pe-puppetdb-packages","pe-console-packages","pe-razor-packages","package","pe-java","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":62,"exported":false,"parameters":{"tag":["pe-master-packages","pe-puppetdb-packages","pe-console-packages","pe-razor-packages"],"ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true,"before":"Class[Puppet_enterprise::Profile::Console::Console_services_config]"}},{"type":"Package","title":"pe-puppetdb","tags":["pe-puppetdb-packages","package","pe-puppetdb","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":71,"exported":false,"parameters":{"tag":"pe-puppetdb-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-console-services","tags":["pe-console-packages","package","pe-console-services","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":75,"exported":false,"parameters":{"tag":"pe-console-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true,"before":"Class[Puppet_enterprise::Profile::Console::Console_services_config]"}},{"type":"Package","title":"pe-client-tools","tags":["pe-controller-packages","package","pe-client-tools","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":79,"exported":false,"parameters":{"tag":"pe-controller-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-license","tags":["pe-master-packages","package","pe-license","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":83,"exported":false,"parameters":{"tag":"pe-master-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-puppetdb-termini","tags":["pe-master-packages","package","pe-puppetdb-termini","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":83,"exported":false,"parameters":{"tag":"pe-master-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-console-services-termini","tags":["pe-master-packages","package","pe-console-services-termini","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":83,"exported":false,"parameters":{"tag":"pe-master-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-puppetserver","tags":["pe-master-packages","package","pe-puppetserver","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":83,"exported":false,"parameters":{"tag":"pe-master-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-modules","tags":["pe-master-packages","package","pe-modules","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":83,"exported":false,"parameters":{"tag":"pe-master-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-tasks","tags":["pe-master-packages","package","pe-tasks","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":83,"exported":false,"parameters":{"tag":"pe-master-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-backup-tools","tags":["pe-master-packages","package","pe-backup-tools","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":83,"exported":false,"parameters":{"tag":"pe-master-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-installer","tags":["pe-installer-packages","package","pe-installer","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":95,"exported":false,"parameters":{"tag":"pe-installer-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-orchestration-services","tags":["pe-orchestrator-packages","package","pe-orchestration-services","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":99,"exported":false,"parameters":{"tag":"pe-orchestrator-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true,"before":["Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","Class[Puppet_enterprise::Trapperkeeper::Inventory]","Class[Puppet_enterprise::Profile::Plan_executor]"]}},{"type":"Package","title":"pe-bolt-server","tags":["pe-bolt-server-packages","package","pe-bolt-server","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":103,"exported":false,"parameters":{"tag":"pe-bolt-server-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-ace-server","tags":["pe-ace-server-packages","package","pe-ace-server","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":107,"exported":false,"parameters":{"tag":"pe-ace-server-packages","ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true}},{"type":"Package","title":"pe-puppet-enterprise-release","tags":["pe-console-packages","pe-master-packages","pe-puppetdb-packages","pe-database-packages","package","pe-puppet-enterprise-release","class","puppet_enterprise::packages","puppet_enterprise","packages","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/packages.pp","line":111,"exported":false,"parameters":{"tag":["pe-console-packages","pe-master-packages","pe-puppetdb-packages","pe-database-packages"],"ensure":"latest","require":"Class[Puppet_enterprise::Repo]","allow_virtual":true,"before":["Class[Puppet_enterprise::Profile::Console::Console_services_config]","Class[Pe_postgresql::Client]","Class[Pe_postgresql::Server]","Class[Pe_postgresql::Server::Contrib]","Package[pe-postgresql-common]"]}},{"type":"Class","title":"Puppet_enterprise::Profile::Console::Console_services_config","tags":["class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console.pp","line":218,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","listen_address":"127.0.0.1","listen_port":"4430","ssl_listen_address":"0.0.0.0","ssl_listen_port":"4431","api_listen_port":"4432","api_ssl_listen_port":"4433","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","classifier_url_prefix":"/classifier-api","activity_url_prefix":"/activity-api","rbac_url_prefix":"/rbac-api","status_proxy_enabled":false,"status_proxy_port":8123,"replication_mode":"source","notify":"Service[pe-console-services]","ssl_protocols":["TLSv1.2"],"tk_jetty_request_header_max_size":65536}},{"type":"File","title":"/etc/puppetlabs/console-services/conf.d/webserver.conf","tags":["file","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":91,"exported":false,"parameters":{"ensure":"present","mode":"0640","owner":"pe-console-services","group":"pe-console-services"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.host","tags":["pe_hocon_setting","console-services.webserver.host","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":96,"exported":false,"parameters":{"setting":"webserver.host","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.port","tags":["pe_hocon_setting","console-services.webserver.port","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":101,"exported":false,"parameters":{"setting":"webserver.port","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.ssl-host","tags":["pe_hocon_setting","console-services.webserver.ssl-host","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":106,"exported":false,"parameters":{"setting":"webserver.ssl-host","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.ssl-port","tags":["pe_hocon_setting","console-services.webserver.ssl-port","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":111,"exported":false,"parameters":{"setting":"webserver.ssl-port","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.ssl-cert","tags":["pe_hocon_setting","console-services.webserver.ssl-cert","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":116,"exported":false,"parameters":{"setting":"webserver.ssl-cert","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.ssl-key","tags":["pe_hocon_setting","console-services.webserver.ssl-key","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":121,"exported":false,"parameters":{"setting":"webserver.ssl-key","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.ssl-ca-cert","tags":["pe_hocon_setting","console-services.webserver.ssl-ca-cert","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":126,"exported":false,"parameters":{"setting":"webserver.ssl-ca-cert","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","notify":"Service[pe-console-services]"}},{"type":"Puppet_enterprise::Trapperkeeper::Webserver_settings","title":"console","tags":["puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":132,"exported":false,"parameters":{"container":"console-services","ssl_listen_address":"0.0.0.0","ssl_listen_port":4431,"ssl_cert":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ssl_key":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem","ssl_protocols":["TLSv1.2"],"localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","access_log_config":"/etc/puppetlabs/console-services/request-logging.xml","tk_jetty_request_header_max_size":65536,"default_server":true,"client_auth":"none","certname":"pe-xl-core-0.puppet.vm","hostcrl":"/etc/puppetlabs/puppet/ssl/crl.pem","container_service":"console","ssl_cipher_suites":[]}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.host","tags":["pe_hocon_setting","console-services.webserver.console.host","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":147,"exported":false,"parameters":{"setting":"webserver.console.host","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","value":"127.0.0.1","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.port","tags":["pe_hocon_setting","console-services.webserver.console.port","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":152,"exported":false,"parameters":{"setting":"webserver.console.port","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","value":"4430","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Puppet_enterprise::Trapperkeeper::Webserver_settings","title":"api","tags":["puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":158,"exported":false,"parameters":{"container":"console-services","ssl_listen_address":"0.0.0.0","ssl_listen_port":4433,"ssl_cert":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ssl_key":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem","ssl_protocols":["TLSv1.2"],"localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","access_log_config":"/etc/puppetlabs/console-services/request-logging-api.xml","certname":"pe-xl-core-0.puppet.vm","hostcrl":"/etc/puppetlabs/puppet/ssl/crl.pem","container_service":"api","client_auth":"want","ssl_cipher_suites":[]}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.host","tags":["pe_hocon_setting","console-services.webserver.api.host","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":170,"exported":false,"parameters":{"setting":"webserver.api.host","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","value":"127.0.0.1","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.port","tags":["pe_hocon_setting","console-services.webserver.api.port","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":175,"exported":false,"parameters":{"setting":"webserver.api.port","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","value":"4432","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.status-proxy","tags":["pe_hocon_setting","console-services.webserver.status-proxy","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":186,"exported":false,"parameters":{"setting":"webserver.status-proxy","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","value":{"host":"0.0.0.0","port":8123},"notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"web-router-service.\"puppetlabs.activity.services/activity-service\"","tags":["pe_hocon_setting","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":193,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.activity.services/activity-service\"","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","type":"hash","value":{"route":"/activity-api","server":"api"},"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"web-router-service.\"puppetlabs.rbac.services.http.api/rbac-http-api-service\"","tags":["pe_hocon_setting","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":200,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.rbac.services.http.api/rbac-http-api-service\"","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","type":"hash","value":{"route":"/rbac-api","server":"api"},"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"web-router-service.\"puppetlabs.pe-console-ui.service/pe-console-ui-service\".pe-console-app","tags":["pe_hocon_setting","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":207,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.pe-console-ui.service/pe-console-ui-service\".pe-console-app","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","type":"hash","value":{"route":"/","server":"console"},"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"web-router-service.\"puppetlabs.pe-console-auth-ui.service/pe-console-auth-ui-service\".authn-app","tags":["pe_hocon_setting","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":214,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.pe-console-auth-ui.service/pe-console-auth-ui-service\".authn-app","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","type":"hash","value":{"route":"/auth","server":"console"},"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"web-router-service.\"puppetlabs.classifier.main/classifier-service\"","tags":["pe_hocon_setting","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":221,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.classifier.main/classifier-service\"","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","type":"hash","value":{"route":"/classifier-api","server":"api"},"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"web-router-service.\"puppetlabs.trapperkeeper.services.status.status-service/status-service\"","tags":["pe_hocon_setting","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":228,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.trapperkeeper.services.status.status-service/status-service\"","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","type":"hash","value":{"route":"/status","server":"api"},"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"web-router-service.\"puppetlabs.trapperkeeper.services.status.status-proxy-service/status-proxy-service\"","tags":["pe_hocon_setting","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":235,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.trapperkeeper.services.status.status-proxy-service/status-proxy-service\"","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","type":"hash","value":{"route":"/status","server":"status-proxy"},"notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"web-router-service.\"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-webservice\"","tags":["pe_hocon_setting","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":243,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-webservice\"","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","type":"hash","value":{"route":"/metrics","server":"api"},"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"status-proxy","tags":["pe_hocon_setting","status-proxy","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":250,"exported":false,"parameters":{"setting":"status-proxy","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","type":"hash","value":{"proxy-target-url":"https://127.0.0.1:4433/status","ssl-opts":{"ssl-cert":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ssl-key":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem","ssl-ca-cert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem"}},"notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"web-router-service.remove-rbac-ui-service","tags":["pe_hocon_setting","web-router-service.remove-rbac-ui-service","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":261,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.rbac-ui.service/rbac-ui-service\"","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"web-router-service.remove-helpers-service","tags":["pe_hocon_setting","web-router-service.remove-helpers-service","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":267,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.proxy.services.proxy/helpers-service\"","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"web-router-service.remove-classifier-ui-service","tags":["pe_hocon_setting","web-router-service.remove-classifier-ui-service","class","puppet_enterprise::profile::console::console_services_config","puppet_enterprise","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":273,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.classifier-ui.service/classifier-ui-service\"","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf","notify":"Service[pe-console-services]"}},{"type":"Puppet_enterprise::Trapperkeeper::Global_settings","title":"console-services","tags":["puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","console-services","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/console_services_config.pp","line":281,"exported":false,"parameters":{"version_path":"/opt/puppetlabs/server/pe_version","login_path":"/auth/login","replication_mode":"source","container":"console-services","certname":"pe-xl-core-0.puppet.vm","service_user":"pe-console-services","service_group":"pe-console-services"}},{"type":"Puppet_enterprise::Trapperkeeper::Activity","title":"console-services","tags":["puppet_enterprise::trapperkeeper::activity","puppet_enterprise","trapperkeeper","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console.pp","line":236,"exported":false,"parameters":{"database_host":"pe-xl-core-0.puppet.vm","database_port":5432,"database_name":"pe-activity","database_user":"pe-activity-write","database_migration_user":"pe-activity","database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","rbac_host":"127.0.0.1","rbac_port":"4432","rbac_url_prefix":"/rbac-api","notify":"Service[pe-console-services]","container":"console-services","group":"pe-console-services","user":"pe-console-services"}},{"type":"Puppet_enterprise::Trapperkeeper::Rbac","title":"console-services","tags":["puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console.pp","line":250,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","database_host":"pe-xl-core-0.puppet.vm","database_port":5432,"database_name":"pe-rbac","database_user":"pe-rbac-write","database_migration_user":"pe-rbac","database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","token_maximum_lifetime":"10y","notify":"Service[pe-console-services]","container":"console-services","group":"pe-console-services","user":"pe-console-services"}},{"type":"File","title":"/etc/puppetlabs/console-services/rbac-certificate-whitelist","tags":["file","class","puppet_enterprise::profile::console","puppet_enterprise","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console.pp","line":270,"exported":false,"parameters":{"ensure":"file","group":"pe-console-services","owner":"pe-console-services","mode":"0640"}},{"type":"Puppet_enterprise::Certs::Whitelist_entry","title":"rbac cert whitelist entry: pe-xl-core-0.puppet.vm","tags":["puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console.pp","line":300,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","target":"/etc/puppetlabs/console-services/rbac-certificate-whitelist","notify":"Service[pe-console-services]","require":"File[/etc/puppetlabs/console-services/rbac-certificate-whitelist]"}},{"type":"Puppet_enterprise::Certs::Whitelist_entry","title":"rbac cert whitelist entry: pe-xl-compiler-0.puppet.vm","tags":["puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console.pp","line":300,"exported":false,"parameters":{"certname":"pe-xl-compiler-0.puppet.vm","target":"/etc/puppetlabs/console-services/rbac-certificate-whitelist","notify":"Service[pe-console-services]","require":"File[/etc/puppetlabs/console-services/rbac-certificate-whitelist]"}},{"type":"Puppet_enterprise::Certs::Whitelist_entry","title":"rbac cert whitelist entry: pe-xl-core-1.puppet.vm","tags":["puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console.pp","line":300,"exported":false,"parameters":{"certname":"pe-xl-core-1.puppet.vm","target":"/etc/puppetlabs/console-services/rbac-certificate-whitelist","notify":"Service[pe-console-services]","require":"File[/etc/puppetlabs/console-services/rbac-certificate-whitelist]"}},{"type":"Puppet_enterprise::Trapperkeeper::Classifier","title":"console-services","tags":["puppet_enterprise::trapperkeeper::classifier","puppet_enterprise","trapperkeeper","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console.pp","line":308,"exported":false,"parameters":{"master_host":"pe-xl-core-0.puppet.vm","master_port":8140,"database_host":"pe-xl-core-0.puppet.vm","database_port":5432,"database_name":"pe-classifier","database_user":"pe-classifier-write","database_migration_user":"pe-classifier","database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","client_certname":"pe-xl-core-0.puppet.vm","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","synchronization_period":600,"prune_days_threshold":7,"allow_config_data":true,"node_check_in_storage":false,"notify":"Service[pe-console-services]","container":"console-services","group":"pe-console-services","user":"pe-console-services"}},{"type":"Class","title":"Puppet_enterprise::Console_services","tags":["class","puppet_enterprise::console_services","puppet_enterprise","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console.pp","line":327,"exported":false,"parameters":{"client_certname":"pe-xl-core-0.puppet.vm","master_host":"pe-xl-core-0.puppet.vm","classifier_host":"127.0.0.1","classifier_port":"4432","classifier_url_prefix":"/classifier-api","puppetdb_host":["pe-xl-core-0.puppet.vm"],"puppetdb_port":[8081],"rbac_host":"127.0.0.1","rbac_port":"4432","activity_host":"127.0.0.1","activity_port":"4432","activity_url_prefix":"/activity-api","orchestrator_host":"pe-xl-core-0.puppet.vm","orchestrator_port":8143,"orchestrator_url_prefix":"/orchestrator","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","java_args":{"Xmx":"768m","Xms":"256m"},"status_proxy_enabled":false,"pcp_timeout":5,"service_alert_timeout":5000,"display_local_time":false,"session_maximum_lifetime":"","replication_mode":"source","inventory_host":"pe-xl-core-0.puppet.vm","inventory_port":8143,"inventory_url_prefix":"/inventory","proxy_idle_timeout":60,"master_port":8140,"query_cache_ttl":30000,"service_stop_retries":60,"start_timeout":300,"pcp_broker_host":"pe-xl-core-0.puppet.vm","pcp_broker_port":8142,"agent_installer_host":"puppet-xl.vm","agent_installer_port":8140}},{"type":"Puppet_enterprise::Trapperkeeper::Console_services","title":"console-services","tags":["puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/console_services.pp","line":52,"exported":false,"parameters":{"client_certname":"pe-xl-core-0.puppet.vm","proxy_idle_timeout":60,"master_host":"pe-xl-core-0.puppet.vm","master_port":8140,"orchestrator_host":"pe-xl-core-0.puppet.vm","orchestrator_port":8143,"orchestrator_url_prefix":"/orchestrator","inventory_host":"pe-xl-core-0.puppet.vm","inventory_port":8143,"inventory_url_prefix":"/inventory","classifier_host":"127.0.0.1","classifier_port":"4432","classifier_url_prefix":"/classifier-api","puppetdb_host":["pe-xl-core-0.puppet.vm"],"puppetdb_port":[8081],"rbac_host":"127.0.0.1","rbac_port":"4432","activity_host":"127.0.0.1","activity_port":"4432","activity_url_prefix":"/activity-api","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","status_proxy_enabled":false,"pcp_timeout":5,"service_alert_timeout":5000,"display_local_time":false,"session_maximum_lifetime":"","replication_mode":"source","query_cache_ttl":30000,"agent_installer_host":"puppet-xl.vm","agent_installer_port":8140,"require":"Package[pe-console-services]","notify":"Service[pe-console-services]","container":"console-services","group":"pe-console-services","rbac_url_prefix":"/rbac-api","user":"pe-console-services","status_services":[]}},{"type":"Puppet_enterprise::Trapperkeeper::Java_args","title":"console-services","tags":["puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/console_services.pp","line":91,"exported":false,"parameters":{"java_args":{"Xmx":"768m","Xms":"256m"},"enable_gc_logging":true,"container":"console-services","initconfdir":"/etc/sysconfig"}},{"type":"Puppet_enterprise::Trapperkeeper::Init_defaults","title":"console-services","tags":["puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/console_services.pp","line":96,"exported":false,"parameters":{"service_stop_retries":60,"start_timeout":300,"container":"console-services","user":"pe-console-services","group":"pe-console-services"}},{"type":"Puppet_enterprise::Trapperkeeper::Pe_service","title":"console-services","tags":["puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/console_services.pp","line":101,"exported":false,"parameters":{"container":"console-services","ensure":"running","enable":true}},{"type":"Class","title":"Puppet_enterprise::Profile::Console::Proxy","tags":["class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console.pp","line":355,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","trapperkeeper_proxy_listen_address":"127.0.0.1","trapperkeeper_proxy_listen_port":"4430","proxy_read_timeout":120,"ssl_listen_address":"0.0.0.0","ssl_listen_port":443,"replication_mode":"source","require":"Class[Puppet_enterprise::Profile::Console::Certs]","server_name":"pe-xl-core-0.puppet.vm","dhparam_file":"/etc/puppetlabs/nginx/dhparam_puppetproxy.pem","ssl_ciphers":["ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-AES256-GCM-SHA384","DHE-RSA-AES128-GCM-SHA256","DHE-DSS-AES128-GCM-SHA256","kEDH+AESGCM","ECDHE-RSA-AES128-SHA256","ECDHE-ECDSA-AES128-SHA256","ECDHE-RSA-AES128-SHA","ECDHE-ECDSA-AES128-SHA","ECDHE-RSA-AES256-SHA384","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES256-SHA","ECDHE-ECDSA-AES256-SHA","DHE-RSA-AES128-SHA256","DHE-RSA-AES128-SHA","DHE-DSS-AES128-SHA256","DHE-RSA-AES256-SHA256","DHE-DSS-AES256-SHA","DHE-RSA-AES256-SHA","ECDHE-RSA-DES-CBC3-SHA","ECDHE-ECDSA-DES-CBC3-SHA","!aNULL","!eNULL","!EXPORT","!DES","!RC4","!MD5","!PSK","!aECDH","!EDH-DSS-DES-CBC3-SHA","!EDH-RSA-DES-CBC3-SHA","!KRB5-DES-CBC3-SHA"],"ssl_prefer_server_ciphers":"on","ssl_protocols":["TLSv1.2"],"ssl_session_cache":"shared:SSL:50m","ssl_session_timeout":"1d","ssl_verify_client":"off","ssl_verify_depth":1,"nginx_gzip":"on"}},{"type":"Class","title":"Pe_nginx","tags":["class","pe_nginx","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"exported":false,"parameters":{"ensure":"running","enable":true}},{"type":"Class","title":"Pe_nginx::Params","tags":["class","pe_nginx::params","pe_nginx","params","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"exported":false},{"type":"Package","title":"pe-nginx","tags":["package","pe-nginx","class","pe_nginx","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/init.pp","line":19,"exported":false,"parameters":{"ensure":"latest"}},{"type":"Service","title":"pe-nginx","tags":["service","pe-nginx","class","pe_nginx","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/init.pp","line":24,"exported":false,"parameters":{"ensure":"running","enable":true,"hasrestart":true,"require":"Package[pe-nginx]"}},{"type":"File","title":"/etc/puppetlabs/nginx/conf.d/proxy.conf","tags":["file","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":76,"exported":false,"parameters":{"ensure":"file","owner":"root","group":"root","mode":"0644","notify":"Service[pe-nginx]","require":"Puppet_enterprise::Certs[pe-console-services::server_cert]"}},{"type":"File","title":"/etc/puppetlabs/nginx/dhparam_puppetproxy.pem","tags":["file","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":86,"exported":false,"parameters":{"ensure":"file","source":"puppet:///modules/puppet_enterprise/console/dhparam_puppetproxy.pem","owner":"root","group":"root","mode":"0644","notify":"Service[pe-nginx]"}},{"type":"Class","title":"Puppet_enterprise::Profile::Console::Proxy::Nginx_conf","tags":["class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":95,"exported":false,"parameters":{"gzip":"on","nginx_config_file":"/etc/puppetlabs/nginx/nginx.conf","gzip_comp_level":5,"gzip_min_length":256,"gzip_proxied":"any","gzip_vary":"on","gzip_types":["application/atom+xml","application/javascript","application/json","application/ld+json","application/manifest+json","application/rss+xml","application/vnd.geo+json","application/vnd.ms-fontobject","application/x-font-ttf","application/x-web-app-manifest+json","application/xhtml+xml","application/xml","font/opentype","image/bmp","image/svg+xml","image/x-icon","text/cache-manifest","text/css","text/plain","text/vcard","text/vnd.rim.location.xloc","text/vtt","text/x-component","text/x-cross-domain-policy","text/javascript"]}},{"type":"Pe_nginx::Directive","title":"gzip","tags":["pe_nginx::directive","pe_nginx","directive","gzip","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy/nginx_conf.pp","line":58,"exported":false,"parameters":{"directive_ensure":"present","value":"on","target":"/etc/puppetlabs/nginx/nginx.conf","notify":"Service[pe-nginx]","directive_name":"gzip","replace_value":true}},{"type":"Pe_nginx::Directive","title":"gzip_comp_level","tags":["pe_nginx::directive","pe_nginx","directive","gzip_comp_level","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy/nginx_conf.pp","line":68,"exported":false,"parameters":{"directive_ensure":"present","value":5,"target":"/etc/puppetlabs/nginx/nginx.conf","notify":"Service[pe-nginx]","directive_name":"gzip_comp_level","replace_value":true}},{"type":"Pe_nginx::Directive","title":"gzip_min_length","tags":["pe_nginx::directive","pe_nginx","directive","gzip_min_length","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy/nginx_conf.pp","line":73,"exported":false,"parameters":{"directive_ensure":"present","value":256,"target":"/etc/puppetlabs/nginx/nginx.conf","notify":"Service[pe-nginx]","directive_name":"gzip_min_length","replace_value":true}},{"type":"Pe_nginx::Directive","title":"gzip_proxied","tags":["pe_nginx::directive","pe_nginx","directive","gzip_proxied","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy/nginx_conf.pp","line":78,"exported":false,"parameters":{"directive_ensure":"present","value":"any","target":"/etc/puppetlabs/nginx/nginx.conf","notify":"Service[pe-nginx]","directive_name":"gzip_proxied","replace_value":true}},{"type":"Pe_nginx::Directive","title":"gzip_vary","tags":["pe_nginx::directive","pe_nginx","directive","gzip_vary","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy/nginx_conf.pp","line":83,"exported":false,"parameters":{"directive_ensure":"present","value":"on","target":"/etc/puppetlabs/nginx/nginx.conf","notify":"Service[pe-nginx]","directive_name":"gzip_vary","replace_value":true}},{"type":"Pe_nginx::Directive","title":"gzip_types","tags":["pe_nginx::directive","pe_nginx","directive","gzip_types","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy/nginx_conf.pp","line":90,"exported":false,"parameters":{"directive_ensure":"present","value":"application/atom+xml\napplication/javascript\napplication/json\napplication/ld+json\napplication/manifest+json\napplication/rss+xml\napplication/vnd.geo+json\napplication/vnd.ms-fontobject\napplication/x-font-ttf\napplication/x-web-app-manifest+json\napplication/xhtml+xml\napplication/xml\nfont/opentype\nimage/bmp\nimage/svg+xml\nimage/x-icon\ntext/cache-manifest\ntext/css\ntext/plain\ntext/vcard\ntext/vnd.rim.location.xloc\ntext/vtt\ntext/x-component\ntext/x-cross-domain-policy\ntext/javascript","target":"/etc/puppetlabs/nginx/nginx.conf","notify":"Service[pe-nginx]","directive_name":"gzip_types","replace_value":true}},{"type":"Pe_nginx::Directive","title":"server_name","tags":["pe_nginx::directive","pe_nginx","directive","server_name","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":105,"exported":false,"parameters":{"value":"pe-xl-core-0.puppet.vm","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"server_name","replace_value":true}},{"type":"Pe_nginx::Directive","title":"listen","tags":["pe_nginx::directive","pe_nginx","directive","listen","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":114,"exported":false,"parameters":{"value":"443 ssl","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"listen","replace_value":true}},{"type":"Pe_nginx::Directive","title":"ssl_certificate","tags":["pe_nginx::directive","pe_nginx","directive","ssl_certificate","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":120,"exported":false,"parameters":{"value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"ssl_certificate","replace_value":true}},{"type":"Pe_nginx::Directive","title":"ssl_certificate_key","tags":["pe_nginx::directive","pe_nginx","directive","ssl_certificate_key","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":124,"exported":false,"parameters":{"value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"ssl_certificate_key","replace_value":true}},{"type":"Pe_nginx::Directive","title":"ssl_crl","tags":["pe_nginx::directive","pe_nginx","directive","ssl_crl","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":128,"exported":false,"parameters":{"value":"/etc/puppetlabs/puppet/ssl/crl.pem","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"ssl_crl","replace_value":true}},{"type":"Pe_nginx::Directive","title":"ssl_prefer_server_ciphers","tags":["pe_nginx::directive","pe_nginx","directive","ssl_prefer_server_ciphers","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":132,"exported":false,"parameters":{"value":"on","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"ssl_prefer_server_ciphers","replace_value":true}},{"type":"Pe_nginx::Directive","title":"ssl_ciphers","tags":["pe_nginx::directive","pe_nginx","directive","ssl_ciphers","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":136,"exported":false,"parameters":{"value":"ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:ECDHE-RSA-DES-CBC3-SHA:ECDHE-ECDSA-DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"ssl_ciphers","replace_value":true}},{"type":"Pe_nginx::Directive","title":"ssl_protocols","tags":["pe_nginx::directive","pe_nginx","directive","ssl_protocols","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":140,"exported":false,"parameters":{"value":"TLSv1.2","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"ssl_protocols","replace_value":true}},{"type":"Pe_nginx::Directive","title":"ssl_dhparam","tags":["pe_nginx::directive","pe_nginx","directive","ssl_dhparam","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":144,"exported":false,"parameters":{"value":"/etc/puppetlabs/nginx/dhparam_puppetproxy.pem","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"ssl_dhparam","replace_value":true}},{"type":"Pe_nginx::Directive","title":"ssl_verify_client","tags":["pe_nginx::directive","pe_nginx","directive","ssl_verify_client","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":148,"exported":false,"parameters":{"value":"off","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"ssl_verify_client","replace_value":true}},{"type":"Pe_nginx::Directive","title":"ssl_verify_depth","tags":["pe_nginx::directive","pe_nginx","directive","ssl_verify_depth","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":152,"exported":false,"parameters":{"value":1,"directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"ssl_verify_depth","replace_value":true}},{"type":"Pe_nginx::Directive","title":"ssl_session_timeout","tags":["pe_nginx::directive","pe_nginx","directive","ssl_session_timeout","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":156,"exported":false,"parameters":{"value":"1d","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"ssl_session_timeout","replace_value":true}},{"type":"Pe_nginx::Directive","title":"ssl_session_cache","tags":["pe_nginx::directive","pe_nginx","directive","ssl_session_cache","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":160,"exported":false,"parameters":{"value":"shared:SSL:50m","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"ssl_session_cache","replace_value":true}},{"type":"Pe_nginx::Directive","title":"proxy_pass","tags":["pe_nginx::directive","pe_nginx","directive","proxy_pass","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":166,"exported":false,"parameters":{"value":"http://127.0.0.1:4430","location_context":"/","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"proxy_pass","replace_value":true}},{"type":"Pe_nginx::Directive","title":"proxy_redirect","tags":["pe_nginx::directive","pe_nginx","directive","proxy_redirect","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":171,"exported":false,"parameters":{"value":"http://127.0.0.1:4430 /","location_context":"/","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"proxy_redirect","replace_value":true}},{"type":"Pe_nginx::Directive","title":"proxy_read_timeout","tags":["pe_nginx::directive","pe_nginx","directive","proxy_read_timeout","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":176,"exported":false,"parameters":{"value":120,"location_context":"/","directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm","directive_name":"proxy_read_timeout","replace_value":true}},{"type":"Pe_nginx::Directive","title":"proxy_set_header x-ssl-subject","tags":["pe_nginx::directive","pe_nginx","directive","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":182,"exported":false,"parameters":{"directive_name":"proxy_set_header","value":"X-SSL-Subject $ssl_client_s_dn","location_context":"/","replace_value":false,"directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm"}},{"type":"Pe_nginx::Directive","title":"proxy_set_header x-client-dn","tags":["pe_nginx::directive","pe_nginx","directive","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":189,"exported":false,"parameters":{"directive_name":"proxy_set_header","value":"X-Client-DN $ssl_client_s_dn","location_context":"/","replace_value":false,"directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm"}},{"type":"Pe_nginx::Directive","title":"proxy_set_header x-client-verify","tags":["pe_nginx::directive","pe_nginx","directive","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":196,"exported":false,"parameters":{"directive_name":"proxy_set_header","value":"X-Client-Verify $ssl_client_verify","location_context":"/","replace_value":false,"directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm"}},{"type":"Pe_nginx::Directive","title":"proxy_set_header x-forwarded-for","tags":["pe_nginx::directive","pe_nginx","directive","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":203,"exported":false,"parameters":{"directive_name":"proxy_set_header","value":"X-Forwarded-For $proxy_add_x_forwarded_for","location_context":"/","replace_value":false,"directive_ensure":"present","target":"/etc/puppetlabs/nginx/conf.d/proxy.conf","server_context":"pe-xl-core-0.puppet.vm"}},{"type":"Class","title":"Puppet_enterprise::Profile::Console::Proxy::Http_redirect","tags":["class","puppet_enterprise::profile::console::proxy::http_redirect","puppet_enterprise","profile","console","proxy","http_redirect","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy.pp","line":211,"exported":false,"parameters":{"ssl_listen_port":443,"enable_http_redirect":true,"server_name":"pe-xl-core-0.puppet.vm"}},{"type":"File","title":"/etc/puppetlabs/nginx/conf.d/http_redirect.conf","tags":["file","class","puppet_enterprise::profile::console::proxy::http_redirect","puppet_enterprise","profile","console","proxy","http_redirect","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/proxy/http_redirect.pp","line":18,"exported":false,"parameters":{"ensure":"file","owner":"root","group":"root","mode":"0644","content":"server {\n  server_name pe-xl-core-0.puppet.vm;\n  listen 80;\n  return 301 https://$server_name$request_uri;\n}\n","notify":"Service[pe-nginx]"}},{"type":"Class","title":"Puppet_enterprise::Profile::Console::Cache","tags":["class","puppet_enterprise::profile::console::cache","puppet_enterprise","profile","console","cache","puppet_enterprise::profile::console"],"exported":false,"parameters":{"cache_whitelist":{}}},{"type":"File","title":"/etc/puppetlabs/console-services/conf.d/cache.conf","tags":["file","class","puppet_enterprise::profile::console::cache","puppet_enterprise","profile","console","cache","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/cache.pp","line":12,"exported":false,"parameters":{"ensure":"file","owner":"pe-console-services","group":"pe-console-services","mode":"0640","require":"Package[pe-console-services]","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.cache-size-bytes","tags":["pe_hocon_setting","console-services.console.cache-size-bytes","class","puppet_enterprise::profile::console::cache","puppet_enterprise","profile","console","cache","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/cache.pp","line":32,"exported":false,"parameters":{"setting":"console.cache-size-bytes","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/cache.conf","require":"File[/etc/puppetlabs/console-services/conf.d/cache.conf]","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.cache-whitelist","tags":["pe_hocon_setting","console-services.console.cache-whitelist","class","puppet_enterprise::profile::console::cache","puppet_enterprise","profile","console","cache","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/console/cache.pp","line":39,"exported":false,"parameters":{"setting":"console.cache-whitelist","path":"/etc/puppetlabs/console-services/conf.d/cache.conf","value":{},"type":"hash","ensure":"present","require":"File[/etc/puppetlabs/console-services/conf.d/cache.conf]","notify":"Service[pe-console-services]"}},{"type":"Class","title":"Pe_postgresql::Globals","tags":["class","pe_postgresql::globals","pe_postgresql","globals","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":275,"exported":false,"parameters":{"user":"pe-postgres","group":"pe-postgres","client_package_name":"pe-postgresql96","server_package_name":"pe-postgresql96-server","contrib_package_name":"pe-postgresql96-contrib","service_name":"pe-postgresql","default_database":"postgres","version":"9.6","bindir":"/opt/puppetlabs/server/bin","datadir":"/opt/puppetlabs/server/data/postgresql/9.6/data","confdir":"/opt/puppetlabs/server/data/postgresql/9.6/data","psql_path":"/opt/puppetlabs/server/bin/psql","needs_initdb":true,"locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","encoding":"UTF8","pg_hba_conf_defaults":false}},{"type":"Class","title":"Puppet_enterprise::Postgresql::Client","tags":["class","puppet_enterprise::postgresql::client","puppet_enterprise","postgresql","client","puppet_enterprise::profile::database","profile","database"],"exported":false},{"type":"Class","title":"Pe_postgresql::Params","tags":["class","pe_postgresql::params","pe_postgresql","params","puppet_enterprise::postgresql::client","puppet_enterprise","postgresql","client","puppet_enterprise::profile::database","profile","database"],"exported":false},{"type":"Class","title":"Pe_postgresql::Client","tags":["class","pe_postgresql::client","pe_postgresql","client","puppet_enterprise::postgresql::client","puppet_enterprise","postgresql","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/postgresql/client.pp","line":14,"exported":false,"parameters":{"package_ensure":"latest","package_name":"pe-postgresql96","bindir":"/opt/puppetlabs/server/bin"}},{"type":"Package","title":"postgresql-client","tags":["postgresql","package","postgresql-client","class","pe_postgresql::client","pe_postgresql","client","puppet_enterprise::postgresql::client","puppet_enterprise","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/client.pp","line":8,"exported":false,"parameters":{"name":"pe-postgresql96","ensure":"latest","tag":"postgresql","allow_virtual":true}},{"type":"File","title":"/opt/puppetlabs/server/bin/validate_postgresql_connection.sh","tags":["file","class","pe_postgresql::client","pe_postgresql","client","puppet_enterprise::postgresql::client","puppet_enterprise","postgresql","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/client.pp","line":21,"exported":false,"parameters":{"ensure":"file","source":"puppet:///modules/pe_postgresql/validate_postgresql_connection.sh","owner":0,"group":0,"mode":"0755"}},{"type":"Class","title":"Puppet_enterprise::Postgresql::Remove","tags":["class","puppet_enterprise::postgresql::remove","puppet_enterprise","postgresql","remove","puppet_enterprise::postgresql::client","client","puppet_enterprise::profile::database","profile","database"],"exported":false},{"type":"Package","title":"pe-postgresql-pglogical","tags":["package","pe-postgresql-pglogical","class","puppet_enterprise::postgresql::remove","puppet_enterprise","postgresql","remove","puppet_enterprise::postgresql::client","client","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/postgresql/remove.pp","line":21,"exported":false,"parameters":{"ensure":"absent","allow_virtual":true,"before":["Package[pe-postgresql-pgrepack]"]}},{"type":"Package","title":"pe-postgresql-pgrepack","tags":["package","pe-postgresql-pgrepack","class","puppet_enterprise::postgresql::remove","puppet_enterprise","postgresql","remove","puppet_enterprise::postgresql::client","client","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/postgresql/remove.pp","line":24,"exported":false,"parameters":{"ensure":"absent","allow_virtual":true,"before":["Package[pe-postgresql-contrib]"]}},{"type":"Package","title":"pe-postgresql-contrib","tags":["package","pe-postgresql-contrib","class","puppet_enterprise::postgresql::remove","puppet_enterprise","postgresql","remove","puppet_enterprise::postgresql::client","client","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/postgresql/remove.pp","line":27,"exported":false,"parameters":{"ensure":"absent","allow_virtual":true,"before":["Package[pe-postgresql-devel]"]}},{"type":"Package","title":"pe-postgresql-devel","tags":["package","pe-postgresql-devel","class","puppet_enterprise::postgresql::remove","puppet_enterprise","postgresql","remove","puppet_enterprise::postgresql::client","client","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/postgresql/remove.pp","line":30,"exported":false,"parameters":{"ensure":"absent","allow_virtual":true,"before":["Package[pe-postgresql-server]"]}},{"type":"Package","title":"pe-postgresql-server","tags":["package","pe-postgresql-server","class","puppet_enterprise::postgresql::remove","puppet_enterprise","postgresql","remove","puppet_enterprise::postgresql::client","client","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/postgresql/remove.pp","line":33,"exported":false,"parameters":{"ensure":"absent","allow_virtual":true,"before":["Package[pe-postgresql]"]}},{"type":"Package","title":"pe-postgresql","tags":["package","pe-postgresql","class","puppet_enterprise::postgresql::remove","puppet_enterprise","postgresql","remove","puppet_enterprise::postgresql::client","client","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/postgresql/remove.pp","line":36,"exported":false,"parameters":{"ensure":"absent","allow_virtual":true}},{"type":"Class","title":"Pe_postgresql::Server::Contrib","tags":["class","pe_postgresql::server::contrib","pe_postgresql","server","contrib","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":297,"exported":false,"parameters":{"package_ensure":"latest","package_name":"pe-postgresql96-contrib"}},{"type":"Package","title":"postgresql-contrib","tags":["postgresql","package","postgresql-contrib","class","pe_postgresql::server::contrib","pe_postgresql","server","contrib","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/contrib.pp","line":8,"exported":false,"parameters":{"name":"pe-postgresql96-contrib","ensure":"latest","tag":"postgresql","allow_virtual":true,"before":["Class[Pe_postgresql::Server::Service]"]}},{"type":"Pe_anchor","title":"pe_postgresql::server::contrib::start","tags":["pe_anchor","pe_postgresql::server::contrib::start","pe_postgresql","server","contrib","start","class","pe_postgresql::server::contrib","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/contrib.pp","line":21,"exported":false,"parameters":{"before":["Class[Pe_postgresql::Server::Install]"]}},{"type":"Pe_anchor","title":"pe_postgresql::server::contrib::end","tags":["pe_anchor","pe_postgresql::server::contrib::end","pe_postgresql","server","contrib","end","class","pe_postgresql::server::contrib","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/contrib.pp","line":25,"exported":false},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql","tags":["file","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":334,"exported":false,"parameters":{"ensure":"directory","mode":"0755","owner":"pe-postgres","group":"pe-postgres","require":"Package[postgresql-server]"}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/9.6","tags":["file","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":334,"exported":false,"parameters":{"ensure":"directory","mode":"0755","owner":"pe-postgres","group":"pe-postgres","require":"Package[postgresql-server]"}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","tags":["file","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":342,"exported":false,"parameters":{"ensure":"file","mode":"0600","owner":"pe-postgres","group":"pe-postgres","require":["Package[postgresql-server]","Exec[postgresql_initdb]"],"notify":"Service[postgresqld]"}},{"type":"Class","title":"Pe_postgresql::Server","tags":["class","pe_postgresql::server","pe_postgresql","server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":370,"exported":false,"parameters":{"listen_addresses":"*","ip_mask_allow_all_users":"0.0.0.0/0","package_ensure":"latest","ensure":"present","package_name":"pe-postgresql96-server","client_package_name":"pe-postgresql96","plperl_package_name":"postgresql96-plperl","service_name":"pe-postgresql","default_database":"postgres","port":5432,"ip_mask_deny_postgres_user":"0.0.0.0/0","ipv4acls":[],"ipv6acls":[],"initdb_path":"/opt/puppetlabs/server/bin/initdb","createdb_path":"/opt/puppetlabs/server/bin/createdb","psql_path":"/opt/puppetlabs/server/bin/psql","pg_hba_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","postgresql_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","datadir":"/opt/puppetlabs/server/data/postgresql/9.6/data","pg_hba_conf_defaults":false,"user":"pe-postgres","group":"pe-postgres","needs_initdb":true,"encoding":"UTF8","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","manage_pg_hba_conf":true,"version":"9.6"}},{"type":"Class","title":"Pe_postgresql::Server::Reload","tags":["class","pe_postgresql::server::reload","pe_postgresql","server","reload","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server.pp","line":56,"exported":false,"parameters":{"require":"Class[Pe_postgresql::Server::Install]"}},{"type":"Exec","title":"postgresql_reload","tags":["exec","postgresql_reload","class","pe_postgresql::server::reload","pe_postgresql","server","reload","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/reload.pp","line":8,"exported":false,"parameters":{"command":"service pe-postgresql reload","path":"/usr/bin:/usr/sbin:/bin:/sbin","refreshonly":true,"require":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_anchor","title":"pe_postgresql::server::start","tags":["pe_anchor","pe_postgresql::server::start","pe_postgresql","server","start","class","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server.pp","line":58,"exported":false,"parameters":{"before":["Class[Pe_postgresql::Server::Install]"]}},{"type":"Class","title":"Pe_postgresql::Server::Install","tags":["class","pe_postgresql::server::install","pe_postgresql","server","install","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server.pp","line":59,"exported":false,"parameters":{"before":["Package[postgresql-contrib]","Class[Pe_postgresql::Server::Initdb]"]}},{"type":"Package","title":"postgresql-server","tags":["postgresql","package","postgresql-server","class","pe_postgresql::server::install","pe_postgresql","server","install","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/install.pp","line":40,"exported":false,"parameters":{"name":"pe-postgresql96-server","ensure":"latest","tag":"postgresql","allow_virtual":true}},{"type":"Class","title":"Pe_postgresql::Server::Initdb","tags":["class","pe_postgresql::server::initdb","pe_postgresql","server","initdb","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server.pp","line":60,"exported":false,"parameters":{"before":["Class[Pe_postgresql::Server::Config]"]}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/9.6/data","tags":["file","class","pe_postgresql::server::initdb","pe_postgresql","server","initdb","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/initdb.pp","line":17,"exported":false,"parameters":{"ensure":"directory","owner":"pe-postgres","group":"pe-postgres","mode":"0700"}},{"type":"Exec","title":"postgresql_initdb","tags":["exec","postgresql_initdb","class","pe_postgresql::server::initdb","pe_postgresql","server","initdb","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/initdb.pp","line":62,"exported":false,"parameters":{"command":"/opt/puppetlabs/server/bin/initdb --encoding 'UTF8' --pgdata '/opt/puppetlabs/server/data/postgresql/9.6/data'  --locale=en_US.UTF-8 --lc-collate='en_US.UTF-8' --lc-ctype='en_US.UTF-8'","creates":"/opt/puppetlabs/server/data/postgresql/9.6/data/PG_VERSION","user":"pe-postgres","group":"pe-postgres","logoutput":"on_failure","require":"File[/opt/puppetlabs/server/data/postgresql/9.6/data]"}},{"type":"Class","title":"Pe_postgresql::Server::Config","tags":["class","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server.pp","line":61,"exported":false,"parameters":{"before":["Class[Pe_postgresql::Server::Service]"]}},{"type":"Pe_concat","title":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","tags":["pe_concat","class","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config.pp","line":22,"exported":false,"parameters":{"owner":"pe-postgres","group":"pe-postgres","mode":"0640","warn":true,"notify":"Class[Pe_postgresql::Server::Reload]","ensure":"present","path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","force":false,"backup":"puppet","replace":true,"order":"alpha","ensure_newline":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"listen_addresses","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","listen_addresses","class","pe_postgresql::server::config","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config.pp","line":98,"exported":false,"parameters":{"value":"*","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"port","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","port","class","pe_postgresql::server::config","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config.pp","line":101,"exported":false,"parameters":{"value":"5432","ensure":"present","path":false}},{"type":"Class","title":"Pe_postgresql::Server::Service","tags":["class","pe_postgresql::server::service","pe_postgresql","server","service","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server.pp","line":62,"exported":false,"parameters":{"before":["Pe_anchor[pe_postgresql::server::contrib::end]","Class[Pe_postgresql::Server::Passwd]"]}},{"type":"Pe_anchor","title":"pe_postgresql::server::service::begin","tags":["pe_anchor","pe_postgresql::server::service::begin","pe_postgresql","server","service","begin","class","pe_postgresql::server::service","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/service.pp","line":28,"exported":false},{"type":"Service","title":"postgresqld","tags":["service","postgresqld","class","pe_postgresql::server::service","pe_postgresql","server","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/service.pp","line":30,"exported":false,"parameters":{"name":"pe-postgresql","ensure":"running","enable":true,"hasstatus":true}},{"type":"Pe_postgresql::Validate_db_connection","title":"validate_service_is_running","tags":["pe_postgresql::validate_db_connection","pe_postgresql","validate_db_connection","validate_service_is_running","class","pe_postgresql::server::service","server","service","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/service.pp","line":45,"exported":false,"parameters":{"run_as":"pe-postgres","database_name":"postgres","database_port":5432,"sleep":1,"tries":60,"create_db_first":false,"require":["Service[postgresqld]","Class[Pe_postgresql::Client]"],"before":"Pe_anchor[pe_postgresql::server::service::end]"}},{"type":"Pe_anchor","title":"pe_postgresql::server::service::end","tags":["pe_anchor","pe_postgresql::server::service::end","pe_postgresql","server","service","end","class","pe_postgresql::server::service","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/service.pp","line":57,"exported":false},{"type":"Class","title":"Pe_postgresql::Server::Passwd","tags":["class","pe_postgresql::server::passwd","pe_postgresql","server","passwd","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server.pp","line":63,"exported":false,"parameters":{"before":["Pe_anchor[pe_postgresql::server::end]"]}},{"type":"Pe_anchor","title":"pe_postgresql::server::end","tags":["pe_anchor","pe_postgresql::server::end","pe_postgresql","server","end","class","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server.pp","line":64,"exported":false},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs","tags":["file","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":376,"exported":false,"parameters":{"ensure":"directory","mode":"0600","owner":"pe-postgres","group":"pe-postgres","require":["Package[postgresql-server]","Class[Pe_postgresql::Server::Initdb]"]}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","tags":["file","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":389,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","owner":"pe-postgres","group":"pe-postgres","mode":"0400","require":"File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs]","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","tags":["file","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":398,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","owner":"pe-postgres","group":"pe-postgres","mode":"0400","show_diff":false,"require":"File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs]","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Config_entry","title":"ssl","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","ssl","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"on","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"ssl_cert_file","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","ssl_cert_file","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"ssl_key_file","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","ssl_key_file","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"ssl_ca_file","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","ssl_ca_file","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"ssl_ciphers","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","ssl_ciphers","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"effective_cache_size","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","effective_cache_size","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"38295MB","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"shared_buffers","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","shared_buffers","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"4096MB","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"maintenance_work_mem","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","maintenance_work_mem","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"8042MB","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"wal_buffers","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","wal_buffers","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"8MB","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"work_mem","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","work_mem","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"8MB","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"max_wal_size","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","max_wal_size","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"6144MB","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"checkpoint_completion_target","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","checkpoint_completion_target","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"0.90","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"checkpoint_timeout","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","checkpoint_timeout","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"10min","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"log_line_prefix","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","log_line_prefix","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"%m [db:%d,sess:%c,pid:%p,vtid:%v,tid:%x] ","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"log_min_duration_statement","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","log_min_duration_statement","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"5000","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"max_connections","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","max_connections","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"400","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"autovacuum_vacuum_scale_factor","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","autovacuum_vacuum_scale_factor","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"0.08","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"autovacuum_analyze_scale_factor","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","autovacuum_analyze_scale_factor","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"0.04","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"wal_level","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","wal_level","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"logical","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"max_worker_processes","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","max_worker_processes","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"40","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"max_replication_slots","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","max_replication_slots","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"20","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"max_wal_senders","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","max_wal_senders","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"20","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"shared_preload_libraries","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","shared_preload_libraries","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"pglogical","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"autovacuum_max_workers","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","autovacuum_max_workers","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"3","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"autovacuum_work_mem","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","autovacuum_work_mem","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"2680MB","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"log_checkpoints","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","log_checkpoints","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"on","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"log_connections","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","log_connections","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"on","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"log_disconnections","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","log_disconnections","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"on","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"log_lock_waits","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","log_lock_waits","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"on","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"log_temp_files","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","log_temp_files","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"8192","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"log_autovacuum_min_duration","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","log_autovacuum_min_duration","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"0","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"log_min_messages","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","log_min_messages","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"warning","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"log_min_error_statement","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","log_min_error_statement","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"error","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"log_error_verbosity","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","log_error_verbosity","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":473,"exported":false,"parameters":{"value":"default","ensure":"present","path":false}},{"type":"Pe_postgresql::Server::Config_entry","title":"checkpoint_segments","tags":["pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","checkpoint_segments","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":481,"exported":false,"parameters":{"ensure":"absent","path":false}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"local access as pe-postgres user","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":507,"exported":false,"parameters":{"database":"all","user":"pe-postgres","type":"local","auth_method":"peer","order":"001","description":"none","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_concat","title":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","tags":["pe_concat","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":523,"exported":false,"parameters":{"owner":"pe-postgres","group":"pe-postgres","force":true,"mode":"0640","warn":true,"require":["Package[postgresql-server]","Class[Pe_postgresql::Server::Initdb]"],"notify":"Class[Pe_postgresql::Server::Reload]","ensure_newline":true,"ensure":"present","path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","backup":"puppet","replace":true,"order":"alpha"}},{"type":"Pe_postgresql::Server::Role","title":"pe-ha-replication","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-ha-replication","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":535,"exported":false,"parameters":{"superuser":true,"password_hash":false,"createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"replication":false,"connection_limit":"-1","username":"pe-ha-replication"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":552,"exported":false,"parameters":{"user":"pe-ha-replication","database":"replication","allowed_client_certname":"pe-xl-core-1.puppet.vm","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0"}},{"type":"Pe_postgresql::Server::Database","title":"postgres","tags":["pe_postgresql::server::database","pe_postgresql","server","database","postgres","class","puppet_enterprise::profile::database","puppet_enterprise","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":576,"exported":false,"parameters":{"owner":"pe-postgres","require":"Class[Pe_postgresql::Server]","dbname":"postgres","template":"template0","encoding":"UTF8","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","istemplate":false}},{"type":"Pe_postgresql::Server::Database","title":"pe-postgres","tags":["pe_postgresql::server::database","pe_postgresql","server","database","pe-postgres","class","puppet_enterprise::profile::database","puppet_enterprise","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":583,"exported":false,"parameters":{"owner":"pe-postgres","require":"Class[Pe_postgresql::Server]","dbname":"pe-postgres","template":"template0","encoding":"UTF8","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","istemplate":false}},{"type":"Puppet_enterprise::App_database","title":"puppetdb","tags":["puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":608,"exported":false,"parameters":{"client_certnames":["pe-xl-core-0.puppet.vm","pe-xl-compiler-0.puppet.vm","pe-xl-core-1.puppet.vm"],"database_name":"pe-puppetdb","write_user":"pe-puppetdb","database_password":"","tablespace_name":"pe-puppetdb","tablespace_location":"/opt/puppetlabs/server/data/postgresql/puppetdb","extensions":["pg_repack","pg_trgm","pgcrypto"],"certname":"pe-xl-core-0.puppet.vm","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","ssl_cert_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ssl_key_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ssl_ca_file":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":["File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem]","File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem]"],"two_way_replication":false,"database_cert_auth":true,"enabled_replicas":["pe-xl-core-1.puppet.vm"],"read_user":"","super_user":"","replication_mode":"none","replication_user":"none","replication_source_hostname":"","replica_hostnames":[]}},{"type":"Puppet_enterprise::App_database","title":"classifier","tags":["puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":624,"exported":false,"parameters":{"client_certnames":["pe-xl-core-0.puppet.vm"],"database_name":"pe-classifier","super_user":"pe-classifier","read_user":"pe-classifier-read","write_user":"pe-classifier-write","database_password":"","tablespace_name":"pe-classifier","tablespace_location":"/opt/puppetlabs/server/data/postgresql/classifier","extensions":["pg_repack"],"replication_mode":"source","replication_user":"pe-ha-replication","replication_source_hostname":"","replica_hostnames":["pe-xl-core-1.puppet.vm"],"certname":"pe-xl-core-0.puppet.vm","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","ssl_cert_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ssl_key_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ssl_ca_file":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":["File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem]","File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem]"],"two_way_replication":false,"database_cert_auth":true,"enabled_replicas":["pe-xl-core-1.puppet.vm"]}},{"type":"Puppet_enterprise::App_database","title":"rbac","tags":["puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":640,"exported":false,"parameters":{"client_certnames":["pe-xl-core-0.puppet.vm"],"database_name":"pe-rbac","super_user":"pe-rbac","read_user":"pe-rbac-read","write_user":"pe-rbac-write","database_password":"","tablespace_name":"pe-rbac","tablespace_location":"/opt/puppetlabs/server/data/postgresql/rbac","extensions":["pg_repack","citext","pgcrypto"],"replication_mode":"source","replication_user":"pe-ha-replication","replication_source_hostname":"","replica_hostnames":["pe-xl-core-1.puppet.vm"],"certname":"pe-xl-core-0.puppet.vm","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","ssl_cert_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ssl_key_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ssl_ca_file":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":["File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem]","File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem]"],"two_way_replication":false,"database_cert_auth":true,"enabled_replicas":["pe-xl-core-1.puppet.vm"]}},{"type":"Puppet_enterprise::App_database","title":"activity","tags":["puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":656,"exported":false,"parameters":{"client_certnames":["pe-xl-core-0.puppet.vm"],"database_name":"pe-activity","super_user":"pe-activity","read_user":"pe-activity-read","write_user":"pe-activity-write","database_password":"","tablespace_name":"pe-activity","tablespace_location":"/opt/puppetlabs/server/data/postgresql/activity","extensions":["pg_repack"],"replication_mode":"source","replication_user":"pe-ha-replication","replication_source_hostname":"","replica_hostnames":["pe-xl-core-1.puppet.vm"],"certname":"pe-xl-core-0.puppet.vm","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","ssl_cert_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ssl_key_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ssl_ca_file":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":["File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem]","File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem]"],"two_way_replication":false,"database_cert_auth":true,"enabled_replicas":["pe-xl-core-1.puppet.vm"]}},{"type":"Puppet_enterprise::App_database","title":"orchestrator","tags":["puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":672,"exported":false,"parameters":{"client_certnames":["pe-xl-core-0.puppet.vm"],"database_name":"pe-orchestrator","super_user":"pe-orchestrator","read_user":"pe-orchestrator-read","write_user":"pe-orchestrator-write","database_password":"","tablespace_name":"pe-orchestrator","tablespace_location":"/opt/puppetlabs/server/data/postgresql/orchestrator","extensions":["pg_repack"],"replication_mode":"source","replication_user":"pe-ha-replication","replication_source_hostname":"","replica_hostnames":["pe-xl-core-1.puppet.vm"],"certname":"pe-xl-core-0.puppet.vm","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","ssl_cert_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ssl_key_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ssl_ca_file":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":["File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem]","File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem]"],"two_way_replication":false,"database_cert_auth":true,"enabled_replicas":["pe-xl-core-1.puppet.vm"]}},{"type":"Puppet_enterprise::App_database","title":"inventory","tags":["puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/database.pp","line":690,"exported":false,"parameters":{"client_certnames":["pe-xl-core-0.puppet.vm"],"database_name":"pe-inventory","super_user":"pe-inventory","read_user":"pe-inventory-read","write_user":"pe-inventory-write","database_password":"","tablespace_name":"pe-inventory","tablespace_location":"/opt/puppetlabs/server/data/postgresql/inventory","extensions":["pg_repack","pgcrypto"],"replication_mode":"source","replication_user":"pe-ha-replication","replication_source_hostname":"","replica_hostnames":["pe-xl-core-1.puppet.vm"],"certname":"pe-xl-core-0.puppet.vm","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","ssl_cert_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ssl_key_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ssl_ca_file":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":["File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem]","File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem]"],"two_way_replication":false,"database_cert_auth":true,"enabled_replicas":["pe-xl-core-1.puppet.vm"]}},{"type":"Class","title":"Puppet_enterprise::Master::Meep","tags":["class","puppet_enterprise::master::meep","puppet_enterprise","master","meep","puppet_enterprise::profile::master","profile"],"exported":false},{"type":"File","title":"/etc/puppetlabs/enterprise","tags":["file","class","puppet_enterprise::master::meep","puppet_enterprise","master","meep","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/meep.pp","line":14,"exported":false,"parameters":{"ensure":"directory","owner":"pe-puppet","mode":"0600","recurse":true,"require":"Package[pe-puppetserver]"}},{"type":"Pe_ini_setting","title":"deprecated puppetserver puppetconf app_management","tags":["pe_ini_setting","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":131,"exported":false,"parameters":{"ensure":"absent","setting":"app_management","section":"master","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_ini_setting","title":"puppetserver puppetconf app_management","tags":["pe_ini_setting","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":138,"exported":false,"parameters":{"ensure":"absent","setting":"app_management","section":"main","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"certificate-authority-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","certificate-authority-service","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":161,"exported":false,"parameters":{"container":"puppetserver","namespace":"puppetlabs.services.ca.certificate-authority-service","service":"certificate-authority-service","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","ensure":"present"}},{"type":"Pe_hocon_setting","title":"metrics.reporters.graphite.host","tags":["pe_hocon_setting","metrics.reporters.graphite.host","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":182,"exported":false,"parameters":{"setting":"metrics.reporters.graphite.host","path":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","value":"graphite","require":"File[/etc/puppetlabs/puppetserver/conf.d/metrics.conf]","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"metrics.reporters.graphite.port","tags":["pe_hocon_setting","metrics.reporters.graphite.port","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":189,"exported":false,"parameters":{"setting":"metrics.reporters.graphite.port","path":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","value":2003,"require":"File[/etc/puppetlabs/puppetserver/conf.d/metrics.conf]","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"metrics.reporters.graphite.update-interval-seconds","tags":["pe_hocon_setting","metrics.reporters.graphite.update-interval-seconds","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":196,"exported":false,"parameters":{"setting":"metrics.reporters.graphite.update-interval-seconds","path":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","value":60,"require":"File[/etc/puppetlabs/puppetserver/conf.d/metrics.conf]","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/ca.conf","tags":["file","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":208,"exported":false,"parameters":{"ensure":"file","require":"Package[pe-puppetserver]","mode":"0644"}},{"type":"Pe_hocon_setting","title":"certificate-authority.proxy-config.proxy-target-url","tags":["pe_hocon_setting","certificate-authority.proxy-config.proxy-target-url","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":213,"exported":false,"parameters":{"setting":"certificate-authority.proxy-config.proxy-target-url","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/ca.conf","value":"https://pe-xl-core-0.puppet.vm:8140","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"certificate-authority.proxy-config.ssl-opts.ssl-cert","tags":["pe_hocon_setting","certificate-authority.proxy-config.ssl-opts.ssl-cert","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":220,"exported":false,"parameters":{"setting":"certificate-authority.proxy-config.ssl-opts.ssl-cert","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/ca.conf","value":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"certificate-authority.proxy-config.ssl-opts.ssl-key","tags":["pe_hocon_setting","certificate-authority.proxy-config.ssl-opts.ssl-key","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":227,"exported":false,"parameters":{"setting":"certificate-authority.proxy-config.ssl-opts.ssl-key","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/ca.conf","value":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"certificate-authority.proxy-config.ssl-opts.ssl-ca-cert","tags":["pe_hocon_setting","certificate-authority.proxy-config.ssl-opts.ssl-ca-cert","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":234,"exported":false,"parameters":{"setting":"certificate-authority.proxy-config.ssl-opts.ssl-ca-cert","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/ca.conf","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Class","title":"Puppet_enterprise::Profile::Master::Classifier","tags":["class","puppet_enterprise::profile::master::classifier","puppet_enterprise","profile","master","classifier","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":244,"exported":false,"parameters":{"classifier_host":["pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"classifier_port":[4433,4433],"classifier_url_prefix":"/classifier-api","notify":"Service[pe-puppetserver]","require":"Package[pe-puppetserver]","node_terminus":"classifier"}},{"type":"Pe_ini_setting","title":"node_terminus","tags":["pe_ini_setting","node_terminus","class","puppet_enterprise::profile::master::classifier","puppet_enterprise","profile","master","classifier","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/classifier.pp","line":20,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppet/puppet.conf","section":"master","setting":"node_terminus","value":"classifier","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppet/classifier.yaml","tags":["file","class","puppet_enterprise::profile::master::classifier","puppet_enterprise","profile","master","classifier","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/classifier.pp","line":31,"exported":false,"parameters":{"content":"- server: pe-xl-core-0.puppet.vm\n  port: 4433\n  prefix: /classifier-api\n- server: pe-xl-core-1.puppet.vm\n  port: 4433\n  prefix: /classifier-api\n","owner":"pe-puppet","group":"pe-puppet","mode":"0644"}},{"type":"File","title":"/etc/puppetlabs/puppet/ssl/crl.pem","tags":["file","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":263,"exported":false,"parameters":{"ensure":"file","owner":"pe-puppet","group":"pe-puppet","mode":"0644","content":"-----BEGIN X509 CRL-----\nMIIC2zCBxAIBATANBgkqhkiG9w0BAQsFADBhMV8wXQYDVQQDDFZQdXBwZXQgRW50\nZXJwcmlzZSBDQSBnZW5lcmF0ZWQgb24gcGUteGwtY29yZS0wLnB1cHBldC52bSBh\ndCArMjAyMC0wNC0xNSAxNToyNDoxOSArMDAwMBcNMjAwNDE0MTUyNDQyWhcNMzUw\nNDEyMTUyNDQ1WqAvMC0wHwYDVR0jBBgwFoAUoVVsZgmnAZ92oKO5bvss/HTlN8kw\nCgYDVR0UBAMCAQAwDQYJKoZIhvcNAQELBQADggIBAIN5WDOXsumGj79tqd1ONsWy\nMg6tNhEIGV8q+HzKK+12hAYufBLCxluSqOINjyqy6sFfPom+90CeOY8K55JrRqmZ\nuqJpiWFF0utKl1w4D9UJVYNCV8EpyWBRKmOSmEIKNRL+7ZoR9nUd/4u3vm3qfD2d\nL6z6tQhfe0tP27FA0wpdiP7EZQMKB2Nq0MyBwZM9E0OTadhori7SEwuO48LYj/QN\n461kL4ilRw+6AYftSIz+8u2ykbLsGICKdAY489jR5LkN4cVRnAlsgUajKWfcvHTO\nVRoigFQ3EuNGrgRycThfT6B/FNiMY4hYIPPUeWTfmds+bC6w2r1Qa/jDcH435hwp\ndJI1SEZCkKtVXdrEvhxQeMCd7oJFfW8DfcawJWV3tURbPkYK1aE/X5S8on7olU4r\n6CNE253dueulLs6iIFx/uHstGjAddodippTRTqY6ccI7K2cKeRXiSLDPSPHiau6R\nCjsWhu8ak0wZM9z2+dCpctWqC7/jBwpo9AB1gkJPv6rJEO0Gt7ta8I12uQkhscXa\nsgmAx+CepGhVUcIAV/TWvdyDkejc2fPGNGeXNyEHx8vdZjex06YGnojo5zFMmvHF\nxlNlLoxRD1yJ1jPzjOucn77i3uzzkpE4ZJDvZQadcqleL4UGmtTZkt39uXaY+gH6\n9ZcDV+DDJcba5XEhOr72\n-----END X509 CRL-----\n-----BEGIN X509 CRL-----\nMIICozCBjAIBATANBgkqhkiG9w0BAQsFADApMScwJQYDVQQDDB5QdXBwZXQgUm9v\ndCBDQTogMjYyYTczMmE2OGJmMmMXDTIwMDQxNDE1MjQ0MloXDTM1MDQxMjE1MjQ0\nNFqgLzAtMB8GA1UdIwQYMBaAFCsLnzHsmYE8EZEISn+488i6yMpFMAoGA1UdFAQD\nAgEAMA0GCSqGSIb3DQEBCwUAA4ICAQAA1ewvY+WaH+pLPyJ++bM8VMma7wu0qecA\nwrUN0RMOZh+Sx+MHEKHLyNedlklBEJeIiUDpFpOXE4GejDD0Xmd3hUy6/OdML361\nF9SocaFXYXC1iKmkiXt5RufW8aYhw/zaiQIwJAs/jd9f+xN5GD2A4As/mfMhLsfp\nhAY+A1Nv4ImGQ4voKoVRK/3S614SVpkY2PssMolQROSiqgq50yWcMhGmdGM0MG3O\nZL/bRGUaSVgbpVB7cbCW761YWNNfzooxNc+cNIYTGDrjoF65txA6OeQW53ueZDaL\nE/L8HqtxF0SFKoEgbScBKtwvJJUaWAwDnuK85ugreziGBBUCF9ba8gleYLSG5ozH\nDktrSaIcd3d5TwM8xRz4l5hkEWoB/b6SJxzpJXNiDBDqRxz9yM7tj2oXY1EUTVq0\ni5O6f6OPVPKJiw3S/rCeGyhEzcETrLf/LUhV+/EvGXdYGbwXQad13anz6QQdkvgU\nsW9uTV+1eQFHVRfundGuSPHrYDLaMaRrnSikIZuETAh1wjoE+MyGFcBA+x8iCrZz\nCB1dvicRvrRGOOuBTjrYIkOSQIBq1qZnWEcVIRmigb/gUGPFm3d3G+HR2GJxWG93\nAAAkFLHu8HRXYqIb0c9OtSE2PiY16rQVwjk7LgcPuCtfiP7kxB/8BX0i3bEGsdEh\nJrYG2pEGZQ==\n-----END X509 CRL-----\n","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppet/ssl/private_keys","tags":["file","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":276,"exported":false,"parameters":{"ensure":"directory","owner":"pe-puppet","group":"pe-puppet","mode":"0640","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","tags":["file","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":284,"exported":false,"parameters":{"ensure":"file","owner":"pe-puppet","group":"pe-puppet","mode":"0640","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Puppet_enterprise::Set_owner_group_permissions","title":"/etc/puppetlabs/puppet/ssl/private_keys","tags":["puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":293,"exported":false,"parameters":{"file_mode":"0640","owner":"pe-puppet","group":"pe-puppet","target_type":"directory","dir_mode":"0750","require":["Package[pe-puppetserver]","File[/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem]"],"target":"/etc/puppetlabs/puppet/ssl/private_keys"}},{"type":"Pe_ini_setting","title":"module_groups","tags":["pe_ini_setting","module_groups","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":304,"exported":false,"parameters":{"section":"main","setting":"module_groups","value":"base+pe_only","ensure":"present","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_ini_setting","title":"codedir_setting","tags":["pe_ini_setting","codedir_setting","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":319,"exported":false,"parameters":{"ensure":"absent","setting":"codedir","section":"main","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_ini_setting","title":"environmentpath_setting","tags":["pe_ini_setting","environmentpath_setting","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":341,"exported":false,"parameters":{"ensure":"absent","setting":"environmentpath","section":"main","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Class","title":"Puppet_enterprise::Profile::Master::Auth_conf","tags":["class","puppet_enterprise::profile::master::auth_conf","puppet_enterprise","profile","master","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":349,"exported":false,"parameters":{"console_client_certname":"pe-xl-core-0.puppet.vm","classifier_client_certname":["pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"orchestrator_client_certname":"pe-xl-core-0.puppet.vm","allow_unauthenticated_ca":true,"allow_unauthenticated_status":true,"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Class","title":"Puppet_enterprise::Master::Tk_authz","tags":["class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/auth_conf.pp","line":19,"exported":false,"parameters":{"console_client_certname":"pe-xl-core-0.puppet.vm","classifier_client_certname":["pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"orchestrator_client_certname":"pe-xl-core-0.puppet.vm","allow_unauthenticated_ca":true,"allow_unauthenticated_status":true,"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","allow_header_cert_info":false,"allow_rbac_catalog_compile":true}},{"type":"Pe_puppet_authorization","title":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","tags":["pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":30,"exported":false,"parameters":{"version":1,"allow_header_cert_info":false,"replace":false,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf"}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs catalog","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":42,"exported":false,"parameters":{"match_request_path":"^/puppet/v3/catalog/([^/]+)$","match_request_type":"regex","match_request_method":["get","post"],"allow":"$1","sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs catalog","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs v4 catalog","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":56,"exported":false,"parameters":{"ensure":"present","match_request_path":"^/puppet/v4/catalog/?$","match_request_type":"regex","match_request_method":"post","allow":["pe-xl-core-0.puppet.vm",{"rbac":{"permission":"puppetserver:compile_catalog:*"}}],"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","rule_name":"puppetlabs v4 catalog","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs certificate","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":66,"exported":false,"parameters":{"match_request_path":"/puppet-ca/v1/certificate/","match_request_type":"path","match_request_method":"get","allow_unauthenticated":true,"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs certificate","match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs crl","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":76,"exported":false,"parameters":{"match_request_path":"/puppet-ca/v1/certificate_revocation_list/ca","match_request_type":"path","match_request_method":"get","allow_unauthenticated":true,"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs crl","match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs csr","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":86,"exported":false,"parameters":{"match_request_path":"/puppet-ca/v1/certificate_request","match_request_type":"path","match_request_method":["get","put"],"allow_unauthenticated":true,"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs csr","match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs environments","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":95,"exported":false,"parameters":{"match_request_path":"/puppet/v3/environments","match_request_type":"path","match_request_method":"get","allow":"*","sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs environments","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs environment","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":103,"exported":false,"parameters":{"match_request_path":"/puppet/v3/environment","match_request_type":"path","match_request_method":"get","allow":["pe-xl-core-0.puppet.vm",{"rbac":{"permission":"puppetserver:compile_catalog:*"}}],"sort_order":510,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs environment","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs tasks","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":111,"exported":false,"parameters":{"match_request_path":"/puppet/v3/tasks","match_request_type":"path","match_request_method":"get","allow":"pe-xl-core-0.puppet.vm","sort_order":510,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs tasks","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs environment classes","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":119,"exported":false,"parameters":{"match_request_path":"/puppet/v3/environment_classes","match_request_type":"path","match_request_method":"get","allow":["pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs environment classes","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs file bucket file","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":130,"exported":false,"parameters":{"match_request_path":"/puppet/v3/file_bucket_file","match_request_type":"path","match_request_method":["get","head","post","put"],"allow":"*","sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs file bucket file","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs file content","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":141,"exported":false,"parameters":{"match_request_path":"/puppet/v3/file_content","match_request_type":"path","match_request_method":["get","post"],"allow":"*","sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs file content","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs file metadata","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":152,"exported":false,"parameters":{"match_request_path":"/puppet/v3/file_metadata","match_request_type":"path","match_request_method":["get","post"],"allow":"*","sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs file metadata","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs node","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":161,"exported":false,"parameters":{"match_request_path":"^/puppet/v3/node/([^/]+)$","match_request_type":"regex","match_request_method":"get","allow":"$1","sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs node","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs report","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":170,"exported":false,"parameters":{"match_request_path":"^/puppet/v3/report/([^/]+)$","match_request_type":"regex","match_request_method":"put","allow":["$1","pe-xl-core-0.puppet.vm"],"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs report","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs facts","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":179,"exported":false,"parameters":{"match_request_path":"^/puppet/v3/facts/([^/]+)$","match_request_type":"regex","match_request_method":"put","allow":"$1","sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs facts","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs resource type","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":187,"exported":false,"parameters":{"match_request_path":"/puppet/v3/resource_type","match_request_type":"path","match_request_method":"get","allow":["pe-xl-core-0.puppet.vm","pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm","pe-xl-core-0.puppet.vm"],"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs resource type","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs status","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":197,"exported":false,"parameters":{"match_request_path":"/puppet/v3/status","match_request_type":"path","match_request_method":"get","allow_unauthenticated":true,"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs status","match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetserver simple status endpoint","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":205,"exported":false,"parameters":{"match_request_path":"/status/v1/simple","match_request_type":"path","match_request_method":"get","allow_unauthenticated":true,"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetserver simple status endpoint","match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs status service","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":213,"exported":false,"parameters":{"match_request_path":"/status/v1/services","match_request_type":"path","match_request_method":"get","allow_unauthenticated":true,"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs status service","match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs static file content","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":222,"exported":false,"parameters":{"match_request_path":"/puppet/v3/static_file_content","match_request_type":"path","match_request_method":"get","allow":"*","sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs static file content","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs experimental","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":232,"exported":false,"parameters":{"match_request_path":"/puppet/experimental","match_request_type":"path","match_request_method":"get","allow_unauthenticated":true,"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs experimental","match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs deny all","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/tk_authz.pp","line":242,"exported":false,"parameters":{"match_request_path":"/","match_request_type":"path","deny":"*","sort_order":999,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","require":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs deny all","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Class","title":"Puppet_enterprise::Profile::Master::Puppetdb","tags":["class","puppet_enterprise::profile::master::puppetdb","puppet_enterprise","profile","master","puppetdb","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":359,"exported":false,"parameters":{"puppetdb_host":["pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"puppetdb_port":[8081,8081],"facts_terminus":"puppetdb","notify":"Service[pe-puppetserver]","require":"Package[pe-puppetserver]","command_broadcast":true,"sticky_read_failover":true,"include_unchanged_resources":true,"soft_write_failure":false,"report_processor_ensure":"present"}},{"type":"File","title":"/etc/puppetlabs/puppet/puppetdb.conf","tags":["file","class","puppet_enterprise::profile::master::puppetdb","puppet_enterprise","profile","master","puppetdb","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/puppetdb.pp","line":37,"exported":false,"parameters":{"ensure":"file","mode":"0644"}},{"type":"Pe_ini_setting","title":"puppetdb.conf_server_urls","tags":["pe_ini_setting","puppetdb.conf_server_urls","class","puppet_enterprise::profile::master::puppetdb","puppet_enterprise","profile","master","puppetdb","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/puppetdb.pp","line":44,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppet/puppetdb.conf","section":"main","setting":"server_urls","value":"https://pe-xl-core-0.puppet.vm:8081,https://pe-xl-core-1.puppet.vm:8081"}},{"type":"Pe_ini_setting","title":"puppetdb.conf_command_broadcast","tags":["pe_ini_setting","puppetdb.conf_command_broadcast","class","puppet_enterprise::profile::master::puppetdb","puppet_enterprise","profile","master","puppetdb","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/puppetdb.pp","line":52,"exported":false,"parameters":{"path":"/etc/puppetlabs/puppet/puppetdb.conf","setting":"command_broadcast","value":true,"ensure":"present","section":"main"}},{"type":"Pe_ini_setting","title":"puppetdb.conf_include_unchanged_resources","tags":["pe_ini_setting","puppetdb.conf_include_unchanged_resources","class","puppet_enterprise::profile::master::puppetdb","puppet_enterprise","profile","master","puppetdb","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/puppetdb.pp","line":58,"exported":false,"parameters":{"path":"/etc/puppetlabs/puppet/puppetdb.conf","setting":"include_unchanged_resources","value":true,"ensure":"present","section":"main"}},{"type":"Pe_ini_setting","title":"puppetdb.conf_soft_write_failure","tags":["pe_ini_setting","puppetdb.conf_soft_write_failure","class","puppet_enterprise::profile::master::puppetdb","puppet_enterprise","profile","master","puppetdb","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/puppetdb.pp","line":64,"exported":false,"parameters":{"path":"/etc/puppetlabs/puppet/puppetdb.conf","setting":"soft_write_failure","value":false,"ensure":"present","section":"main"}},{"type":"Pe_ini_setting","title":"puppetdb.conf_sticky_read_failover","tags":["pe_ini_setting","puppetdb.conf_sticky_read_failover","class","puppet_enterprise::profile::master::puppetdb","puppet_enterprise","profile","master","puppetdb","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/puppetdb.pp","line":70,"exported":false,"parameters":{"path":"/etc/puppetlabs/puppet/puppetdb.conf","setting":"sticky_read_failover","value":true,"ensure":"present","section":"main"}},{"type":"Pe_ini_setting","title":"storeconfigs","tags":["pe_ini_setting","storeconfigs","class","puppet_enterprise::profile::master::puppetdb","puppet_enterprise","profile","master","puppetdb","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/puppetdb.pp","line":79,"exported":false,"parameters":{"path":"/etc/puppetlabs/puppet/puppet.conf","section":"master","setting":"storeconfigs","value":true,"ensure":"present"}},{"type":"Pe_ini_setting","title":"storeconfigs_backend","tags":["pe_ini_setting","storeconfigs_backend","class","puppet_enterprise::profile::master::puppetdb","puppet_enterprise","profile","master","puppetdb","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/puppetdb.pp","line":86,"exported":false,"parameters":{"path":"/etc/puppetlabs/puppet/puppet.conf","section":"master","setting":"storeconfigs_backend","value":"puppetdb","ensure":"present"}},{"type":"Pe_ini_subsetting","title":"reports_puppetdb","tags":["pe_ini_subsetting","reports_puppetdb","class","puppet_enterprise::profile::master::puppetdb","puppet_enterprise","profile","master","puppetdb","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/puppetdb.pp","line":93,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppet/puppet.conf","section":"master","setting":"reports","subsetting":"puppetdb","subsetting_separator":","}},{"type":"File","title":"/etc/puppetlabs/puppet/routes.yaml","tags":["file","class","puppet_enterprise::profile::master::puppetdb","puppet_enterprise","profile","master","puppetdb","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master/puppetdb.pp","line":103,"exported":false,"parameters":{"ensure":"present","content":"master:\n      facts:\n        terminus: puppetdb\n        cache: yaml\n","owner":"pe-puppet","group":"pe-puppet","mode":"0444"}},{"type":"Class","title":"Puppet_enterprise::Master","tags":["class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":379,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","static_files":{"/packages":"/opt/puppetlabs/server/data/packages/public"},"localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","java_args":{"Xmx":"2048m","Xms":"512m"},"metrics_server_id":"pe-xl-core-0","metrics_jmx_enabled":true,"metrics_graphite_enabled":false,"profiler_enabled":true,"manage_symlinks":true,"code_manager_auto_configure":true,"puppetserver_jruby_puppet_master_code_dir":"/etc/puppetlabs/code","ssl_listen_port":8140,"connect_timeout_milliseconds":5000,"disable_i18n":false}},{"type":"File","title":"/opt/puppetlabs/puppet/modules/puppet_enterprise/lib/puppet/parser/functions/cookie_secret_key.rb","tags":["file","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":51,"exported":false,"parameters":{"ensure":"absent"}},{"type":"Class","title":"Puppet_enterprise::Master::Puppetserver","tags":["class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":64,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","static_files":{"/packages":"/opt/puppetlabs/server/data/packages/public"},"java_args":{"Xmx":"2048m","Xms":"512m"},"metrics_server_id":"pe-xl-core-0","metrics_jmx_enabled":true,"metrics_graphite_enabled":false,"profiler_enabled":true,"code_manager_auto_configure":true,"puppetserver_jruby_puppet_master_code_dir":"/etc/puppetlabs/code","puppetserver_webserver_ssl_port":8140,"connect_timeout_milliseconds":5000,"jruby_max_requests_per_instance":100000,"metrics_webservice_enabled":true,"status_logging_enabled":false,"status_logging_interval_minutes":30,"jruby_jar":"/opt/puppetlabs/server/apps/puppetserver/jruby-9k.jar","jruby_compile_mode":"jit","base_puppet_admin_certs":["pe-xl-core-0.puppet.vm"],"puppet_admin_certs":[],"ssl_protocols":["TLSv1.2"],"puppetserver_webserver_ssl_host":"0.0.0.0","puppetserver_jruby_puppet_gem_home":"/opt/puppetlabs/server/data/puppetserver/jruby-gems","puppetserver_jruby_puppet_master_conf_dir":"/etc/puppetlabs/puppet","puppetserver_jruby_puppet_master_var_dir":"/opt/puppetlabs/server/data/puppetserver","puppetserver_jruby_puppet_master_run_dir":"/var/run/puppetlabs/puppetserver","puppetserver_jruby_puppet_master_log_dir":"/var/log/puppetlabs/puppetserver","puppetserver_jruby_puppet_ruby_load_path":["/opt/puppetlabs/puppet/lib/ruby/vendor_ruby","/opt/puppetlabs/puppet/cache/lib"],"service_stop_retries":60,"start_timeout":300,"pre_commit_hook_commands":["/opt/puppetlabs/server/bin/generate-puppet-types.rb"],"reserved_code_cache":"512m"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"puppetserver:master jetty9-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":131,"exported":false,"parameters":{"namespace":"puppetlabs.trapperkeeper.services.webserver.jetty9-service","service":"jetty9-service","container":"puppetserver","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"pe-master-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-master-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":136,"exported":false,"parameters":{"namespace":"puppetlabs.enterprise.services.master.pe-master-service","container":"puppetserver","service":"pe-master-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"old-pe-master-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","old-pe-master-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":141,"exported":false,"parameters":{"ensure":"absent","namespace":"puppetlabs.enterprise.services.master.master-service","container":"puppetserver","service":"old-pe-master-service"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"master-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","master-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":146,"exported":false,"parameters":{"namespace":"puppetlabs.services.master.master-service","container":"puppetserver","service":"master-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"request-handler-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","request-handler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":150,"exported":false,"parameters":{"namespace":"puppetlabs.services.request-handler.request-handler-service","container":"puppetserver","service":"request-handler-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"jruby-puppet-pooled-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","jruby-puppet-pooled-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":153,"exported":false,"parameters":{"namespace":"puppetlabs.services.jruby.jruby-puppet-service","container":"puppetserver","service":"jruby-puppet-pooled-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"jruby-pool-manager-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","jruby-pool-manager-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":157,"exported":false,"parameters":{"namespace":"puppetlabs.services.jruby-pool-manager.jruby-pool-manager-service","container":"puppetserver","service":"jruby-pool-manager-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"metrics-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","metrics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":161,"exported":false,"parameters":{"namespace":"puppetlabs.trapperkeeper.services.metrics.metrics-service","container":"puppetserver","service":"metrics-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"puppet-profiler-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet-profiler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":165,"exported":false,"parameters":{"namespace":"puppetlabs.services.puppet-profiler.puppet-profiler-service","container":"puppetserver","service":"puppet-profiler-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"pe-metrics-puppet-profiler-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-metrics-puppet-profiler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":169,"exported":false,"parameters":{"namespace":"puppetlabs.enterprise.services.puppet-profiler.pe-puppet-profiler-service","container":"puppetserver","service":"pe-metrics-puppet-profiler-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"metrics-puppet-profiler-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","metrics-puppet-profiler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":174,"exported":false,"parameters":{"ensure":"absent","namespace":"puppetlabs.enterprise.services.puppet-profiler.puppet-profiler-service","container":"puppetserver","service":"metrics-puppet-profiler-service"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"puppet-server-config-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet-server-config-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":179,"exported":false,"parameters":{"namespace":"puppetlabs.services.config.puppet-server-config-service","container":"puppetserver","service":"puppet-server-config-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"puppet-admin-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet-admin-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":183,"exported":false,"parameters":{"namespace":"puppetlabs.services.puppet-admin.puppet-admin-service","container":"puppetserver","service":"puppet-admin-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"webrouting-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","webrouting-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":187,"exported":false,"parameters":{"namespace":"puppetlabs.trapperkeeper.services.webrouting.webrouting-service","container":"puppetserver","service":"webrouting-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"legacy-routes-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","legacy-routes-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":191,"exported":false,"parameters":{"namespace":"puppetlabs.services.legacy-routes.legacy-routes-service","container":"puppetserver","service":"legacy-routes-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"pe-legacy-routes-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-legacy-routes-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":197,"exported":false,"parameters":{"ensure":"absent","namespace":"puppetlabs.enterprise.services.legacy-routes.pe-legacy-routes-service","container":"puppetserver","service":"pe-legacy-routes-service"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"status-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","status-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":202,"exported":false,"parameters":{"namespace":"puppetlabs.trapperkeeper.services.status.status-service","container":"puppetserver","service":"status-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"authorization-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","authorization-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":206,"exported":false,"parameters":{"namespace":"puppetlabs.trapperkeeper.services.authorization.authorization-service","container":"puppetserver","service":"authorization-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"scheduler-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","scheduler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":210,"exported":false,"parameters":{"namespace":"puppetlabs.trapperkeeper.services.scheduler.scheduler-service","container":"puppetserver","service":"scheduler-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"pe-jruby-metrics-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-jruby-metrics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":214,"exported":false,"parameters":{"namespace":"puppetlabs.enterprise.services.jruby.pe-jruby-metrics-service","container":"puppetserver","service":"pe-jruby-metrics-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"jruby-metrics-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","jruby-metrics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":218,"exported":false,"parameters":{"namespace":"puppetlabs.services.jruby.jruby-metrics-service","container":"puppetserver","service":"jruby-metrics-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"puppetserver-analytics-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppetserver-analytics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":222,"exported":false,"parameters":{"service":"puppetserver-analytics-service","namespace":"puppetlabs.enterprise.services.analytics.analytics-service","container":"puppetserver","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"filesystem-watch-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","filesystem-watch-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":227,"exported":false,"parameters":{"namespace":"puppetlabs.trapperkeeper.services.watcher.filesystem-watch-service","container":"puppetserver","service":"filesystem-watch-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"remote-rbac-consumer-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","remote-rbac-consumer-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":231,"exported":false,"parameters":{"namespace":"puppetlabs.rbac-client.services.rbac","container":"puppetserver","service":"remote-rbac-consumer-service","ensure":"present"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","tags":["file","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":240,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppet","group":"pe-puppet","mode":"0640","require":"Package[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"webserver.client-auth","tags":["pe_hocon_setting","webserver.client-auth","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":244,"exported":false,"parameters":{"setting":"webserver.client-auth","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"webserver.ssl-host","tags":["pe_hocon_setting","webserver.ssl-host","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":249,"exported":false,"parameters":{"setting":"webserver.ssl-host","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"webserver.ssl-port","tags":["pe_hocon_setting","webserver.ssl-port","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":254,"exported":false,"parameters":{"setting":"webserver.ssl-port","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"webserver.ssl-cert","tags":["pe_hocon_setting","webserver.ssl-cert","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":259,"exported":false,"parameters":{"setting":"webserver.ssl-cert","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"webserver.ssl-key","tags":["pe_hocon_setting","webserver.ssl-key","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":264,"exported":false,"parameters":{"setting":"webserver.ssl-key","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"webserver.ssl-ca-cert","tags":["pe_hocon_setting","webserver.ssl-ca-cert","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":269,"exported":false,"parameters":{"setting":"webserver.ssl-ca-cert","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"webserver.ssl-crl-path","tags":["pe_hocon_setting","webserver.ssl-crl-path","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":274,"exported":false,"parameters":{"setting":"webserver.ssl-crl-path","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"webserver.access-log-config","tags":["pe_hocon_setting","webserver.access-log-config","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":279,"exported":false,"parameters":{"setting":"webserver.access-log-config","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"webserver.max-threads","tags":["pe_hocon_setting","webserver.max-threads","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":284,"exported":false,"parameters":{"setting":"webserver.max-threads","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"webserver.static-content","tags":["pe_hocon_setting","webserver.static-content","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":289,"exported":false,"parameters":{"setting":"webserver.static-content","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Puppet_enterprise::Trapperkeeper::Webserver_settings","title":"puppet-server","tags":["puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":295,"exported":false,"parameters":{"container":"puppetserver","ssl_listen_address":"0.0.0.0","ssl_listen_port":8140,"localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","access_log_config":"/etc/puppetlabs/puppetserver/request-logging.xml","default_server":true,"ssl_protocols":["TLSv1.2"],"certname":"pe-xl-core-0.puppet.vm","ssl_cert":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","ssl_key":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","hostcrl":"/etc/puppetlabs/puppet/ssl/crl.pem","container_service":"puppet-server","client_auth":"want","ssl_cipher_suites":[]}},{"type":"Pe_hocon_setting","title":"webserver.puppet-server.static-content","tags":["pe_hocon_setting","webserver.puppet-server.static-content","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":312,"exported":false,"parameters":{"setting":"webserver.puppet-server.static-content","ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","type":"array","value":[{"resource":"/opt/puppetlabs/server/data/packages/public","path":"/packages","follow-links":true}],"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","tags":["file","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":320,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppet","group":"pe-puppet","mode":"0640","require":"Package[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"web-router-service/master-service","tags":["pe_hocon_setting","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":324,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.services.master.master-service/master-service\"","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"/puppet","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"web-router-service/pe-master-service","tags":["pe_hocon_setting","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":331,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.enterprise.services.master.master-service/pe-master-service\"","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"web-router-service/pe-legacy-routes-service","tags":["pe_hocon_setting","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":338,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.enterprise.services.legacy-routes.pe-legacy-routes-service/pe-legacy-routes-service\"","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"web-router-service/legacy-routes-service","tags":["pe_hocon_setting","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":343,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.services.legacy-routes.legacy-routes-service/legacy-routes-service\"","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"web-router-service/certificate-authority-service","tags":["pe_hocon_setting","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":349,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.services.ca.certificate-authority-service/certificate-authority-service\"","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"/puppet-ca","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"web-router-service/reverse-proxy-ca-service","tags":["pe_hocon_setting","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":354,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.enterprise.services.reverse-proxy.reverse-proxy-ca-service/reverse-proxy-ca-service\"","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"web-router-service/puppet-admin-service","tags":["pe_hocon_setting","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":359,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.services.puppet-admin.puppet-admin-service/puppet-admin-service\"","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"/puppet-admin-api","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"web-router-service/status-service","tags":["pe_hocon_setting","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":364,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.trapperkeeper.services.status.status-service/status-service\"","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"/status","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","tags":["file","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":370,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppet","group":"pe-puppet","mode":"0640","require":"Package[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.ruby-load-path","tags":["pe_hocon_setting","jruby-puppet.ruby-load-path","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":373,"exported":false,"parameters":{"setting":"jruby-puppet.ruby-load-path","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","type":"array","value":["/opt/puppetlabs/puppet/lib/ruby/vendor_ruby","/opt/puppetlabs/puppet/cache/lib"],"ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"os-settings.remove","tags":["pe_hocon_setting","os-settings.remove","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":381,"exported":false,"parameters":{"setting":"os-settings","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.gem-home","tags":["pe_hocon_setting","jruby-puppet.gem-home","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":386,"exported":false,"parameters":{"setting":"jruby-puppet.gem-home","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":"/opt/puppetlabs/server/data/puppetserver/jruby-gems","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.master-conf-dir","tags":["pe_hocon_setting","jruby-puppet.master-conf-dir","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":391,"exported":false,"parameters":{"setting":"jruby-puppet.master-conf-dir","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":"/etc/puppetlabs/puppet","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.master-code-dir","tags":["pe_hocon_setting","jruby-puppet.master-code-dir","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":396,"exported":false,"parameters":{"setting":"jruby-puppet.master-code-dir","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":"/etc/puppetlabs/code","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.master-var-dir","tags":["pe_hocon_setting","jruby-puppet.master-var-dir","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":401,"exported":false,"parameters":{"setting":"jruby-puppet.master-var-dir","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":"/opt/puppetlabs/server/data/puppetserver","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.master-run-dir","tags":["pe_hocon_setting","jruby-puppet.master-run-dir","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":406,"exported":false,"parameters":{"setting":"jruby-puppet.master-run-dir","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":"/var/run/puppetlabs/puppetserver","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.master-log-dir","tags":["pe_hocon_setting","jruby-puppet.master-log-dir","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":411,"exported":false,"parameters":{"setting":"jruby-puppet.master-log-dir","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":"/var/log/puppetlabs/puppetserver","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.gem-path","tags":["pe_hocon_setting","jruby-puppet.gem-path","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":416,"exported":false,"parameters":{"setting":"jruby-puppet.gem-path","ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":["/opt/puppetlabs/server/data/puppetserver/jruby-gems","/opt/puppetlabs/server/data/puppetserver/vendored-jruby-gems","/opt/puppetlabs/puppet/lib/ruby/vendor_gems"],"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.borrow-timeout","tags":["pe_hocon_setting","jruby-puppet.borrow-timeout","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":433,"exported":false,"parameters":{"setting":"jruby-puppet.borrow-timeout","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.max-active-instances","tags":["pe_hocon_setting","jruby-puppet.max-active-instances","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":446,"exported":false,"parameters":{"setting":"jruby-puppet.max-active-instances","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.max-requests-per-instance","tags":["pe_hocon_setting","jruby-puppet.max-requests-per-instance","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":453,"exported":false,"parameters":{"setting":"jruby-puppet.max-requests-per-instance","ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":100000,"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.use-legacy-auth-conf","tags":["pe_hocon_setting","jruby-puppet.use-legacy-auth-conf","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":460,"exported":false,"parameters":{"setting":"jruby-puppet.use-legacy-auth-conf","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":false,"ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.max-queued-requests","tags":["pe_hocon_setting","jruby-puppet.max-queued-requests","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":476,"exported":false,"parameters":{"setting":"jruby-puppet.max-queued-requests","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.max-retry-delay","tags":["pe_hocon_setting","jruby-puppet.max-retry-delay","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":487,"exported":false,"parameters":{"setting":"jruby-puppet.max-retry-delay","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"metrics-webservice","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","metrics-webservice","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":499,"exported":false,"parameters":{"ensure":"present","namespace":"puppetlabs.trapperkeeper.services.metrics.metrics-service","service":"metrics-webservice","container":"puppetserver"}},{"type":"Pe_hocon_setting","title":"metrics-service/metrics-webservice","tags":["pe_hocon_setting","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":505,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-webservice\"","ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"/metrics","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.environment-class-cache-enabled","tags":["pe_hocon_setting","jruby-puppet.environment-class-cache-enabled","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":525,"exported":false,"parameters":{"setting":"jruby-puppet.environment-class-cache-enabled","ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":true,"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"profiler.enabled","tags":["pe_hocon_setting","profiler.enabled","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":532,"exported":false,"parameters":{"setting":"profiler.enabled","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":true,"ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"pe-puppetserver.puppet-code-repo","tags":["pe_hocon_setting","pe-puppetserver.puppet-code-repo","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":538,"exported":false,"parameters":{"setting":"pe-puppetserver.puppet-code-repo","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":"puppet-code","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"pe-puppetserver.pre-commit-hook-commands","tags":["pe_hocon_setting","pe-puppetserver.pre-commit-hook-commands","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":545,"exported":false,"parameters":{"setting":"pe-puppetserver.pre-commit-hook-commands","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","type":"array","value":["/opt/puppetlabs/server/bin/generate-puppet-types.rb"],"ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"puppet-admin","tags":["pe_hocon_setting","puppet-admin","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":553,"exported":false,"parameters":{"setting":"puppet-admin","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs environment cache","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":564,"exported":false,"parameters":{"match_request_path":"/puppet-admin-api/v1/environment-cache","match_request_type":"path","match_request_method":"delete","allow":["pe-xl-core-0.puppet.vm"],"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","ensure":"present","notify":"Service[pe-puppetserver]","rule_name":"puppetlabs environment cache","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs jruby pool","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":573,"exported":false,"parameters":{"match_request_path":"/puppet-admin-api/v1/jruby-pool","match_request_type":"path","match_request_method":"delete","allow":["pe-xl-core-0.puppet.vm"],"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","ensure":"present","notify":"Service[pe-puppetserver]","rule_name":"puppetlabs jruby pool","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_hocon_setting","title":"http-client.ssl-protocols","tags":["pe_hocon_setting","http-client.ssl-protocols","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":582,"exported":false,"parameters":{"setting":"http-client.ssl-protocols","ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","type":"array","value":["TLSv1.2"],"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"http-client.cipher-suites","tags":["pe_hocon_setting","http-client.cipher-suites","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":596,"exported":false,"parameters":{"setting":"http-client.cipher-suites","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","type":"array","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"http-client.idle-timeout-milliseconds","tags":["pe_hocon_setting","http-client.idle-timeout-milliseconds","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":610,"exported":false,"parameters":{"setting":"http-client.idle-timeout-milliseconds","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"http-client.connect-timeout-milliseconds","tags":["pe_hocon_setting","http-client.connect-timeout-milliseconds","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":623,"exported":false,"parameters":{"setting":"http-client.connect-timeout-milliseconds","ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":5000,"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Puppet_enterprise::Trapperkeeper::Global_settings","title":"puppetserver","tags":["puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":630,"exported":false,"parameters":{"service_user":"pe-puppet","service_group":"pe-puppet","hostname":"pe-xl-core-0.puppet.vm","ssl_cert":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","ssl_key":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","container":"puppetserver","certname":"pe-xl-core-0.puppet.vm"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","tags":["file","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":644,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppet","group":"pe-puppet","mode":"0640","require":"Package[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"metrics.enabled","tags":["pe_hocon_setting","metrics.enabled","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":647,"exported":false,"parameters":{"setting":"metrics.enabled","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"metrics.server-id","tags":["pe_hocon_setting","metrics.server-id","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":652,"exported":false,"parameters":{"setting":"metrics.server-id","path":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","value":"pe-xl-core-0","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"metrics.registries.puppetserver.reporters.jmx.enabled","tags":["pe_hocon_setting","metrics.registries.puppetserver.reporters.jmx.enabled","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":658,"exported":false,"parameters":{"setting":"metrics.registries.puppetserver.reporters.jmx.enabled","path":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","value":true,"ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"metrics.registries.default.reporters.jmx.enabled","tags":["pe_hocon_setting","metrics.registries.default.reporters.jmx.enabled","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":665,"exported":false,"parameters":{"setting":"metrics.registries.default.reporters.jmx.enabled","path":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","value":true,"ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"metrics.registries.puppetserver.reporters.graphite.enabled","tags":["pe_hocon_setting","metrics.registries.puppetserver.reporters.graphite.enabled","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":671,"exported":false,"parameters":{"setting":"metrics.registries.puppetserver.reporters.graphite.enabled","path":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","value":false,"ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"metrics.registries.puppetserver.metrics-allowed","tags":["pe_hocon_setting","metrics.registries.puppetserver.metrics-allowed","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":683,"exported":false,"parameters":{"setting":"metrics.registries.puppetserver.metrics-allowed","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","type":"array","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"metrics.reporters.graphite.enabled","tags":["pe_hocon_setting","metrics.reporters.graphite.enabled","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":696,"exported":false,"parameters":{"setting":"metrics.reporters.graphite.enabled","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"metrics.reporters.jmx","tags":["pe_hocon_setting","metrics.reporters.jmx","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":703,"exported":false,"parameters":{"setting":"metrics.reporters.jmx","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/metrics.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/rbac-consumer.conf","tags":["file","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":713,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppet","group":"pe-puppet","mode":"0640","require":"Package[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"rbac-consumer.api-url","tags":["pe_hocon_setting","rbac-consumer.api-url","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":716,"exported":false,"parameters":{"setting":"rbac-consumer.api-url","path":"/etc/puppetlabs/puppetserver/conf.d/rbac-consumer.conf","value":"https://pe-xl-core-0.puppet.vm:4433/rbac-api","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/activity-consumer.conf","tags":["file","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":722,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppet","group":"pe-puppet","mode":"0640","require":"Package[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"activity-consumer.api-url","tags":["pe_hocon_setting","activity-consumer.api-url","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":726,"exported":false,"parameters":{"setting":"activity-consumer.api-url","path":"/etc/puppetlabs/puppetserver/conf.d/activity-consumer.conf","value":"https://pe-xl-core-0.puppet.vm:4433/activity-api","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"jruby-puppet.compile-mode","tags":["pe_hocon_setting","jruby-puppet.compile-mode","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":758,"exported":false,"parameters":{"setting":"jruby-puppet.compile-mode","ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":"jit","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"status.debug-logging","tags":["pe_hocon_setting","status.debug-logging","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":776,"exported":false,"parameters":{"setting":"status.debug-logging","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Puppet_enterprise::Trapperkeeper::Java_args","title":"puppetserver","tags":["puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":783,"exported":false,"parameters":{"java_args":{"Xmx":"2048m","Xms":"512m","Djava.io.tmpdir=":"/opt/puppetlabs/server/apps/puppetserver/tmp","XX:ReservedCodeCacheSize=":"512m"},"enable_gc_logging":true,"container":"puppetserver","initconfdir":"/etc/sysconfig"}},{"type":"Puppet_enterprise::Trapperkeeper::Init_defaults","title":"puppetserver","tags":["puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":788,"exported":false,"parameters":{"user":"pe-puppet","group":"pe-puppet","service_stop_retries":60,"start_timeout":300,"jruby_jar":"/opt/puppetlabs/server/apps/puppetserver/jruby-9k.jar","container":"puppetserver"}},{"type":"Augeas","title":"fileserver.conf remove [files]","tags":["augeas","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":798,"exported":false,"parameters":{"changes":["remove files"],"onlyif":"match files size > 0","incl":"/etc/puppetlabs/puppet/fileserver.conf","load_path":"/opt/puppetlabs/puppet/share/augeas/lenses/dist","lens":"PuppetFileserver.lns","notify":"Service[pe-puppetserver]"}},{"type":"Puppet_enterprise::Trapperkeeper::Pe_service","title":"puppetserver","tags":["puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/puppetserver.pp","line":810,"exported":false,"parameters":{"container":"puppetserver","ensure":"running","enable":true}},{"type":"File","title":"/var/log/puppetlabs/puppet","tags":["file","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":90,"exported":false,"parameters":{"mode":"0640","ensure":"directory","owner":"pe-puppet","group":"pe-puppet"}},{"type":"File","title":"/etc/puppetlabs/puppet/fileserver.conf","tags":["file","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":94,"exported":false,"parameters":{"ensure":"present","owner":"root","group":"root","mode":"0644"}},{"type":"Puppet_enterprise::Set_owner_group_permissions","title":"/etc/puppetlabs/puppet/hiera.yaml","tags":["puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","class","puppet_enterprise::master","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":101,"exported":false,"parameters":{"file_mode":"0644","owner":"root","group":"root","target_type":"file","target":"/etc/puppetlabs/puppet/hiera.yaml"}},{"type":"Puppet_enterprise::Set_owner_group_permissions","title":"/etc/puppetlabs/puppet/puppet.conf","tags":["puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","class","puppet_enterprise::master","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":108,"exported":false,"parameters":{"file_mode":"0644","owner":"root","group":"root","target_type":"file","target":"/etc/puppetlabs/puppet/puppet.conf"}},{"type":"File","title":"/opt/puppetlabs/server/pe_build","tags":["file","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":117,"exported":false,"parameters":{"ensure":"file","content":"2019.1.1","owner":"pe-puppet","group":"pe-puppet","mode":"0644"}},{"type":"Pe_ini_setting","title":"puppetserver puppetconf certname","tags":["pe_ini_setting","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":130,"exported":false,"parameters":{"setting":"certname","value":"pe-xl-core-0.puppet.vm","section":"master","ensure":"present","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_ini_setting","title":"puppetserver puppetconf always_cache_features","tags":["pe_ini_setting","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":138,"exported":false,"parameters":{"ensure":"absent","setting":"always_cache_features","section":"master","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_ini_setting","title":"puppetserver puppetconf always_retry_plugins","tags":["pe_ini_setting","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":144,"exported":false,"parameters":{"setting":"always_retry_plugins","value":false,"section":"master","ensure":"present","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_ini_setting","title":"puppetserver puppetconf user","tags":["pe_ini_setting","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":150,"exported":false,"parameters":{"setting":"user","value":"pe-puppet","section":"main","ensure":"present","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_ini_setting","title":"puppetserver puppetconf group","tags":["pe_ini_setting","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":156,"exported":false,"parameters":{"setting":"group","value":"pe-puppet","section":"main","ensure":"present","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_ini_setting","title":"puppetserver static catalogs","tags":["pe_ini_setting","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":168,"exported":false,"parameters":{"ensure":"absent","setting":"static_catalogs","section":"main","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_ini_setting","title":"puppetconf environment_timeout setting","tags":["pe_ini_setting","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":180,"exported":false,"parameters":{"ensure":"present","setting":"environment_timeout","value":"unlimited","section":"main","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_ini_setting","title":"puppetconf disable_i18n setting","tags":["pe_ini_setting","class","puppet_enterprise::master","puppet_enterprise","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master.pp","line":187,"exported":false,"parameters":{"ensure":"present","setting":"disable_i18n","value":false,"section":"master","path":"/etc/puppetlabs/puppet/puppet.conf","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/server/share/puppet_enterprise","tags":["file","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":416,"exported":false,"parameters":{"ensure":"directory","owner":"root","group":"root","mode":"0755","require":"Package[pe-puppet-enterprise-release]"}},{"type":"Exec","title":"Ensure public dir /opt/puppetlabs/server/data/packages/public","tags":["exec","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":429,"exported":false,"parameters":{"command":"mkdir -p /opt/puppetlabs/server/data/packages/public","path":"/sbin/:/bin/","unless":"ls /opt/puppetlabs/server/data/packages/public","require":"Package[pe-puppetserver]"}},{"type":"Puppet_enterprise::Fileserver_conf","title":"pe_packages","tags":["puppet_enterprise::fileserver_conf","puppet_enterprise","fileserver_conf","pe_packages","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":439,"exported":false,"parameters":{"mountpoint":"pe_packages","path":"/opt/puppetlabs/server/data/packages/public","require":"Exec[Ensure public dir /opt/puppetlabs/server/data/packages/public]","allow":"*","ensure":"present"}},{"type":"Class","title":"Pe_r10k::Params","tags":["class","pe_r10k::params","pe_r10k","params","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"exported":false},{"type":"Class","title":"Pe_r10k","tags":["class","pe_r10k","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":494,"exported":false,"parameters":{"git_settings":{},"deploy_settings":{"write_lock":"Direct invocation of r10k is disabled when Code Manager is auto configured."},"r10k_basedir":"/etc/puppetlabs/code/environments","configfile":"/etc/puppetlabs/r10k/r10k.yaml","cachedir":"/opt/puppetlabs/server/data/puppetserver/r10k","forge_settings":{},"r10k_user":"0","r10k_group":"0"}},{"type":"Class","title":"Pe_r10k::Config","tags":["class","pe_r10k::config","pe_r10k","config","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/pe_r10k/manifests/init.pp","line":89,"exported":false,"parameters":{"configfile":"/etc/puppetlabs/r10k/r10k.yaml","cachedir":"/opt/puppetlabs/server/data/puppetserver/r10k","git_settings":{},"forge_settings":{},"deploy_settings":{"write_lock":"Direct invocation of r10k is disabled when Code Manager is auto configured."},"r10k_basedir":"/etc/puppetlabs/code/environments","r10k_user":"0","r10k_group":"0","require":"Class[Pe_r10k::Package]"}},{"type":"File","title":"r10k.yaml","tags":["file","r10k.yaml","class","pe_r10k::config","pe_r10k","config","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/pe_r10k/manifests/config.pp","line":74,"exported":false,"parameters":{"path":"/etc/puppetlabs/r10k/r10k.yaml","ensure":"file","owner":"0","group":"0","mode":"0644","content":"---\ncachedir: /opt/puppetlabs/server/data/puppetserver/r10k\n\n\ndeploy:\n    write_lock: Direct invocation of r10k is disabled when Code Manager is auto configured.\n\n"}},{"type":"Class","title":"Pe_r10k::Package","tags":["class","pe_r10k::package","pe_r10k","package","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"exported":false},{"type":"Package","title":"pe-r10k","tags":["package","pe-r10k","class","pe_r10k::package","pe_r10k","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/pe_r10k/manifests/package.pp","line":3,"exported":false,"parameters":{"ensure":"latest"}},{"type":"Class","title":"Puppet_enterprise::Master::Code_manager","tags":["class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":517,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","puppet_master_port":8140,"require":"Package[pe-puppetserver]","webserver_ssl_host":"0.0.0.0","webserver_ssl_port":8170,"ssl_protocols":["TLSv1.2"],"hostcrl":"/etc/puppetlabs/puppet/ssl/crl.pem","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","datadir":"/opt/puppetlabs/server/data/code-manager/","cachedir":"/opt/puppetlabs/server/data/code-manager/cache","authenticate_webhook":true,"deploy_pool_size":2,"timeouts_fetch":30,"timeouts_deploy":600,"timeouts_hook":30,"timeouts_shutdown":610,"timeouts_wait":700,"timeouts_sync":60,"purge_whitelist":[".resource_types"]}},{"type":"File","title":"/opt/puppetlabs/server/data/code-manager/","tags":["file","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":81,"exported":false,"parameters":{"path":"/opt/puppetlabs/server/data/code-manager","ensure":"directory","mode":"0640","owner":"pe-puppet","group":"pe-puppet"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","tags":["file","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":86,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppet","group":"pe-puppet","mode":"0640"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"code-manager-v1","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","code-manager-v1","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":90,"exported":false,"parameters":{"container":"puppetserver","namespace":"puppetlabs.code-manager.services","service":"code-manager-v1","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"remote-activity-reporter","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","remote-activity-reporter","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":95,"exported":false,"parameters":{"container":"puppetserver","namespace":"puppetlabs.rbac-client.services.activity","service":"remote-activity-reporter","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Webserver_settings","title":"code-manager","tags":["puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":100,"exported":false,"parameters":{"container":"puppetserver","certname":"pe-xl-core-0.puppet.vm","ssl_listen_address":"0.0.0.0","ssl_listen_port":8170,"localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","hostcrl":"/etc/puppetlabs/puppet/ssl/crl.pem","access_log_config":"/etc/puppetlabs/puppetserver/code-manager-request-logging.xml","ssl_protocols":["TLSv1.2"],"ssl_cert":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","ssl_key":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","container_service":"code-manager","client_auth":"want","ssl_cipher_suites":[]}},{"type":"Pe_hocon_setting","title":"web-router-service.\"puppetlabs.code-manager.services/code-manager-v1\".route","tags":["pe_hocon_setting","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":111,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.code-manager.services/code-manager-v1\".route","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"/code-manager/v1","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"web-router-service.\"puppetlabs.code-manager.services/code-manager-v1\".server","tags":["pe_hocon_setting","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":116,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.code-manager.services/code-manager-v1\".server","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"code-manager","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.file-sync.repo-id","tags":["pe_hocon_setting","code-manager.file-sync.repo-id","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":122,"exported":false,"parameters":{"setting":"code-manager.file-sync.repo-id","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":"puppet-code","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.environmentdir","tags":["pe_hocon_setting","code-manager.environmentdir","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":128,"exported":false,"parameters":{"setting":"code-manager.environmentdir","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":"/etc/puppetlabs/code-staging/environments","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.datadir","tags":["pe_hocon_setting","code-manager.datadir","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":133,"exported":false,"parameters":{"setting":"code-manager.datadir","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":"/opt/puppetlabs/server/data/code-manager/","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.cachedir","tags":["pe_hocon_setting","code-manager.cachedir","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":138,"exported":false,"parameters":{"setting":"code-manager.cachedir","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":"/opt/puppetlabs/server/data/code-manager/cache","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.authenticate-webhook","tags":["pe_hocon_setting","code-manager.authenticate-webhook","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":143,"exported":false,"parameters":{"setting":"code-manager.authenticate-webhook","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":true,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.deploy-pool-size","tags":["pe_hocon_setting","code-manager.deploy-pool-size","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":148,"exported":false,"parameters":{"setting":"code-manager.deploy-pool-size","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":2,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.timeouts.fetch","tags":["pe_hocon_setting","code-manager.timeouts.fetch","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":153,"exported":false,"parameters":{"setting":"code-manager.timeouts.fetch","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":30,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.timeouts.deploy","tags":["pe_hocon_setting","code-manager.timeouts.deploy","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":158,"exported":false,"parameters":{"setting":"code-manager.timeouts.deploy","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":600,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.timeouts.hook","tags":["pe_hocon_setting","code-manager.timeouts.hook","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":163,"exported":false,"parameters":{"setting":"code-manager.timeouts.hook","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":30,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.timeouts.shutdown","tags":["pe_hocon_setting","code-manager.timeouts.shutdown","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":168,"exported":false,"parameters":{"setting":"code-manager.timeouts.shutdown","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":610,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.timeouts.wait","tags":["pe_hocon_setting","code-manager.timeouts.wait","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":173,"exported":false,"parameters":{"setting":"code-manager.timeouts.wait","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":700,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.timeouts.sync","tags":["pe_hocon_setting","code-manager.timeouts.sync","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":178,"exported":false,"parameters":{"setting":"code-manager.timeouts.sync","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","value":60,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.purge-whitelist","tags":["pe_hocon_setting","code-manager.purge-whitelist","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":190,"exported":false,"parameters":{"setting":"code-manager.purge-whitelist","ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","type":"array","value":[".resource_types"],"notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.proxy","tags":["pe_hocon_setting","code-manager.proxy","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":203,"exported":false,"parameters":{"setting":"code-manager.proxy","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.hooks.post-environment","tags":["pe_hocon_setting","code-manager.hooks.post-environment","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":215,"exported":false,"parameters":{"setting":"code-manager.hooks.post-environment","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","type":"array","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.forge","tags":["pe_hocon_setting","code-manager.forge","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":228,"exported":false,"parameters":{"setting":"code-manager.forge","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.forge-settings","tags":["pe_hocon_setting","code-manager.forge-settings","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":235,"exported":false,"parameters":{"setting":"code-manager.forge-settings","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.sources","tags":["pe_hocon_setting","code-manager.sources","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":246,"exported":false,"parameters":{"setting":"code-manager.sources","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.invalid-branches","tags":["pe_hocon_setting","code-manager.invalid-branches","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":259,"exported":false,"parameters":{"setting":"code-manager.invalid-branches","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.git","tags":["pe_hocon_setting","code-manager.git","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":282,"exported":false,"parameters":{"setting":"code-manager.git","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"code-manager.private-key","tags":["pe_hocon_setting","code-manager.private-key","class","puppet_enterprise::master::code_manager","puppet_enterprise","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/code_manager.pp","line":299,"exported":false,"parameters":{"setting":"code-manager.private-key","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/code-manager.conf","notify":"Service[pe-puppetserver]"}},{"type":"Class","title":"Puppet_enterprise::Master::File_sync","tags":["class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":529,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","puppet_master_host":"pe-xl-core-0.puppet.vm","master_of_masters_certname":"pe-xl-core-0.puppet.vm","puppetserver_jruby_puppet_master_code_dir":"/etc/puppetlabs/code","puppetserver_webserver_ssl_port":8140,"localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","replication_mode":"source","provisioned_replicas":["pe-xl-core-1.puppet.vm"],"storage_service_disabled":false,"require":"Package[pe-puppetserver]","file_sync_poll_interval":5,"file_sync_staging_dir":"/etc/puppetlabs/code-staging","file_sync_submodules_dir":"environments","file_sync_locking_enabled":true,"whitelisted_certnames":[],"file_sync_enable_forceful_sync":true,"file_sync_preserve_deleted_submodules":false,"file_sync_stream_file_threshold":1024,"clean_lock_files_at_startup":true}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"file-sync-client-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-client-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":64,"exported":false,"parameters":{"namespace":"puppetlabs.enterprise.services.file-sync-client.file-sync-client-service","container":"puppetserver","require":"Package[pe-puppetserver]","service":"file-sync-client-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"file-sync-web-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-web-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":68,"exported":false,"parameters":{"namespace":"puppetlabs.enterprise.services.file-sync-web-service.file-sync-web-service","container":"puppetserver","require":"Package[pe-puppetserver]","service":"file-sync-web-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"file-sync-versioned-code-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-versioned-code-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":72,"exported":false,"parameters":{"namespace":"puppetlabs.enterprise.services.file-sync.file-sync-versioned-code-service","container":"puppetserver","require":"Package[pe-puppetserver]","service":"file-sync-versioned-code-service","ensure":"present"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","tags":["file","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":78,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppet","group":"pe-puppet","mode":"0640"}},{"type":"Pe_hocon_setting","title":"file-sync.data-dir","tags":["pe_hocon_setting","file-sync.data-dir","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":82,"exported":false,"parameters":{"setting":"file-sync.data-dir","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":"/opt/puppetlabs/server/data/puppetserver/filesync","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.client.poll-interval","tags":["pe_hocon_setting","file-sync.client.poll-interval","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":87,"exported":false,"parameters":{"setting":"file-sync.client.poll-interval","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":5,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.client.server-api-url","tags":["pe_hocon_setting","file-sync.client.server-api-url","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":92,"exported":false,"parameters":{"setting":"file-sync.client.server-api-url","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":"https://pe-xl-core-0.puppet.vm:8140/file-sync/v1","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.client.server-repo-url","tags":["pe_hocon_setting","file-sync.client.server-repo-url","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":97,"exported":false,"parameters":{"setting":"file-sync.client.server-repo-url","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":"https://pe-xl-core-0.puppet.vm:8140/file-sync-git","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.client.ssl-cert","tags":["pe_hocon_setting","file-sync.client.ssl-cert","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":102,"exported":false,"parameters":{"setting":"file-sync.client.ssl-cert","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.client.ssl-key","tags":["pe_hocon_setting","file-sync.client.ssl-key","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":107,"exported":false,"parameters":{"setting":"file-sync.client.ssl-key","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.client.ssl-ca-cert","tags":["pe_hocon_setting","file-sync.client.ssl-ca-cert","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":112,"exported":false,"parameters":{"setting":"file-sync.client.ssl-ca-cert","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.client.enable-forceful-sync","tags":["pe_hocon_setting","file-sync.client.enable-forceful-sync","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":117,"exported":false,"parameters":{"setting":"file-sync.client.enable-forceful-sync","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":true,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.client.stream-file-threshold","tags":["pe_hocon_setting","file-sync.client.stream-file-threshold","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":122,"exported":false,"parameters":{"setting":"file-sync.client.stream-file-threshold","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":1024,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.puppet-code.live-dir","tags":["pe_hocon_setting","file-sync.repos.puppet-code.live-dir","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":128,"exported":false,"parameters":{"setting":"file-sync.repos.puppet-code.live-dir","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":"/etc/puppetlabs/code","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.preserve-deleted-submodules","tags":["pe_hocon_setting","file-sync.preserve-deleted-submodules","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":134,"exported":false,"parameters":{"setting":"file-sync.preserve-deleted-submodules","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":false,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.clean-lock-files-at-startup","tags":["pe_hocon_setting","file-sync.clean-lock-files-at-startup","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":140,"exported":false,"parameters":{"setting":"file-sync.clean-lock-files-at-startup","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":true,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.puppet-code.submodules-dir","tags":["pe_hocon_setting","file-sync.repos.puppet-code.submodules-dir","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":146,"exported":false,"parameters":{"setting":"file-sync.repos.puppet-code.submodules-dir","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":"environments","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"pe-puppetserver.enable-file-sync-locking","tags":["pe_hocon_setting","pe-puppetserver.enable-file-sync-locking","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":152,"exported":false,"parameters":{"setting":"pe-puppetserver.enable-file-sync-locking","path":"/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf","value":true,"ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"web-router-service/file-sync-web-service","tags":["pe_hocon_setting","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":158,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.enterprise.services.file-sync-web-service.file-sync-web-service/file-sync-web-service\"","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"/file-sync","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/code","tags":["file","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":164,"exported":false,"parameters":{"ensure":"directory","owner":"pe-puppet","group":"pe-puppet","mode":"0740","recurse":false}},{"type":"Exec","title":"chown all environments to pe-puppet","tags":["exec","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":172,"exported":false,"parameters":{"command":"chown -R pe-puppet:pe-puppet /etc/puppetlabs/code","unless":"test $(find /etc/puppetlabs/code -not -user pe-puppet -print | wc -l) -eq 0","path":["/bin","/usr/bin"],"require":"File[/etc/puppetlabs/code]"}},{"type":"Pe_hocon_setting","title":"web-router-service/file-sync-storage-service/repo-servlet","tags":["pe_hocon_setting","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":218,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.enterprise.services.file-sync-storage.file-sync-storage-service/file-sync-storage-service\".repo-servlet","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"/file-sync-git","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"file-sync-storage-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-storage-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":223,"exported":false,"parameters":{"namespace":"puppetlabs.enterprise.services.file-sync-storage.file-sync-storage-service","container":"puppetserver","require":"Package[pe-puppetserver]","service":"file-sync-storage-service","ensure":"present"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.puppet-code.staging-dir","tags":["pe_hocon_setting","file-sync.repos.puppet-code.staging-dir","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":226,"exported":false,"parameters":{"setting":"file-sync.repos.puppet-code.staging-dir","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":"/etc/puppetlabs/code-staging","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/code-staging","tags":["file","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":231,"exported":false,"parameters":{"ensure":"directory","owner":"pe-puppet","group":"pe-puppet","mode":"0740","recurse":false}},{"type":"Exec","title":"chown all /etc/puppetlabs/code-staging to pe-puppet","tags":["exec","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":238,"exported":false,"parameters":{"command":"chown -R pe-puppet:pe-puppet /etc/puppetlabs/code-staging","unless":"test $(find /etc/puppetlabs/code-staging -not -user pe-puppet -print | wc -l) -eq 0","path":["/bin","/usr/bin"],"require":"File[/etc/puppetlabs/code-staging]"}},{"type":"Pe_hocon_setting","title":"file-sync.client-certnames","tags":["pe_hocon_setting","file-sync.client-certnames","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":269,"exported":false,"parameters":{"setting":"file-sync.client-certnames","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","value":["pe-xl-compiler-0.puppet.vm","pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"type":"array","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs file sync ca-data repo","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":276,"exported":false,"parameters":{"match_request_path":"/file-sync-git/ca-data","match_request_type":"path","allow":["pe-xl-core-1.puppet.vm"],"sort_order":499,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs file sync ca-data repo","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs file sync api","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":283,"exported":false,"parameters":{"match_request_path":"/file-sync/v1/","match_request_type":"path","allow":["pe-xl-compiler-0.puppet.vm","pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs file sync api","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs file sync repo","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":290,"exported":false,"parameters":{"match_request_path":"/file-sync-git/","match_request_type":"path","allow":["pe-xl-compiler-0.puppet.vm","pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","notify":"Service[pe-puppetserver]","ensure":"present","rule_name":"puppetlabs file sync repo","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Puppet_enterprise::File_sync_directory","title":"ssl directory","tags":["puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":303,"exported":false,"parameters":{"live_dir":"/opt/puppetlabs/server/data/primary-ca-data","staging_dir":"/etc/puppetlabs/puppet/ssl","file_sync_config_file":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","file_sync_repo_name":"ca-data","replication_mode":"source"}},{"type":"Puppet_enterprise::File_sync_directory","title":"enterprise conf.d directory","tags":["puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/file_sync.pp","line":311,"exported":false,"parameters":{"live_dir":"/etc/puppetlabs/enterprise/conf.d","staging_dir":"/etc/puppetlabs/enterprise/conf.d","file_sync_config_file":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf","file_sync_repo_name":"confd-data","replication_mode":"source"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/opt-out","tags":["file","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":553,"exported":false,"parameters":{"ensure":"absent","notify":"Service[pe-puppetserver]","require":"Package[pe-puppetserver]","mode":"0644"}},{"type":"File","title":"/etc/puppetlabs/analytics-opt-out","tags":["file","class","puppet_enterprise::profile::master","puppet_enterprise","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":564,"exported":false,"parameters":{"ensure":"absent","notify":"Service[pe-puppetserver]","require":"Package[pe-puppetserver]","mode":"0644"}},{"type":"Class","title":"Puppet_enterprise::Trapperkeeper::Analytics","tags":["class","puppet_enterprise::trapperkeeper::analytics","puppet_enterprise","trapperkeeper","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/master.pp","line":573,"exported":false,"parameters":{"container":"puppetserver","datadir":"/opt/puppetlabs/server/data/analytics/"}},{"type":"File","title":"/opt/puppetlabs/server/data/analytics/","tags":["file","class","puppet_enterprise::trapperkeeper::analytics","puppet_enterprise","trapperkeeper","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics.pp","line":9,"exported":false,"parameters":{"path":"/opt/puppetlabs/server/data/analytics","ensure":"directory","mode":"0640","owner":"pe-puppet","group":"pe-puppet"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"analytics-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","analytics-service","class","puppet_enterprise::trapperkeeper::analytics","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics.pp","line":16,"exported":false,"parameters":{"container":"puppetserver","namespace":"puppetlabs.analytics.service","service":"analytics-service","ensure":"present"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.analytics","tags":["pe_hocon_setting","puppetserver.webserver.analytics","class","puppet_enterprise::trapperkeeper::analytics","puppet_enterprise","trapperkeeper","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics.pp","line":27,"exported":false,"parameters":{"setting":"webserver.analytics","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings","title":"puppetserver","tags":["puppet_enterprise::trapperkeeper::analytics_client_settings","puppet_enterprise","trapperkeeper","analytics_client_settings","puppetserver","class","puppet_enterprise::trapperkeeper::analytics","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics.pp","line":33,"exported":false,"parameters":{"container":"puppetserver","owner":"pe-puppet","analytics_port":8140,"analytics_host":"pe-xl-core-0.puppet.vm","group":"pe-puppet"}},{"type":"Pe_hocon_setting","title":"analytics.data-directory","tags":["pe_hocon_setting","analytics.data-directory","class","puppet_enterprise::trapperkeeper::analytics","puppet_enterprise","trapperkeeper","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics.pp","line":40,"exported":false,"parameters":{"setting":"analytics.data-directory","path":"/etc/puppetlabs/puppetserver/conf.d/analytics.conf","value":"/opt/puppetlabs/server/data/analytics/","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/product.conf","tags":["file","class","puppet_enterprise::trapperkeeper::analytics","puppet_enterprise","trapperkeeper","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics.pp","line":47,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppet","group":"pe-puppet","mode":"0640"}},{"type":"Pe_hocon_setting","title":"product.version-path","tags":["pe_hocon_setting","product.version-path","class","puppet_enterprise::trapperkeeper::analytics","puppet_enterprise","trapperkeeper","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics.pp","line":55,"exported":false,"parameters":{"setting":"product.version-path","path":"/etc/puppetlabs/puppetserver/conf.d/product.conf","value":"/opt/puppetlabs/server/pe_version","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"product.name","tags":["pe_hocon_setting","product.name","class","puppet_enterprise::trapperkeeper::analytics","puppet_enterprise","trapperkeeper","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics.pp","line":61,"exported":false,"parameters":{"setting":"product.name","path":"/etc/puppetlabs/puppetserver/conf.d/product.conf","value":{"artifact-id":"pe-master","group-id":"puppetlabs.packages"},"ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"web-router-service.\"puppetlabs.analytics.service/analytics-service\"","tags":["pe_hocon_setting","class","puppet_enterprise::trapperkeeper::analytics","puppet_enterprise","trapperkeeper","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics.pp","line":71,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.analytics.service/analytics-service\"","path":"/etc/puppetlabs/puppetserver/conf.d/web-routes.conf","value":"/analytics/v1","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Class","title":"Puppet_enterprise::Profile::Controller","tags":["class","puppet_enterprise::profile::controller","puppet_enterprise","profile","controller","puppet_enterprise::profile::master","master"],"exported":false,"parameters":{"manage_puppet_code":true,"manage_orchestrator":true,"code_manager_url":"https://pe-xl-core-0.puppet.vm:8170/code-manager","orchestrator_url":"https://pe-xl-core-0.puppet.vm:8143","rbac_url":"https://pe-xl-core-0.puppet.vm:4433/rbac-api","puppetdb_hosts":["pe-xl-core-0.puppet.vm"],"puppetdb_port":[8081],"puppetdb_urls":["https://pe-xl-core-0.puppet.vm:8081"]}},{"type":"File","title":"/etc/puppetlabs/client-tools","tags":["file","class","puppet_enterprise::profile::controller","puppet_enterprise","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/controller.pp","line":29,"exported":false,"parameters":{"owner":"root","group":"root","require":"Package[pe-client-tools]","ensure":"directory","mode":"0755","recurse":false}},{"type":"File","title":"/etc/puppetlabs/client-tools/ssl","tags":["file","class","puppet_enterprise::profile::controller","puppet_enterprise","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/controller.pp","line":29,"exported":false,"parameters":{"owner":"root","group":"root","require":"Package[pe-client-tools]","ensure":"directory","mode":"0755","recurse":false}},{"type":"File","title":"/etc/puppetlabs/client-tools/ssl/certs","tags":["file","class","puppet_enterprise::profile::controller","puppet_enterprise","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/controller.pp","line":29,"exported":false,"parameters":{"owner":"root","group":"root","require":"Package[pe-client-tools]","ensure":"directory","mode":"0755","recurse":false}},{"type":"File","title":"/etc/puppetlabs/client-tools/ssl/certs/ca.pem","tags":["file","class","puppet_enterprise::profile::controller","puppet_enterprise","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/controller.pp","line":29,"exported":false,"parameters":{"owner":"root","group":"root","require":"Package[pe-client-tools]","ensure":"present","source":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","mode":"0444"}},{"type":"File","title":"/etc/puppetlabs/client-tools/orchestrator.conf","tags":["file","class","puppet_enterprise::profile::controller","puppet_enterprise","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/controller.pp","line":51,"exported":false,"parameters":{"ensure":"present","owner":"root","group":"root","mode":"0444","content":"{\"options\":{\"service-url\":\"https://pe-xl-core-0.puppet.vm:8143\"}}"}},{"type":"File","title":"/etc/puppetlabs/client-tools/puppet-code.conf","tags":["file","class","puppet_enterprise::profile::controller","puppet_enterprise","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/controller.pp","line":66,"exported":false,"parameters":{"ensure":"present","owner":"root","group":"root","mode":"0444","content":"{\"service-url\":\"https://pe-xl-core-0.puppet.vm:8170/code-manager\"}"}},{"type":"File","title":"/etc/puppetlabs/client-tools/puppet-access.conf","tags":["file","class","puppet_enterprise::profile::controller","puppet_enterprise","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/controller.pp","line":81,"exported":false,"parameters":{"ensure":"present","owner":"root","group":"root","mode":"0444","content":"{\"service-url\":\"https://pe-xl-core-0.puppet.vm:4433/rbac-api\",\"certificate-file\":\"/etc/puppetlabs/puppet/ssl/certs/ca.pem\"}"}},{"type":"File","title":"/etc/puppetlabs/client-tools/puppetdb.conf","tags":["file","class","puppet_enterprise::profile::controller","puppet_enterprise","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/controller.pp","line":96,"exported":false,"parameters":{"ensure":"present","owner":"root","group":"root","mode":"0444","content":"{\"puppetdb\":{\"server_urls\":[\"https://pe-xl-core-0.puppet.vm:8081\"],\"cacert\":\"/etc/puppetlabs/puppet/ssl/certs/ca.pem\"}}"}},{"type":"Class","title":"Puppet_enterprise::Cli_config","tags":["class","puppet_enterprise::cli_config","puppet_enterprise","cli_config","puppet_enterprise::profile::controller","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/controller.pp","line":104,"exported":false,"parameters":{"path":"/etc/puppetlabs/client-tools/services.conf","user":"root","group":"root","mode":"0444","require":"Package[pe-client-tools]","additional_services":[],"additional_nodes":[]}},{"type":"File","title":"/etc/puppetlabs/client-tools/services.conf","tags":["file","class","puppet_enterprise::cli_config","puppet_enterprise","cli_config","puppet_enterprise::profile::controller","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/cli_config.pp","line":194,"exported":false,"parameters":{"ensure":"present","owner":"root","group":"root","mode":"0444"}},{"type":"Pe_hocon_setting","title":"/etc/puppetlabs/client-tools/services.conf/services","tags":["pe_hocon_setting","class","puppet_enterprise::cli_config","puppet_enterprise","cli_config","puppet_enterprise::profile::controller","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/cli_config.pp","line":201,"exported":false,"parameters":{"setting":"services","value":[{"type":"file-sync-client","url":"https://pe-xl-compiler-0.puppet.vm:8140/","server":"pe-xl-compiler-0.puppet.vm","port":8140,"prefix":"","status_url":"https://pe-xl-compiler-0.puppet.vm:8140/status","status_prefix":"status","status_key":"file-sync-client-service","node_certname":"pe-xl-compiler-0.puppet.vm","display_name":"File Sync Client Service"},{"type":"master","url":"https://pe-xl-compiler-0.puppet.vm:8140/","server":"pe-xl-compiler-0.puppet.vm","port":8140,"prefix":"","status_url":"https://pe-xl-compiler-0.puppet.vm:8140/status","status_prefix":"status","status_key":"pe-master","node_certname":"pe-xl-compiler-0.puppet.vm","display_name":"Puppet Server"},{"type":"puppetdb","url":"https://pe-xl-compiler-0.puppet.vm:8081/pdb","server":"pe-xl-compiler-0.puppet.vm","port":8081,"prefix":"pdb","status_url":"https://pe-xl-compiler-0.puppet.vm:8081/status","status_prefix":"status","status_key":"puppetdb-status","node_certname":"pe-xl-compiler-0.puppet.vm","display_name":"PuppetDB"},{"type":"code-manager","url":"https://pe-xl-core-0.puppet.vm:8170/","server":"pe-xl-core-0.puppet.vm","port":8170,"prefix":"","status_url":"https://pe-xl-core-0.puppet.vm:8140/status","status_prefix":"status","status_key":"code-manager-service","node_certname":"pe-xl-core-0.puppet.vm","display_name":"Code Manager"},{"type":"file-sync-storage","url":"https://pe-xl-core-0.puppet.vm:8140/","server":"pe-xl-core-0.puppet.vm","port":8140,"prefix":"","status_url":"https://pe-xl-core-0.puppet.vm:8140/status","status_prefix":"status","status_key":"file-sync-storage-service","node_certname":"pe-xl-core-0.puppet.vm","display_name":"File Sync Storage Service"},{"type":"file-sync-client","url":"https://pe-xl-core-0.puppet.vm:8140/","server":"pe-xl-core-0.puppet.vm","port":8140,"prefix":"","status_url":"https://pe-xl-core-0.puppet.vm:8140/status","status_prefix":"status","status_key":"file-sync-client-service","node_certname":"pe-xl-core-0.puppet.vm","display_name":"File Sync Client Service"},{"type":"classifier","url":"https://pe-xl-core-0.puppet.vm:4433/classifier-api","server":"pe-xl-core-0.puppet.vm","port":"4433","prefix":"classifier-api","status_url":"https://pe-xl-core-0.puppet.vm:4433/status","status_prefix":"status","status_key":"classifier-service","node_certname":"pe-xl-core-0.puppet.vm","display_name":"Classifier"},{"type":"rbac","url":"https://pe-xl-core-0.puppet.vm:4433/rbac-api","server":"pe-xl-core-0.puppet.vm","port":"4433","prefix":"rbac-api","status_url":"https://pe-xl-core-0.puppet.vm:4433/status","status_prefix":"status","status_key":"rbac-service","node_certname":"pe-xl-core-0.puppet.vm","display_name":"RBAC"},{"type":"activity","url":"https://pe-xl-core-0.puppet.vm:4433/activity-api","server":"pe-xl-core-0.puppet.vm","port":"4433","prefix":"activity-api","status_url":"https://pe-xl-core-0.puppet.vm:4433/status","status_prefix":"status","status_key":"activity-service","node_certname":"pe-xl-core-0.puppet.vm","display_name":"Activity Service"},{"type":"master","url":"https://pe-xl-core-0.puppet.vm:8140/","server":"pe-xl-core-0.puppet.vm","port":8140,"prefix":"","status_url":"https://pe-xl-core-0.puppet.vm:8140/status","status_prefix":"status","status_key":"pe-master","node_certname":"pe-xl-core-0.puppet.vm","display_name":"Puppet Server"},{"type":"orchestrator","url":"https://pe-xl-core-0.puppet.vm:8143/orchestrator","server":"pe-xl-core-0.puppet.vm","port":8143,"prefix":"orchestrator","status_url":"https://pe-xl-core-0.puppet.vm:8143/status","status_prefix":"status","status_key":"orchestrator-service","node_certname":"pe-xl-core-0.puppet.vm","display_name":"Orchestrator"},{"type":"pcp-broker","url":"wss://pe-xl-core-0.puppet.vm:8142/pcp","server":"pe-xl-core-0.puppet.vm","port":8142,"prefix":"pcp","status_url":"https://pe-xl-core-0.puppet.vm:8143/status","status_prefix":"status","status_key":"broker-service","node_certname":"pe-xl-core-0.puppet.vm","display_name":"PCP Broker"},{"type":"pcp-broker","url":"wss://pe-xl-core-0.puppet.vm:8142/pcp2","server":"pe-xl-core-0.puppet.vm","port":8142,"prefix":"pcp2","status_url":"https://pe-xl-core-0.puppet.vm:8143/status","status_prefix":"status","status_key":"broker-service","node_certname":"pe-xl-core-0.puppet.vm","display_name":"PCP Broker v2"},{"type":"puppetdb","url":"https://pe-xl-core-0.puppet.vm:8081/pdb","server":"pe-xl-core-0.puppet.vm","port":8081,"prefix":"pdb","status_url":"https://pe-xl-core-0.puppet.vm:8081/status","status_prefix":"status","status_key":"puppetdb-status","node_certname":"pe-xl-core-0.puppet.vm","display_name":"PuppetDB"},{"type":"file-sync-client","url":"https://pe-xl-core-1.puppet.vm:8140/","server":"pe-xl-core-1.puppet.vm","port":8140,"prefix":"","status_url":"https://pe-xl-core-1.puppet.vm:8140/status","status_prefix":"status","status_key":"file-sync-client-service","node_certname":"pe-xl-core-1.puppet.vm","display_name":"File Sync Client Service"},{"type":"classifier","url":"https://pe-xl-core-1.puppet.vm:4433/classifier-api","server":"pe-xl-core-1.puppet.vm","port":"4433","prefix":"classifier-api","status_url":"https://pe-xl-core-1.puppet.vm:4433/status","status_prefix":"status","status_key":"classifier-service","node_certname":"pe-xl-core-1.puppet.vm","display_name":"Classifier"},{"type":"rbac","url":"https://pe-xl-core-1.puppet.vm:4433/rbac-api","server":"pe-xl-core-1.puppet.vm","port":"4433","prefix":"rbac-api","status_url":"https://pe-xl-core-1.puppet.vm:4433/status","status_prefix":"status","status_key":"rbac-service","node_certname":"pe-xl-core-1.puppet.vm","display_name":"RBAC"},{"type":"activity","url":"https://pe-xl-core-1.puppet.vm:4433/activity-api","server":"pe-xl-core-1.puppet.vm","port":"4433","prefix":"activity-api","status_url":"https://pe-xl-core-1.puppet.vm:4433/status","status_prefix":"status","status_key":"activity-service","node_certname":"pe-xl-core-1.puppet.vm","display_name":"Activity Service"},{"type":"master","url":"https://pe-xl-core-1.puppet.vm:8140/","server":"pe-xl-core-1.puppet.vm","port":8140,"prefix":"","status_url":"https://pe-xl-core-1.puppet.vm:8140/status","status_prefix":"status","status_key":"pe-master","node_certname":"pe-xl-core-1.puppet.vm","display_name":"Puppet Server"},{"type":"puppetdb","url":"https://pe-xl-core-1.puppet.vm:8081/pdb","server":"pe-xl-core-1.puppet.vm","port":8081,"prefix":"pdb","status_url":"https://pe-xl-core-1.puppet.vm:8081/status","status_prefix":"status","status_key":"puppetdb-status","node_certname":"pe-xl-core-1.puppet.vm","display_name":"PuppetDB"}],"type":"array","ensure":"present","path":"/etc/puppetlabs/client-tools/services.conf"}},{"type":"Pe_hocon_setting","title":"/etc/puppetlabs/client-tools/services.conf/nodes","tags":["pe_hocon_setting","class","puppet_enterprise::cli_config","puppet_enterprise","cli_config","puppet_enterprise::profile::controller","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/cli_config.pp","line":207,"exported":false,"parameters":{"setting":"nodes","value":[{"role":"primary_master","display_name":"Primary Master","certname":"pe-xl-core-0.puppet.vm"},{"role":"primary_master_replica","display_name":"Primary Master Replica","certname":"pe-xl-core-1.puppet.vm"}],"type":"array","ensure":"present","path":"/etc/puppetlabs/client-tools/services.conf"}},{"type":"Pe_hocon_setting","title":"/etc/puppetlabs/client-tools/services.conf/certs","tags":["pe_hocon_setting","class","puppet_enterprise::cli_config","puppet_enterprise","cli_config","puppet_enterprise::profile::controller","profile","controller","puppet_enterprise::profile::master","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/cli_config.pp","line":213,"exported":false,"parameters":{"setting":"certs","value":{"ca-cert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem"},"type":"hash","ensure":"present","path":"/etc/puppetlabs/client-tools/services.conf"}},{"type":"Class","title":"Puppet_enterprise::Puppetdb","tags":["class","puppet_enterprise::puppetdb","puppet_enterprise","puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/puppetdb.pp","line":97,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","cert_whitelist_path":"/etc/puppetlabs/puppetdb/certificate-whitelist","confdir":"/etc/puppetlabs/puppetdb/conf.d","database_name":"pe-puppetdb","database_port":5432,"database_host":"pe-xl-db-0.puppet.vm","database_user":"pe-puppetdb","gc_interval":"60","node_ttl":"7d","report_ttl":"14d","listen_address":"127.0.0.1","listen_port":"8080","ssl_listen_address":"0.0.0.0","ssl_listen_port":8081,"localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.cert.pem","java_args":{"Xmx":"768m","Xms":"256m"},"rbac_url":"https://pe-xl-core-0.puppet.vm:4433/rbac-api","sync_peers":[{"host":"pe-xl-core-1.puppet.vm","port":8081,"sync_interval_minutes":2}],"service_stop_retries":60,"start_timeout":14400,"read_maximum_pool_size":25,"command_processing_threads":2,"concurrent_writes":2}},{"type":"Class","title":"Puppet_enterprise::Puppetdb::Database_ini","tags":["class","puppet_enterprise::puppetdb::database_ini","puppet_enterprise","puppetdb","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb.pp","line":117,"exported":false,"parameters":{"confdir":"/etc/puppetlabs/puppetdb/conf.d","database_host":"pe-xl-db-0.puppet.vm","database_name":"pe-puppetdb","database_port":5432,"database_user":"pe-puppetdb","database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.cert.pem","gc_interval":"60","node_ttl":"7d","report_ttl":"14d","write_maximum_pool_size":25,"facts_blacklist":[],"facts_blacklist_type":"literal"}},{"type":"Puppet_enterprise::Puppetdb::Shared_database_settings","title":"database","tags":["puppet_enterprise::puppetdb::shared_database_settings","puppet_enterprise","puppetdb","shared_database_settings","database","class","puppet_enterprise::puppetdb::database_ini","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/database_ini.pp","line":41,"exported":false,"parameters":{"confdir":"/etc/puppetlabs/puppetdb/conf.d","database_host":"pe-xl-db-0.puppet.vm","database_name":"pe-puppetdb","database_port":5432,"database_user":"pe-puppetdb","database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.cert.pem","maximum_pool_size":25,"section":"database"}},{"type":"Pe_ini_setting","title":"puppetdb_gc_interval","tags":["pe_ini_setting","puppetdb_gc_interval","class","puppet_enterprise::puppetdb::database_ini","puppet_enterprise","puppetdb","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/database_ini.pp","line":61,"exported":false,"parameters":{"setting":"gc-interval","value":"60","path":"/etc/puppetlabs/puppetdb/conf.d/database.ini","ensure":"present","section":"database","require":"File[/etc/puppetlabs/puppetdb/conf.d/database.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_node_ttl","tags":["pe_ini_setting","puppetdb_node_ttl","class","puppet_enterprise::puppetdb::database_ini","puppet_enterprise","puppetdb","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/database_ini.pp","line":66,"exported":false,"parameters":{"setting":"node-ttl","value":"7d","path":"/etc/puppetlabs/puppetdb/conf.d/database.ini","ensure":"present","section":"database","require":"File[/etc/puppetlabs/puppetdb/conf.d/database.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_node_purge_ttl","tags":["pe_ini_setting","puppetdb_node_purge_ttl","class","puppet_enterprise::puppetdb::database_ini","puppet_enterprise","puppetdb","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/database_ini.pp","line":76,"exported":false,"parameters":{"ensure":"absent","setting":"node-purge-ttl","path":"/etc/puppetlabs/puppetdb/conf.d/database.ini","section":"database","require":"File[/etc/puppetlabs/puppetdb/conf.d/database.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_report_ttl","tags":["pe_ini_setting","puppetdb_report_ttl","class","puppet_enterprise::puppetdb::database_ini","puppet_enterprise","puppetdb","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/database_ini.pp","line":82,"exported":false,"parameters":{"setting":"report-ttl","value":"14d","path":"/etc/puppetlabs/puppetdb/conf.d/database.ini","ensure":"present","section":"database","require":"File[/etc/puppetlabs/puppetdb/conf.d/database.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_facts_blacklist","tags":["pe_ini_setting","puppetdb_facts_blacklist","class","puppet_enterprise::puppetdb::database_ini","puppet_enterprise","puppetdb","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/database_ini.pp","line":89,"exported":false,"parameters":{"setting":"facts-blacklist","value":"","path":"/etc/puppetlabs/puppetdb/conf.d/database.ini","ensure":"present","section":"database","require":"File[/etc/puppetlabs/puppetdb/conf.d/database.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_facts_blacklist_type","tags":["pe_ini_setting","puppetdb_facts_blacklist_type","class","puppet_enterprise::puppetdb::database_ini","puppet_enterprise","puppetdb","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/database_ini.pp","line":94,"exported":false,"parameters":{"setting":"facts-blacklist-type","value":"literal","path":"/etc/puppetlabs/puppetdb/conf.d/database.ini","ensure":"present","section":"database","require":"File[/etc/puppetlabs/puppetdb/conf.d/database.ini]"}},{"type":"Puppet_enterprise::Puppetdb::Shared_database_settings","title":"read-database","tags":["puppet_enterprise::puppetdb::shared_database_settings","puppet_enterprise","puppetdb","shared_database_settings","read-database","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb.pp","line":133,"exported":false,"parameters":{"confdir":"/etc/puppetlabs/puppetdb/conf.d","database_host":"pe-xl-db-0.puppet.vm","database_name":"pe-puppetdb","database_port":5432,"database_user":"pe-puppetdb","database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.cert.pem","maximum_pool_size":25,"section":"read-database"}},{"type":"Class","title":"Puppet_enterprise::Puppetdb::Jetty_ini","tags":["class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb.pp","line":144,"exported":false,"parameters":{"cert_whitelist_path":"/etc/puppetlabs/puppetdb/certificate-whitelist","confdir":"/etc/puppetlabs/puppetdb/conf.d","listen_address":"127.0.0.1","listen_port":"8080","ssl_listen_address":"0.0.0.0","ssl_listen_port":8081,"localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","certname":"pe-xl-core-0.puppet.vm","ssl_dir":"/etc/puppetlabs/puppetdb/ssl","ssl_protocols":["TLSv1.2"],"cipher_suites":"","tk_jetty_request_header_max_size":65536}},{"type":"File","title":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","tags":["file","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":41,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppetdb","group":"pe-puppetdb","mode":"0640","require":"Package[pe-puppetdb]"}},{"type":"Pe_ini_setting","title":"puppetdb_host","tags":["pe_ini_setting","puppetdb_host","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":67,"exported":false,"parameters":{"setting":"host","value":"127.0.0.1","ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","section":"jetty","require":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_port","tags":["pe_ini_setting","puppetdb_port","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":72,"exported":false,"parameters":{"setting":"port","value":"8080","ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","section":"jetty","require":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_sslhost","tags":["pe_ini_setting","puppetdb_sslhost","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":78,"exported":false,"parameters":{"setting":"ssl-host","value":"0.0.0.0","ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","section":"jetty","require":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_sslport","tags":["pe_ini_setting","puppetdb_sslport","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":83,"exported":false,"parameters":{"setting":"ssl-port","value":8081,"ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","section":"jetty","require":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_cipher_suites","tags":["pe_ini_setting","puppetdb_cipher_suites","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":93,"exported":false,"parameters":{"ensure":"absent","setting":"cipher-suites","value":"","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","section":"jetty","require":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_ssl_key","tags":["pe_ini_setting","puppetdb_ssl_key","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":99,"exported":false,"parameters":{"setting":"ssl-key","value":"/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","section":"jetty","require":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_ssl_cert","tags":["pe_ini_setting","puppetdb_ssl_cert","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":104,"exported":false,"parameters":{"setting":"ssl-cert","value":"/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","section":"jetty","require":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_ssl_ca_cert","tags":["pe_ini_setting","puppetdb_ssl_ca_cert","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":109,"exported":false,"parameters":{"setting":"ssl-ca-cert","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","section":"jetty","require":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_client_auth","tags":["pe_ini_setting","puppetdb_client_auth","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":114,"exported":false,"parameters":{"setting":"client-auth","value":"want","ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","section":"jetty","require":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb_ssl_protocols","tags":["pe_ini_setting","puppetdb_ssl_protocols","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":119,"exported":false,"parameters":{"setting":"ssl-protocols","value":"TLSv1.2","ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","section":"jetty","require":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"}},{"type":"Pe_ini_setting","title":"puppetdb-certificate-whitelist","tags":["pe_ini_setting","puppetdb-certificate-whitelist","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":124,"exported":false,"parameters":{"section":"puppetdb","setting":"certificate-whitelist","value":"/etc/puppetlabs/puppetdb/certificate-whitelist","require":"File[/etc/puppetlabs/puppetdb/certificate-whitelist]","ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini"}},{"type":"Pe_ini_setting","title":"puppetdb_request_header_max_size","tags":["pe_ini_setting","puppetdb_request_header_max_size","class","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise","puppetdb","jetty_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/jetty_ini.pp","line":139,"exported":false,"parameters":{"setting":"request-header-max-size","value":65536,"ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/jetty.ini","section":"jetty","require":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"}},{"type":"Class","title":"Puppet_enterprise::Puppetdb::Rbac_consumer_conf","tags":["class","puppet_enterprise::puppetdb::rbac_consumer_conf","puppet_enterprise","puppetdb","rbac_consumer_conf","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb.pp","line":154,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","confdir":"/etc/puppetlabs/puppetdb/conf.d","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","rbac_url":"https://pe-xl-core-0.puppet.vm:4433/rbac-api","ssl_dir":"/etc/puppetlabs/puppetdb/ssl"}},{"type":"File","title":"/etc/puppetlabs/puppetdb/conf.d/rbac_consumer.conf","tags":["file","class","puppet_enterprise::puppetdb::rbac_consumer_conf","puppet_enterprise","puppetdb","rbac_consumer_conf","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/rbac_consumer_conf.pp","line":20,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppetdb","group":"pe-puppetdb","mode":"0640","require":"Package[pe-puppetdb]"}},{"type":"Pe_hocon_setting","title":"puppetdb_rbac_consumer_ssl_key","tags":["pe_hocon_setting","puppetdb_rbac_consumer_ssl_key","class","puppet_enterprise::puppetdb::rbac_consumer_conf","puppet_enterprise","puppetdb","rbac_consumer_conf","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/rbac_consumer_conf.pp","line":35,"exported":false,"parameters":{"setting":"global.certs.ssl-key","value":"/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pem","path":"/etc/puppetlabs/puppetdb/conf.d/rbac_consumer.conf","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/rbac_consumer.conf]"}},{"type":"Pe_hocon_setting","title":"puppetdb_rbac_consumer_ssl_cert","tags":["pe_hocon_setting","puppetdb_rbac_consumer_ssl_cert","class","puppet_enterprise::puppetdb::rbac_consumer_conf","puppet_enterprise","puppetdb","rbac_consumer_conf","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/rbac_consumer_conf.pp","line":40,"exported":false,"parameters":{"setting":"global.certs.ssl-cert","value":"/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.cert.pem","path":"/etc/puppetlabs/puppetdb/conf.d/rbac_consumer.conf","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/rbac_consumer.conf]"}},{"type":"Pe_hocon_setting","title":"puppetdb_rbac_consumer_ssl_ca_cert","tags":["pe_hocon_setting","puppetdb_rbac_consumer_ssl_ca_cert","class","puppet_enterprise::puppetdb::rbac_consumer_conf","puppet_enterprise","puppetdb","rbac_consumer_conf","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/rbac_consumer_conf.pp","line":45,"exported":false,"parameters":{"setting":"global.certs.ssl-ca-cert","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","path":"/etc/puppetlabs/puppetdb/conf.d/rbac_consumer.conf","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/rbac_consumer.conf]"}},{"type":"Pe_hocon_setting","title":"puppetdb_rbac_consumer_api_url","tags":["pe_hocon_setting","puppetdb_rbac_consumer_api_url","class","puppet_enterprise::puppetdb::rbac_consumer_conf","puppet_enterprise","puppetdb","rbac_consumer_conf","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/rbac_consumer_conf.pp","line":51,"exported":false,"parameters":{"setting":"rbac-consumer.api-url","value":"https://pe-xl-core-0.puppet.vm:4433/rbac-api","path":"/etc/puppetlabs/puppetdb/conf.d/rbac_consumer.conf","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/rbac_consumer.conf]"}},{"type":"Class","title":"Puppet_enterprise::Puppetdb::Sync_ini","tags":["class","puppet_enterprise::puppetdb::sync_ini","puppet_enterprise","puppetdb","sync_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb.pp","line":162,"exported":false,"parameters":{"peers":[{"host":"pe-xl-core-1.puppet.vm","port":8081,"sync_interval_minutes":2}],"confdir":"/etc/puppetlabs/puppetdb/conf.d"}},{"type":"File","title":"/etc/puppetlabs/puppetdb/conf.d/sync.ini","tags":["file","class","puppet_enterprise::puppetdb::sync_ini","puppet_enterprise","puppetdb","sync_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/sync_ini.pp","line":14,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppetdb","group":"pe-puppetdb","mode":"0640","require":"Package[pe-puppetdb]"}},{"type":"Pe_ini_setting","title":"puppetdb_sync_server_urls","tags":["pe_ini_setting","puppetdb_sync_server_urls","class","puppet_enterprise::puppetdb::sync_ini","puppet_enterprise","puppetdb","sync_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/sync_ini.pp","line":40,"exported":false,"parameters":{"setting":"server_urls","value":"https://pe-xl-core-1.puppet.vm:8081","ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/sync.ini","section":"sync","require":"File[/etc/puppetlabs/puppetdb/conf.d/sync.ini]","notify":"Service[pe-puppetdb]"}},{"type":"Pe_ini_setting","title":"puppetdb_sync_intervals","tags":["pe_ini_setting","puppetdb_sync_intervals","class","puppet_enterprise::puppetdb::sync_ini","puppet_enterprise","puppetdb","sync_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/sync_ini.pp","line":45,"exported":false,"parameters":{"setting":"intervals","value":"2m","ensure":"present","path":"/etc/puppetlabs/puppetdb/conf.d/sync.ini","section":"sync","require":"File[/etc/puppetlabs/puppetdb/conf.d/sync.ini]","notify":"Service[pe-puppetdb]"}},{"type":"Class","title":"Puppet_enterprise::Puppetdb::Config_ini","tags":["class","puppet_enterprise::puppetdb::config_ini","puppet_enterprise","puppetdb","config_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb.pp","line":168,"exported":false,"parameters":{"confdir":"/etc/puppetlabs/puppetdb/conf.d","command_processing_threads":2,"concurrent_writes":2}},{"type":"File","title":"/etc/puppetlabs/puppetdb/conf.d/config.ini","tags":["file","class","puppet_enterprise::puppetdb::config_ini","puppet_enterprise","puppetdb","config_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/config_ini.pp","line":17,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppetdb","group":"pe-puppetdb","mode":"0640","require":"Package[pe-puppetdb]"}},{"type":"Pe_ini_setting","title":"config.ini threads command-processing section","tags":["pe_ini_setting","class","puppet_enterprise::puppetdb::config_ini","puppet_enterprise","puppetdb","config_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/config_ini.pp","line":32,"exported":false,"parameters":{"section":"command-processing","setting":"threads","value":2,"notify":"Service[pe-puppetdb]","path":"/etc/puppetlabs/puppetdb/conf.d/config.ini","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/config.ini]"}},{"type":"Pe_ini_setting","title":"config.ini concurrent-writes command-processing section","tags":["pe_ini_setting","class","puppet_enterprise::puppetdb::config_ini","puppet_enterprise","puppetdb","config_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/config_ini.pp","line":39,"exported":false,"parameters":{"section":"command-processing","setting":"concurrent-writes","value":2,"notify":"Service[pe-puppetdb]","path":"/etc/puppetlabs/puppetdb/conf.d/config.ini","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/config.ini]"}},{"type":"Class","title":"Puppet_enterprise::Puppetdb::Service","tags":["class","puppet_enterprise::puppetdb::service","puppet_enterprise","puppetdb","service","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb.pp","line":174,"exported":false},{"type":"Puppet_enterprise::Trapperkeeper::Pe_service","title":"puppetdb","tags":["puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","puppetdb","class","puppet_enterprise::puppetdb::service","service","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/service.pp","line":7,"exported":false,"parameters":{"service_subscribe":["Class[Puppet_enterprise::Puppetdb::Rbac_consumer_conf]","Class[Puppet_enterprise::Puppetdb::Database_ini]","Class[Puppet_enterprise::Puppetdb::Jetty_ini]","Class[Puppet_enterprise::Puppetdb::Config_ini]","Puppet_enterprise::Puppetdb::Shared_database_settings[read-database]"],"container":"puppetdb","ensure":"running","enable":true}},{"type":"File","title":"/var/log/puppetlabs/puppetdb","tags":["file","class","puppet_enterprise::puppetdb","puppet_enterprise","puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb.pp","line":176,"exported":false,"parameters":{"ensure":"directory","owner":"pe-puppetdb","group":"pe-puppetdb","mode":"0640","require":"Package[pe-puppetdb]"}},{"type":"File","title":"/var/log/puppetlabs/puppetdb/puppetdb.log","tags":["file","class","puppet_enterprise::puppetdb","puppet_enterprise","puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb.pp","line":184,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppetdb","group":"pe-puppetdb","mode":"0640","require":"Package[pe-puppetdb]"}},{"type":"Puppet_enterprise::Trapperkeeper::Java_args","title":"puppetdb","tags":["puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb.pp","line":192,"exported":false,"parameters":{"java_args":{"Xmx":"768m","Xms":"256m"},"require":"Package[pe-puppetdb]","enable_gc_logging":true,"container":"puppetdb","initconfdir":"/etc/sysconfig"}},{"type":"Puppet_enterprise::Trapperkeeper::Init_defaults","title":"puppetdb","tags":["puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb.pp","line":198,"exported":false,"parameters":{"service_stop_retries":60,"start_timeout":14400,"container":"puppetdb","user":"pe-puppetdb","group":"pe-puppetdb"}},{"type":"Puppet_enterprise::Certs","title":"pe-puppetdb","tags":["puppet_enterprise::certs","puppet_enterprise","certs","pe-puppetdb","class","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/puppetdb.pp","line":121,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","container":"puppetdb","cert_dir":"/etc/puppetlabs/puppetdb/ssl","make_pk8_cert":true,"group":"pe-puppetdb","owner":"pe-puppetdb","ssl_dir":"/etc/puppetlabs/puppet/ssl","append_ca":false,"full_restart":["Exec[pe-puppetdb service full restart]"],"package_name":"pe-puppetdb"}},{"type":"File","title":"/etc/puppetlabs/puppetdb/certificate-whitelist","tags":["file","class","puppet_enterprise::profile::puppetdb","puppet_enterprise","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/puppetdb.pp","line":128,"exported":false,"parameters":{"ensure":"file","group":"pe-puppetdb","owner":"pe-puppetdb","mode":"0640","require":"Package[pe-puppetdb]"}},{"type":"Class","title":"Puppet_enterprise::Certs::Puppetdb_whitelist","tags":["class","puppet_enterprise::certs::puppetdb_whitelist","puppet_enterprise","certs","puppetdb_whitelist","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/puppetdb.pp","line":143,"exported":false,"parameters":{"cert_whitelist_path":"/etc/puppetlabs/puppetdb/certificate-whitelist","certnames":["pe-xl-core-1.puppet.vm","pe-xl-core-0.puppet.vm"],"notify":"Service[pe-puppetdb]"}},{"type":"Puppet_enterprise::Certs::Whitelist_entry","title":"puppet_enterprise::certs::puppetdb_whitelist entry: pe-xl-core-0.puppet.vm","tags":["puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::certs::puppetdb_whitelist","puppetdb_whitelist","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/puppetdb_whitelist.pp","line":53,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","target":"/etc/puppetlabs/puppetdb/certificate-whitelist","require":"File[/etc/puppetlabs/puppetdb/certificate-whitelist]"}},{"type":"Puppet_enterprise::Certs::Whitelist_entry","title":"puppet_enterprise::certs::puppetdb_whitelist entry: pe-xl-compiler-0.puppet.vm","tags":["puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::certs::puppetdb_whitelist","puppetdb_whitelist","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/puppetdb_whitelist.pp","line":53,"exported":false,"parameters":{"certname":"pe-xl-compiler-0.puppet.vm","target":"/etc/puppetlabs/puppetdb/certificate-whitelist","require":"File[/etc/puppetlabs/puppetdb/certificate-whitelist]"}},{"type":"Puppet_enterprise::Certs::Whitelist_entry","title":"puppet_enterprise::certs::puppetdb_whitelist entry: pe-xl-core-1.puppet.vm","tags":["puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::certs::puppetdb_whitelist","puppetdb_whitelist","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/puppetdb_whitelist.pp","line":53,"exported":false,"parameters":{"certname":"pe-xl-core-1.puppet.vm","target":"/etc/puppetlabs/puppetdb/certificate-whitelist","require":"File[/etc/puppetlabs/puppetdb/certificate-whitelist]"}},{"type":"Exec","title":"create repo_dir","tags":["exec","class","pe_repo"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/init.pp","line":62,"exported":false,"parameters":{"command":"mkdir -p /opt/puppetlabs/server/data/packages","creates":"/opt/puppetlabs/server/data/packages","path":"/sbin/:/bin/"}},{"type":"Exec","title":"create staging_dir","tags":["exec","class","pe_repo"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/init.pp","line":68,"exported":false,"parameters":{"command":"mkdir -p /opt/puppetlabs/server/data/staging","creates":"/opt/puppetlabs/server/data/staging","path":"/sbin/:/bin/"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages","tags":["file","class","pe_repo"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/init.pp","line":75,"exported":false,"parameters":{"ensure":"directory","require":["Exec[create repo_dir]","Exec[create staging_dir]"],"mode":"644","owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public","tags":["file","class","pe_repo"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/init.pp","line":75,"exported":false,"parameters":{"ensure":"directory","require":["Exec[create repo_dir]","Exec[create staging_dir]"],"mode":"0755","owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/current","tags":["file","class","pe_repo"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/init.pp","line":84,"exported":false,"parameters":{"ensure":"link","target":"/opt/puppetlabs/server/data/packages/public/2019.1.1","mode":"644","owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/GPG-KEY-puppet-2025-04-06","tags":["file","class","pe_repo"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/init.pp","line":90,"exported":false,"parameters":{"source":"puppet:///modules/pe_repo/GPG-KEY-puppet-2025-04-06","ensure":"file","mode":"644","owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/GPG-KEY-puppet","tags":["file","class","pe_repo"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/init.pp","line":95,"exported":false,"parameters":{"source":"puppet:///modules/pe_repo/GPG-KEY-puppet","ensure":"file","mode":"644","owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/index.html","tags":["file","class","pe_repo"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/init.pp","line":100,"exported":false,"parameters":{"ensure":"present","mode":"644","owner":"root","group":"root"}},{"type":"Class","title":"Pe_repo::Bulk_pluginsync","tags":["class","pe_repo::bulk_pluginsync","pe_repo","bulk_pluginsync"],"exported":false,"parameters":{"compile_master_pool_address":"puppet-xl.vm"}},{"type":"Cron","title":"create tar.gz of pluginsync cache","tags":["cron","class","pe_repo::bulk_pluginsync","pe_repo","bulk_pluginsync"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/bulk_pluginsync.pp","line":10,"exported":false,"parameters":{"command":"tar --directory /opt/puppetlabs/puppet/cache -czf /opt/puppetlabs/server/data/packages/public/bulk_pluginsync.tar.gz lib; chmod 644 /opt/puppetlabs/server/data/packages/public/bulk_pluginsync.tar.gz","hour":"*","minute":5}},{"type":"Exec","title":"create tar.gz of pluginsync cache - onetime","tags":["exec","class","pe_repo::bulk_pluginsync","pe_repo","bulk_pluginsync"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/bulk_pluginsync.pp","line":16,"exported":false,"parameters":{"command":"tar --directory /opt/puppetlabs/puppet/cache -czf /opt/puppetlabs/server/data/packages/public/bulk_pluginsync.tar.gz lib; chmod 644 /opt/puppetlabs/server/data/packages/public/bulk_pluginsync.tar.gz","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","creates":"/opt/puppetlabs/server/data/packages/public/bulk_pluginsync.tar.gz"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/bulk_pluginsync.tar.gz","tags":["file","class","pe_repo::bulk_pluginsync","pe_repo","bulk_pluginsync"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/bulk_pluginsync.pp","line":22,"exported":false,"parameters":{"mode":"0644","ensure":"file","owner":"root","group":"root"}},{"type":"Pe_repo::El","title":"el-7-x86_64","tags":["pe_repo::el","pe_repo","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/platform/el_7_x86_64.pp","line":6,"exported":false,"parameters":{"agent_version":"6.4.3","pe_version":"2019.1.1","installer_build":"el-7-x86_64"}},{"type":"Pe_repo::Windows","title":"windows-x86_64","tags":["pe_repo::windows","pe_repo","windows","windows-x86_64","class","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/platform/windows_x86_64.pp","line":6,"exported":false,"parameters":{"arch":"x64","agent_version":"6.4.3","pe_version":"2019.1.1","installer_build":"windows-x86_64"}},{"type":"Class","title":"Puppet_enterprise::Master::Recover_configuration","tags":["class","puppet_enterprise::master::recover_configuration","puppet_enterprise","master","recover_configuration","puppet_enterprise::profile::certificate_authority","profile","certificate_authority"],"exported":false,"parameters":{"recover_configuration_interval":30,"recover_configuration_interval_offset":27,"pe_environment":"production"}},{"type":"File","title":"/var/log/puppetlabs/puppet_infra_recover_config_cron.log","tags":["file","class","puppet_enterprise::master::recover_configuration","puppet_enterprise","master","recover_configuration","puppet_enterprise::profile::certificate_authority","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/recover_configuration.pp","line":33,"exported":false,"parameters":{"ensure":"file","mode":"0640"}},{"type":"Cron","title":"puppet infra recover_configuration","tags":["cron","class","puppet_enterprise::master::recover_configuration","puppet_enterprise","master","recover_configuration","puppet_enterprise::profile::certificate_authority","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/master/recover_configuration.pp","line":38,"exported":false,"parameters":{"ensure":"present","command":"$(command -v bash) -c 'PATH=/opt/puppetlabs/bin:$PATH PREV=$(tail -10000 /var/log/puppetlabs/puppet_infra_recover_config_cron.log) DATE=$(date +\\%Y-\\%m-\\%dT\\%H:\\%M:\\%S\\%:z) OUT=$(/opt/puppetlabs/bin/puppet infrastructure recover_configuration --pe-environment production 2>&1) && { echo \"$PREV\"; echo -n \"$DATE\"; echo \" $OUT\"; } > /var/log/puppetlabs/puppet_infra_recover_config_cron.log'","user":"root","hour":"*","minute":[27,57],"require":"File[/var/log/puppetlabs/puppet_infra_recover_config_cron.log]"}},{"type":"Pe_hocon_setting","title":"certificate-authority.certificate-status","tags":["pe_hocon_setting","certificate-authority.certificate-status","class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/certificate_authority.pp","line":35,"exported":false,"parameters":{"setting":"certificate-authority.certificate-status","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/ca.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"certificate-authority.allow-subject-alt-names","tags":["pe_hocon_setting","certificate-authority.allow-subject-alt-names","class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/certificate_authority.pp","line":41,"exported":false,"parameters":{"setting":"certificate-authority.allow-subject-alt-names","ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/ca.conf","value":true,"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"certificate-authority.enable-infra-crl","tags":["pe_hocon_setting","certificate-authority.enable-infra-crl","class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/certificate_authority.pp","line":48,"exported":false,"parameters":{"setting":"certificate-authority.enable-infra-crl","ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/ca.conf","value":true,"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppet/ssl/ca","tags":["file","class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/certificate_authority.pp","line":61,"exported":false,"parameters":{"ensure":"directory","owner":"pe-puppet","group":"pe-puppet","require":"Package[pe-puppetserver]","mode":"0644"}},{"type":"File","title":"/etc/puppetlabs/puppet/ssl/ca/infra_inventory.txt","tags":["file","class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/certificate_authority.pp","line":68,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppet","group":"pe-puppet","mode":"0644","require":"Package[pe-puppetserver]","content":"pe-xl-compiler-0.puppet.vm\npe-xl-core-0.puppet.vm\npe-xl-core-1.puppet.vm"}},{"type":"Exec","title":"generate auxiliary infra CRL files","tags":["exec","class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/certificate_authority.pp","line":78,"exported":false,"parameters":{"command":"/opt/puppetlabs/bin/puppetserver ca enable --infracrl","creates":"/etc/puppetlabs/puppet/ssl/ca/infra_crl.pem","require":"File[/etc/puppetlabs/puppet/ssl/ca/infra_inventory.txt]"}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs certificate status","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/certificate_authority.pp","line":89,"exported":false,"parameters":{"ensure":"present","match_request_path":"/puppet-ca/v1/certificate_status/","match_request_type":"path","match_request_method":["get","put","delete"],"allow":["pe-xl-core-0.puppet.vm","pe-xl-core-0.puppet.vm",{"extensions":{":pp_cli_auth":"true"}}],"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","notify":"Service[pe-puppetserver]","rule_name":"puppetlabs certificate status","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"puppetlabs certificate statuses","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/certificate_authority.pp","line":100,"exported":false,"parameters":{"ensure":"present","match_request_path":"/puppet-ca/v1/certificate_statuses/","match_request_type":"path","match_request_method":"get","allow":["pe-xl-core-0.puppet.vm","pe-xl-core-0.puppet.vm",{"extensions":{":pp_cli_auth":"true"}}],"sort_order":500,"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","notify":"Service[pe-puppetserver]","rule_name":"puppetlabs certificate statuses","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_hocon_setting","title":"certificate-authority.proxy-config","tags":["pe_hocon_setting","certificate-authority.proxy-config","class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/certificate_authority.pp","line":124,"exported":false,"parameters":{"setting":"certificate-authority.proxy-config","ensure":"absent","path":"/etc/puppetlabs/puppetserver/conf.d/ca.conf","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"Puppet_enterprise::Fileserver_conf","title":"pe_modules","tags":["puppet_enterprise::fileserver_conf","puppet_enterprise","fileserver_conf","pe_modules","class","puppet_enterprise::profile::certificate_authority","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/certificate_authority.pp","line":133,"exported":false,"parameters":{"ensure":"absent","mountpoint":"pe_modules","path":"","allow":"*","before":["Pe_anchor[puppet_enterprise:barrier:ca]"]}},{"type":"Puppet_enterprise::Trapperkeeper::Orchestrator","title":"orchestration-services","tags":["puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":115,"exported":false,"parameters":{"database_host":"pe-xl-core-0.puppet.vm","database_port":5432,"database_name":"pe-orchestrator","database_user":"pe-orchestrator-write","database_migration_user":"pe-orchestrator","database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","master_url":"https://pe-xl-core-0.puppet.vm:8140","puppetdb_url":"https://pe-xl-core-0.puppet.vm:8081","classifier_url":"https://pe-xl-core-0.puppet.vm:4433/classifier-api","console_services_url":"https://pe-xl-core-0.puppet.vm:4433","rbac_url":"https://pe-xl-core-0.puppet.vm:4433/rbac-api","activity_url":"https://pe-xl-core-0.puppet.vm:4433/activity-api","console_url":"https://pe-xl-core-0.puppet.vm","inventory_service_url":"https://pe-xl-core-0.puppet.vm:8143/inventory","pcp_brokers":["pe-xl-compiler-0.puppet.vm"],"notify":"Service[pe-orchestration-services]","bolt_server_max_connections":100,"plan_executor_workers":1,"allow_unauthenticated_status":true,"ace_server_max_connections":10,"bolt_server_port":62658,"bolt_server_conn_timeout":10000,"plan_executor_port":62659,"plan_executor_conn_timeout":10000,"ace_server_port":44633,"ace_server_conn_timeout":10000,"client_certname":"pe-xl-core-0.puppet.vm","container":"orchestration-services","user":"pe-orchestration-services","group":"pe-orchestration-services"}},{"type":"Puppet_enterprise::Trapperkeeper::Pcp_broker","title":"orchestration-services","tags":["puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":144,"exported":false,"parameters":{"accept_consumers":4,"delivery_consumers":4,"controller_uris":["wss://pe-xl-core-0.puppet.vm:8143/server"],"notify":"Service[pe-orchestration-services]","container":"orchestration-services","user":"pe-orchestration-services","group":"pe-orchestration-services"}},{"type":"Class","title":"Puppet_enterprise::Trapperkeeper::Inventory","tags":["class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":151,"exported":false,"parameters":{"database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","puppetdb_url":"https://pe-xl-core-0.puppet.vm:8081","client_pem_key":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pem","client_cert":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","database_host":"pe-xl-core-0.puppet.vm","database_port":5432,"database_name":"pe-inventory","database_user":"pe-inventory-write","database_migration_user":"pe-inventory","container":"orchestration-services","user":"pe-orchestration-services","group":"pe-orchestration-services","client_certname":"pe-xl-core-0.puppet.vm","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem"}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/conf.d/inventory.conf","tags":["file","class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":21,"exported":false,"parameters":{"ensure":"present","owner":"pe-orchestration-services","group":"pe-orchestration-services","mode":"0640"}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/conf.d/secrets","tags":["file","class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":28,"exported":false,"parameters":{"ensure":"directory","owner":"pe-orchestration-services","group":"pe-orchestration-services","mode":"0640"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:inventory inventory-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::trapperkeeper::inventory","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":44,"exported":false,"parameters":{"namespace":"puppetlabs.inventory.service","service":"inventory-service","container":"orchestration-services","ensure":"present"}},{"type":"Pe_hocon_setting","title":"orchestration-services.inventory.keypath","tags":["pe_hocon_setting","orchestration-services.inventory.keypath","class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":49,"exported":false,"parameters":{"setting":"inventory.keypath","path":"/etc/puppetlabs/orchestration-services/conf.d/inventory.conf","value":"/etc/puppetlabs/orchestration-services/conf.d/secrets","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.inventory.database.subname","tags":["pe_hocon_setting","orchestration-services.inventory.database.subname","class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":55,"exported":false,"parameters":{"setting":"inventory.database.subname","path":"/etc/puppetlabs/orchestration-services/conf.d/inventory.conf","value":"//pe-xl-core-0.puppet.vm:5432/pe-inventory?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.inventory.database.user","tags":["pe_hocon_setting","orchestration-services.inventory.database.user","class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":61,"exported":false,"parameters":{"setting":"inventory.database.user","path":"/etc/puppetlabs/orchestration-services/conf.d/inventory.conf","value":"pe-inventory-write","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.inventory.database.migration-user","tags":["pe_hocon_setting","orchestration-services.inventory.database.migration-user","class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":67,"exported":false,"parameters":{"setting":"inventory.database.migration-user","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/inventory.conf","value":"pe-inventory","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.web-router-service.inventory-service","tags":["pe_hocon_setting","orchestration-services.web-router-service.inventory-service","class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":74,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.inventory.service/inventory-service\"","path":"/etc/puppetlabs/orchestration-services/conf.d/web-routes.conf","value":{"route":"/inventory","server":"orchestrator"},"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.inventory.ssl-ca-cert","tags":["pe_hocon_setting","orchestration-services.inventory.ssl-ca-cert","class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":93,"exported":false,"parameters":{"setting":"inventory.ssl-ca-cert","path":"/etc/puppetlabs/orchestration-services/conf.d/inventory.conf","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.inventory.ssl-cert","tags":["pe_hocon_setting","orchestration-services.inventory.ssl-cert","class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":99,"exported":false,"parameters":{"setting":"inventory.ssl-cert","path":"/etc/puppetlabs/orchestration-services/conf.d/inventory.conf","value":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.inventory.ssl-key","tags":["pe_hocon_setting","orchestration-services.inventory.ssl-key","class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":105,"exported":false,"parameters":{"setting":"inventory.ssl-key","path":"/etc/puppetlabs/orchestration-services/conf.d/inventory.conf","value":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.inventory.puppetdb-url","tags":["pe_hocon_setting","orchestration-services.inventory.puppetdb-url","class","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise","trapperkeeper","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/inventory.pp","line":111,"exported":false,"parameters":{"setting":"inventory.puppetdb-url","path":"/etc/puppetlabs/orchestration-services/conf.d/inventory.conf","value":"https://pe-xl-core-0.puppet.vm:8081","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services webrouting-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":159,"exported":false,"parameters":{"container":"orchestration-services","namespace":"puppetlabs.trapperkeeper.services.webrouting.webrouting-service","service":"webrouting-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:pcp-broker metrics-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":165,"exported":false,"parameters":{"container":"orchestration-services","namespace":"puppetlabs.trapperkeeper.services.metrics.metrics-service","service":"metrics-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:pcp-broker metrics-webservice","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":171,"exported":false,"parameters":{"container":"orchestration-services","namespace":"puppetlabs.trapperkeeper.services.metrics.metrics-service","service":"metrics-webservice","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:pcp-broker scheduler-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":177,"exported":false,"parameters":{"container":"orchestration-services","namespace":"puppetlabs.trapperkeeper.services.scheduler.scheduler-service","service":"scheduler-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:pcp-broker status-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":183,"exported":false,"parameters":{"container":"orchestration-services","namespace":"puppetlabs.trapperkeeper.services.status.status-service","service":"status-service","ensure":"present"}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","tags":["file","class","puppet_enterprise::profile::orchestrator","puppet_enterprise","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":191,"exported":false,"parameters":{"ensure":"present","owner":"pe-orchestration-services","group":"pe-orchestration-services","mode":"0640"}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/conf.d/authorization.conf","tags":["file","class","puppet_enterprise::profile::orchestrator","puppet_enterprise","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":200,"exported":false,"parameters":{"ensure":"absent","mode":"0644"}},{"type":"Pe_hocon_setting","title":"orchestration-services.authorization.version","tags":["pe_hocon_setting","orchestration-services.authorization.version","class","puppet_enterprise::profile::orchestrator","puppet_enterprise","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":204,"exported":false,"parameters":{"setting":"authorization.version","path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","value":1}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","tags":["file","class","puppet_enterprise::profile::orchestrator","puppet_enterprise","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":210,"exported":false,"parameters":{"ensure":"present","owner":"pe-orchestration-services","group":"pe-orchestration-services","mode":"0640"}},{"type":"Puppet_enterprise::Trapperkeeper::Global_settings","title":"orchestration-services","tags":["puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":225,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","ssl_cert":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","ssl_key":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pem","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","container":"orchestration-services","service_user":"pe-orchestration-services","service_group":"pe-orchestration-services"}},{"type":"Puppet_enterprise::Trapperkeeper::Webserver_settings","title":"pcp-broker","tags":["puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":232,"exported":false,"parameters":{"container":"orchestration-services","ssl_listen_address":"0.0.0.0","ssl_listen_port":8142,"ssl_cert":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","ssl_key":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pem","ssl_protocols":["TLSv1.2"],"certname":"pe-xl-core-0.puppet.vm","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","hostcrl":"/etc/puppetlabs/puppet/ssl/crl.pem","container_service":"pcp-broker","client_auth":"want","ssl_cipher_suites":[]}},{"type":"Pe_hocon_setting","title":"orchestration-services.web-router-service.broker-service","tags":["pe_hocon_setting","orchestration-services.web-router-service.broker-service","class","puppet_enterprise::profile::orchestrator","puppet_enterprise","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":241,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.pcp.broker.service/broker-service\"","path":"/etc/puppetlabs/orchestration-services/conf.d/web-routes.conf","value":{"v1":{"route":"/pcp","server":"pcp-broker"},"v2":{"route":"/pcp2","server":"pcp-broker"},"metrics":{"route":"/","server":"pcp-broker"}},"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Puppet_enterprise::Trapperkeeper::Webserver_settings","title":"orchestrator","tags":["puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":260,"exported":false,"parameters":{"container":"orchestration-services","ssl_listen_address":"0.0.0.0","ssl_listen_port":8143,"ssl_cert":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","ssl_key":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pem","ssl_protocols":["TLSv1.2"],"access_log_config":"/etc/puppetlabs/orchestration-services/request-logging.xml","default_server":true,"certname":"pe-xl-core-0.puppet.vm","localcacert":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","hostcrl":"/etc/puppetlabs/puppet/ssl/crl.pem","container_service":"orchestrator","client_auth":"want","ssl_cipher_suites":[]}},{"type":"Pe_hocon_setting","title":"orchestration-services.web-router-service.orchestrator-service","tags":["pe_hocon_setting","orchestration-services.web-router-service.orchestrator-service","class","puppet_enterprise::profile::orchestrator","puppet_enterprise","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":271,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.orchestrator.service/orchestrator-service\"","path":"/etc/puppetlabs/orchestration-services/conf.d/web-routes.conf","value":{"route":"/orchestrator/v1","server":"orchestrator"},"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.web-router-service.orchestrator-dispatch-service","tags":["pe_hocon_setting","orchestration-services.web-router-service.orchestrator-dispatch-service","class","puppet_enterprise::profile::orchestrator","puppet_enterprise","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":277,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.orchestrator.dispatch/orchestrator-dispatch-service\"","path":"/etc/puppetlabs/orchestration-services/conf.d/web-routes.conf","value":{"route":"/server","server":"orchestrator"},"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.web-router-service.status-service","tags":["pe_hocon_setting","orchestration-services.web-router-service.status-service","class","puppet_enterprise::profile::orchestrator","puppet_enterprise","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":283,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.trapperkeeper.services.status.status-service/status-service\"","path":"/etc/puppetlabs/orchestration-services/conf.d/web-routes.conf","value":{"route":"/status","server":"orchestrator"},"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.web-router-service.metrics-webservice","tags":["pe_hocon_setting","orchestration-services.web-router-service.metrics-webservice","class","puppet_enterprise::profile::orchestrator","puppet_enterprise","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":289,"exported":false,"parameters":{"setting":"web-router-service.\"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-webservice\"","path":"/etc/puppetlabs/orchestration-services/conf.d/web-routes.conf","value":{"route":"/metrics","server":"orchestrator"},"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Puppet_enterprise::Certs","title":"orchestration-services","tags":["puppet_enterprise::certs","puppet_enterprise","certs","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":295,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","cert_dir":"/etc/puppetlabs/orchestration-services/ssl","container":"orchestration-services","make_pk8_cert":true,"group":"pe-orchestration-services","owner":"pe-orchestration-services","ssl_dir":"/etc/puppetlabs/puppet/ssl","append_ca":false,"full_restart":["Exec[pe-orchestration-services service full restart]"],"package_name":"pe-orchestration-services"}},{"type":"Puppet_enterprise::Trapperkeeper::Java_args","title":"orchestration-services","tags":["puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":302,"exported":false,"parameters":{"java_args":{"Xmx":"768m","Xms":"256m"},"enable_gc_logging":true,"container":"orchestration-services","initconfdir":"/etc/sysconfig"}},{"type":"Puppet_enterprise::Trapperkeeper::Pe_service","title":"orchestration-services","tags":["puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/orchestrator.pp","line":308,"exported":false,"parameters":{"ensure":"running","enable":true,"container":"orchestration-services"}},{"type":"Class","title":"Puppet_enterprise::Profile::Bolt_server","tags":["class","puppet_enterprise::profile::bolt_server","puppet_enterprise","profile","bolt_server","puppet_enterprise::profile::orchestrator","orchestrator"],"exported":false,"parameters":{"ssl_listen_port":62658,"certname":"pe-xl-core-0.puppet.vm","master_host":"pe-xl-core-0.puppet.vm","master_port":8140,"run_service":true,"whitelist":["pe-xl-core-0.puppet.vm"],"ssl_cipher_suites":["ECDHE-ECDSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305","ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES256-SHA384","ECDHE-ECDSA-AES128-SHA256","ECDHE-RSA-AES128-SHA256"],"service_loglevel":"notice","concurrency":100,"settings":{}}},{"type":"Puppet_enterprise::Orchestrator::Ruby_service","title":"bolt-server","tags":["puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/bolt_server.pp","line":27,"exported":false,"parameters":{"container":"bolt-server","ssl_listen_port":62658,"certname":"pe-xl-core-0.puppet.vm","run_service":true,"whitelist":["pe-xl-core-0.puppet.vm"],"ssl_cipher_suites":["ECDHE-ECDSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305","ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES256-SHA384","ECDHE-ECDSA-AES128-SHA256","ECDHE-RSA-AES128-SHA256"],"service_loglevel":"notice","settings":{"concurrency":100,"cache-dir":"/opt/puppetlabs/server/data/bolt-server/cache","file-server-uri":"https://pe-xl-core-0.puppet.vm:8140"},"ssl_protocols":["TLSv1.2"]}},{"type":"Class","title":"Puppet_enterprise::Profile::Plan_executor","tags":["class","puppet_enterprise::profile::plan_executor","puppet_enterprise","profile","plan_executor","puppet_enterprise::profile::orchestrator","orchestrator"],"exported":false,"parameters":{"ruby_service_name":"pe-plan-executor","ssl_listen_port":62659,"certname":"pe-xl-core-0.puppet.vm","run_service":true,"whitelist":["pe-xl-core-0.puppet.vm"],"ssl_cipher_suites":["ECDHE-ECDSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305","ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES256-SHA384","ECDHE-ECDSA-AES128-SHA256","ECDHE-RSA-AES128-SHA256"],"service_loglevel":"notice","workers":1,"modulepath":"/opt/puppetlabs/puppet/modules","orchestrator_url":"https://pe-xl-core-0.puppet.vm:8143","jruby_compile_mode":"jit","jruby_max_requests_per_instance":100000,"settings":{}}},{"type":"File","title":"/etc/logrotate.d/pe-plan-executor","tags":["file","class","puppet_enterprise::profile::plan_executor","puppet_enterprise","profile","plan_executor","puppet_enterprise::profile::orchestrator","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/plan_executor.pp","line":57,"exported":false,"parameters":{"ensure":"absent","require":"Service[pe-plan-executor]","source":"puppet:///modules/puppet_enterprise/plan_executor/pe-plan-executor.logrotate","mode":"0644"}},{"type":"File","title":"/usr/lib/systemd/system/pe-plan-executor.service","tags":["file","class","puppet_enterprise::profile::plan_executor","puppet_enterprise","profile","plan_executor","puppet_enterprise::profile::orchestrator","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/plan_executor.pp","line":83,"exported":false,"parameters":{"ensure":"absent","require":"Service[pe-plan-executor]","source":"puppet:///modules/puppet_enterprise/plan_executor/pe-plan-executor.service","mode":"0644"}},{"type":"Pe_hocon_setting","title":"orchestrator.plan-executor-enable","tags":["pe_hocon_setting","orchestrator.plan-executor-enable","class","puppet_enterprise::profile::plan_executor","puppet_enterprise","profile","plan_executor","puppet_enterprise::profile::orchestrator","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/plan_executor.pp","line":169,"exported":false,"parameters":{"setting":"orchestrator.plan-executor-enable","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Service","title":"pe-plan-executor","tags":["service","pe-plan-executor","class","puppet_enterprise::profile::plan_executor","puppet_enterprise","profile","plan_executor","puppet_enterprise::profile::orchestrator","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/plan_executor.pp","line":181,"exported":false,"parameters":{"ensure":"stopped","enable":false,"notify":"Service[pe-orchestration-services]"}},{"type":"Class","title":"Puppet_enterprise::Profile::Ace_server","tags":["class","puppet_enterprise::profile::ace_server","puppet_enterprise","profile","ace_server","puppet_enterprise::profile::orchestrator","orchestrator"],"exported":false,"parameters":{"ssl_listen_port":44633,"certname":"pe-xl-core-0.puppet.vm","master_host":"puppet-xl.vm","master_port":8140,"run_service":true,"hostcrl":"/etc/puppetlabs/puppet/ssl/crl.pem","whitelist":["pe-xl-core-0.puppet.vm"],"ssl_cipher_suites":["ECDHE-ECDSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305","ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES256-SHA384","ECDHE-ECDSA-AES128-SHA256","ECDHE-RSA-AES128-SHA256"],"service_loglevel":"notice","concurrency":10,"settings":{}}},{"type":"Puppet_enterprise::Orchestrator::Ruby_service","title":"ace-server","tags":["puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/profile/ace_server.pp","line":29,"exported":false,"parameters":{"container":"ace-server","ssl_listen_port":44633,"certname":"pe-xl-core-0.puppet.vm","run_service":true,"whitelist":["pe-xl-core-0.puppet.vm"],"ssl_cipher_suites":["ECDHE-ECDSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305","ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES256-SHA384","ECDHE-ECDSA-AES128-SHA256","ECDHE-RSA-AES128-SHA256"],"service_loglevel":"notice","settings":{"concurrency":10,"cache-dir":"/opt/puppetlabs/server/data/ace-server/cache","puppet-server-uri":"https://puppet-xl.vm:8140","ssl-ca-crls":"/etc/puppetlabs/puppet/ssl/crl.pem"},"ssl_protocols":["TLSv1.2"]}},{"type":"File","title":"/opt/puppetlabs/server/data/console-services/certs","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","pe-console-services::server_cert","pe-console-services","server_cert","class","puppet_enterprise::profile::console::certs","profile","console","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":37,"exported":false,"parameters":{"ensure":"directory","mode":"0600","owner":"pe-console-services","group":"pe-console-services","before":["Exec[pe-console-services service full restart]"],"require":"Package[pe-console-services]","notify":"Service[pe-console-services]"}},{"type":"File","title":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","pe-console-services::server_cert","pe-console-services","server_cert","class","puppet_enterprise::profile::console::certs","profile","console","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":68,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","owner":"pe-console-services","group":"pe-console-services","mode":"0400","before":["Exec[pe-console-services service full restart]"],"require":"Package[pe-console-services]","notify":"Service[pe-console-services]"}},{"type":"File","title":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","pe-console-services::server_cert","pe-console-services","server_cert","class","puppet_enterprise::profile::console::certs","profile","console","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":73,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","show_diff":false,"owner":"pe-console-services","group":"pe-console-services","mode":"0400","before":["Exec[pe-console-services service full restart]"],"require":"Package[pe-console-services]","notify":"Service[pe-console-services]"}},{"type":"Puppet_enterprise::Certs::Pk8_cert","title":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8","tags":["puppet_enterprise::certs::pk8_cert","puppet_enterprise","certs","pk8_cert","puppet_enterprise::certs","pe-console-services::server_cert","pe-console-services","server_cert","class","puppet_enterprise::profile::console::certs","profile","console","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":81,"exported":false,"parameters":{"pem_file":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","owner":"pe-console-services","group":"pe-console-services","mode":"0400","container":"console-services","require":"File[/opt/puppetlabs/server/data/console-services/certs]","pk8_file":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.client-auth","tags":["pe_hocon_setting","console-services.webserver.console.client-auth","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":29,"exported":false,"parameters":{"setting":"webserver.console.client-auth","value":"none","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.ssl-host","tags":["pe_hocon_setting","console-services.webserver.console.ssl-host","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":34,"exported":false,"parameters":{"setting":"webserver.console.ssl-host","value":"0.0.0.0","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.ssl-port","tags":["pe_hocon_setting","console-services.webserver.console.ssl-port","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":39,"exported":false,"parameters":{"setting":"webserver.console.ssl-port","value":4431,"ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.ssl-ca-cert","tags":["pe_hocon_setting","console-services.webserver.console.ssl-ca-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":44,"exported":false,"parameters":{"setting":"webserver.console.ssl-ca-cert","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.ssl-cert","tags":["pe_hocon_setting","console-services.webserver.console.ssl-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":49,"exported":false,"parameters":{"setting":"webserver.console.ssl-cert","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.ssl-key","tags":["pe_hocon_setting","console-services.webserver.console.ssl-key","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":54,"exported":false,"parameters":{"setting":"webserver.console.ssl-key","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.ssl-crl-path","tags":["pe_hocon_setting","console-services.webserver.console.ssl-crl-path","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":59,"exported":false,"parameters":{"setting":"webserver.console.ssl-crl-path","value":"/etc/puppetlabs/puppet/ssl/crl.pem","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.access-log-config","tags":["pe_hocon_setting","console-services.webserver.console.access-log-config","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":69,"exported":false,"parameters":{"setting":"webserver.console.access-log-config","ensure":"present","value":"/etc/puppetlabs/console-services/request-logging.xml","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.max-threads","tags":["pe_hocon_setting","console-services.webserver.console.max-threads","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":80,"exported":false,"parameters":{"setting":"webserver.console.max-threads","ensure":"absent","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.request-header-max-size","tags":["pe_hocon_setting","console-services.webserver.console.request-header-max-size","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":91,"exported":false,"parameters":{"setting":"webserver.console.request-header-max-size","ensure":"present","value":65536,"notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.default-server","tags":["pe_hocon_setting","console-services.webserver.console.default-server","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":102,"exported":false,"parameters":{"setting":"webserver.console.default-server","ensure":"present","value":true,"notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.ssl-protocols","tags":["pe_hocon_setting","console-services.webserver.console.ssl-protocols","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":113,"exported":false,"parameters":{"setting":"webserver.console.ssl-protocols","ensure":"present","type":"array","value":["TLSv1.2"],"notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.console.cipher-suites","tags":["pe_hocon_setting","console-services.webserver.console.cipher-suites","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","console","class","puppet_enterprise::profile::console::console_services_config","profile","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":125,"exported":false,"parameters":{"setting":"webserver.console.cipher-suites","ensure":"absent","type":"array","value":[],"notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.client-auth","tags":["pe_hocon_setting","console-services.webserver.api.client-auth","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":29,"exported":false,"parameters":{"setting":"webserver.api.client-auth","value":"want","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.ssl-host","tags":["pe_hocon_setting","console-services.webserver.api.ssl-host","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":34,"exported":false,"parameters":{"setting":"webserver.api.ssl-host","value":"0.0.0.0","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.ssl-port","tags":["pe_hocon_setting","console-services.webserver.api.ssl-port","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":39,"exported":false,"parameters":{"setting":"webserver.api.ssl-port","value":4433,"ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.ssl-ca-cert","tags":["pe_hocon_setting","console-services.webserver.api.ssl-ca-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":44,"exported":false,"parameters":{"setting":"webserver.api.ssl-ca-cert","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.ssl-cert","tags":["pe_hocon_setting","console-services.webserver.api.ssl-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":49,"exported":false,"parameters":{"setting":"webserver.api.ssl-cert","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.ssl-key","tags":["pe_hocon_setting","console-services.webserver.api.ssl-key","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":54,"exported":false,"parameters":{"setting":"webserver.api.ssl-key","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.ssl-crl-path","tags":["pe_hocon_setting","console-services.webserver.api.ssl-crl-path","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":59,"exported":false,"parameters":{"setting":"webserver.api.ssl-crl-path","value":"/etc/puppetlabs/puppet/ssl/crl.pem","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.access-log-config","tags":["pe_hocon_setting","console-services.webserver.api.access-log-config","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":69,"exported":false,"parameters":{"setting":"webserver.api.access-log-config","ensure":"present","value":"/etc/puppetlabs/console-services/request-logging-api.xml","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.max-threads","tags":["pe_hocon_setting","console-services.webserver.api.max-threads","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":80,"exported":false,"parameters":{"setting":"webserver.api.max-threads","ensure":"absent","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.request-header-max-size","tags":["pe_hocon_setting","console-services.webserver.api.request-header-max-size","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":91,"exported":false,"parameters":{"setting":"webserver.api.request-header-max-size","ensure":"absent","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.default-server","tags":["pe_hocon_setting","console-services.webserver.api.default-server","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":102,"exported":false,"parameters":{"setting":"webserver.api.default-server","ensure":"absent","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.ssl-protocols","tags":["pe_hocon_setting","console-services.webserver.api.ssl-protocols","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":113,"exported":false,"parameters":{"setting":"webserver.api.ssl-protocols","ensure":"present","type":"array","value":["TLSv1.2"],"notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"console-services.webserver.api.cipher-suites","tags":["pe_hocon_setting","console-services.webserver.api.cipher-suites","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","api","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":125,"exported":false,"parameters":{"setting":"webserver.api.cipher-suites","ensure":"absent","type":"array","value":[],"notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/webserver.conf"}},{"type":"File","title":"/etc/puppetlabs/console-services/conf.d/global.conf","tags":["file","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","console-services","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":17,"exported":false,"parameters":{"ensure":"file","mode":"0640","owner":"pe-console-services","group":"pe-console-services"}},{"type":"Pe_hocon_setting","title":"console-services.global.logging-config","tags":["pe_hocon_setting","console-services.global.logging-config","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","console-services","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":30,"exported":false,"parameters":{"setting":"global.logging-config","value":"/etc/puppetlabs/console-services/logback.xml","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"console-services.global.certs.ssl-ca-cert","tags":["pe_hocon_setting","console-services.global.certs.ssl-ca-cert","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","console-services","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":40,"exported":false,"parameters":{"setting":"global.certs.ssl-ca-cert","ensure":"absent","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"console-services.global.certs.ssl-cert","tags":["pe_hocon_setting","console-services.global.certs.ssl-cert","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","console-services","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":51,"exported":false,"parameters":{"setting":"global.certs.ssl-cert","ensure":"absent","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"console-services.global.certs.ssl-key","tags":["pe_hocon_setting","console-services.global.certs.ssl-key","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","console-services","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":62,"exported":false,"parameters":{"setting":"global.certs.ssl-key","ensure":"absent","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"console-services.global.hostname","tags":["pe_hocon_setting","console-services.global.hostname","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","console-services","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":73,"exported":false,"parameters":{"setting":"global.hostname","ensure":"absent","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"console-services.global.version-path","tags":["pe_hocon_setting","console-services.global.version-path","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","console-services","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":84,"exported":false,"parameters":{"setting":"global.version-path","ensure":"present","value":"/opt/puppetlabs/server/pe_version","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"console-services.global.login-path","tags":["pe_hocon_setting","console-services.global.login-path","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","console-services","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":95,"exported":false,"parameters":{"setting":"global.login-path","ensure":"present","value":"/auth/login","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"console-services.global.replication-mode","tags":["pe_hocon_setting","console-services.global.replication-mode","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","console-services","class","puppet_enterprise::profile::console::console_services_config","profile","console","console_services_config","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":106,"exported":false,"parameters":{"setting":"global.replication-mode","ensure":"present","value":"source","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/global.conf"}},{"type":"File","title":"/etc/puppetlabs/console-services/conf.d/activity.conf","tags":["file","puppet_enterprise::trapperkeeper::activity","puppet_enterprise","trapperkeeper","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/activity.pp","line":31,"exported":false,"parameters":{"ensure":"present","mode":"0640","owner":"pe-console-services","group":"pe-console-services"}},{"type":"Pe_hocon_setting","title":"activity.rbac-base-url","tags":["pe_hocon_setting","activity.rbac-base-url","puppet_enterprise::trapperkeeper::activity","puppet_enterprise","trapperkeeper","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/activity.pp","line":34,"exported":false,"parameters":{"setting":"activity.rbac-base-url","path":"/etc/puppetlabs/console-services/conf.d/activity.conf","value":"http://127.0.0.1:4432/rbac-api/v1","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"activity.cors-origin-pattern","tags":["pe_hocon_setting","activity.cors-origin-pattern","puppet_enterprise::trapperkeeper::activity","puppet_enterprise","trapperkeeper","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/activity.pp","line":39,"exported":false,"parameters":{"setting":"activity.cors-origin-pattern","path":"/etc/puppetlabs/console-services/conf.d/activity.conf","value":".*","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Puppet_enterprise::Trapperkeeper::Database_settings","title":"activity","tags":["puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","activity","puppet_enterprise::trapperkeeper::activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/activity.pp","line":45,"exported":false,"parameters":{"container":"console-services","database_host":"pe-xl-core-0.puppet.vm","database_name":"pe-activity","database_port":5432,"database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","database_user":"pe-activity-write","migration_user":"pe-activity","group":"pe-console-services","user":"pe-console-services","tk_service":"activity","maximum_pool_size":10,"pool_timeout":60,"pool_check_timeout":5}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:activity activity-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/activity.pp","line":59,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.activity.services","service":"activity-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:activity jetty9-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/activity.pp","line":65,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.trapperkeeper.services.webserver.jetty9-service","service":"jetty9-service","ensure":"present"}},{"type":"File","title":"/etc/puppetlabs/console-services/conf.d/rbac.conf","tags":["file","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":44,"exported":false,"parameters":{"ensure":"present","mode":"0640","owner":"pe-console-services","group":"pe-console-services"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.certificate-whitelist","tags":["pe_hocon_setting","console-services.rbac.certificate-whitelist","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":47,"exported":false,"parameters":{"setting":"rbac.certificate-whitelist","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","value":"/etc/puppetlabs/console-services/rbac-certificate-whitelist","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.token-private-key","tags":["pe_hocon_setting","console-services.rbac.token-private-key","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":52,"exported":false,"parameters":{"setting":"rbac.token-private-key","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.token-public-key","tags":["pe_hocon_setting","console-services.rbac.token-public-key","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":57,"exported":false,"parameters":{"setting":"rbac.token-public-key","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.ssl-key","tags":["pe_hocon_setting","console-services.rbac.ssl-key","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":64,"exported":false,"parameters":{"setting":"rbac.ssl-key","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.ssl-cert","tags":["pe_hocon_setting","console-services.rbac.ssl-cert","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":69,"exported":false,"parameters":{"setting":"rbac.ssl-cert","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.ssl-ca-cert","tags":["pe_hocon_setting","console-services.rbac.ssl-ca-cert","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":74,"exported":false,"parameters":{"setting":"rbac.ssl-ca-cert","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.token-maximum-lifetime","tags":["pe_hocon_setting","console-services.rbac.token-maximum-lifetime","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":80,"exported":false,"parameters":{"setting":"rbac.token-maximum-lifetime","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","value":"10y","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.password-reset-expiration","tags":["pe_hocon_setting","console-services.rbac.password-reset-expiration","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":92,"exported":false,"parameters":{"setting":"rbac.password-reset-expiration","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.session-timeout","tags":["pe_hocon_setting","console-services.rbac.session-timeout","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":99,"exported":false,"parameters":{"setting":"rbac.session-timeout","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.token-auth-lifetime","tags":["pe_hocon_setting","console-services.rbac.token-auth-lifetime","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":112,"exported":false,"parameters":{"setting":"rbac.token-auth-lifetime","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.ds-trust-chain","tags":["pe_hocon_setting","console-services.rbac.ds-trust-chain","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":125,"exported":false,"parameters":{"setting":"rbac.ds-trust-chain","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.failed-attempts-lockout","tags":["pe_hocon_setting","console-services.rbac.failed-attempts-lockout","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":138,"exported":false,"parameters":{"setting":"rbac.failed-attempts-lockout","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.account-expiry-check-minutes","tags":["pe_hocon_setting","console-services.rbac.account-expiry-check-minutes","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":151,"exported":false,"parameters":{"setting":"rbac.account-expiry-check-minutes","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.account-expiry-days","tags":["pe_hocon_setting","console-services.rbac.account-expiry-days","puppet_enterprise::trapperkeeper::rbac","puppet_enterprise","trapperkeeper","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":164,"exported":false,"parameters":{"setting":"rbac.account-expiry-days","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/rbac.conf","notify":"Service[pe-console-services]"}},{"type":"Puppet_enterprise::Trapperkeeper::Database_settings","title":"rbac","tags":["puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","rbac","puppet_enterprise::trapperkeeper::rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":171,"exported":false,"parameters":{"container":"console-services","database_host":"pe-xl-core-0.puppet.vm","database_name":"pe-rbac","database_port":5432,"database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","database_user":"pe-rbac-write","migration_user":"pe-rbac","group":"pe-console-services","user":"pe-console-services","tk_service":"rbac","maximum_pool_size":10,"pool_timeout":60,"pool_check_timeout":5}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:rbac rbac-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":185,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.rbac.services.rbac","service":"rbac-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:rbac rbac-storage-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":191,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.rbac.services.storage.permissioned","service":"rbac-storage-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:rbac rbac-http-api-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":197,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.rbac.services.http.api","service":"rbac-http-api-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:rbac rbac-authn-middleware","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":203,"exported":false,"parameters":{"ensure":"absent","container":"console-services","namespace":"puppetlabs.rbac.services.http.middleware","service":"rbac-authn-middleware"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:rbac activity-reporting-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":210,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.activity.services","service":"activity-reporting-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:rbac jetty9-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":216,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.trapperkeeper.services.webserver.jetty9-service","service":"jetty9-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:rbac audit-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/rbac.pp","line":222,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.rbac.services.audit","service":"audit-service","ensure":"present"}},{"type":"Pe_file_line","title":"/etc/puppetlabs/console-services/rbac-certificate-whitelist:pe-xl-core-0.puppet.vm","tags":["pe_file_line","puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/whitelist_entry.pp","line":32,"exported":false,"parameters":{"path":"/etc/puppetlabs/console-services/rbac-certificate-whitelist","line":"pe-xl-core-0.puppet.vm"}},{"type":"Pe_file_line","title":"/etc/puppetlabs/console-services/rbac-certificate-whitelist:pe-xl-compiler-0.puppet.vm","tags":["pe_file_line","puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/whitelist_entry.pp","line":32,"exported":false,"parameters":{"path":"/etc/puppetlabs/console-services/rbac-certificate-whitelist","line":"pe-xl-compiler-0.puppet.vm"}},{"type":"Pe_file_line","title":"/etc/puppetlabs/console-services/rbac-certificate-whitelist:pe-xl-core-1.puppet.vm","tags":["pe_file_line","puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/whitelist_entry.pp","line":32,"exported":false,"parameters":{"path":"/etc/puppetlabs/console-services/rbac-certificate-whitelist","line":"pe-xl-core-1.puppet.vm"}},{"type":"File","title":"/etc/puppetlabs/console-services/conf.d/classifier.conf","tags":["file","puppet_enterprise::trapperkeeper::classifier","puppet_enterprise","trapperkeeper","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":43,"exported":false,"parameters":{"ensure":"present","mode":"0640","owner":"pe-console-services","group":"pe-console-services"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.puppet-master","tags":["pe_hocon_setting","console-services.classifier.puppet-master","puppet_enterprise::trapperkeeper::classifier","puppet_enterprise","trapperkeeper","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":48,"exported":false,"parameters":{"setting":"classifier.puppet-master","ensure":"present","path":"/etc/puppetlabs/console-services/conf.d/classifier.conf","value":"https://pe-xl-core-0.puppet.vm:8140","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.allow-config-data","tags":["pe_hocon_setting","console-services.classifier.allow-config-data","puppet_enterprise::trapperkeeper::classifier","puppet_enterprise","trapperkeeper","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":55,"exported":false,"parameters":{"setting":"classifier.allow-config-data","ensure":"present","path":"/etc/puppetlabs/console-services/conf.d/classifier.conf","value":true,"notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.ssl-key","tags":["pe_hocon_setting","console-services.classifier.ssl-key","puppet_enterprise::trapperkeeper::classifier","puppet_enterprise","trapperkeeper","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":63,"exported":false,"parameters":{"setting":"classifier.ssl-key","path":"/etc/puppetlabs/console-services/conf.d/classifier.conf","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.ssl-cert","tags":["pe_hocon_setting","console-services.classifier.ssl-cert","puppet_enterprise::trapperkeeper::classifier","puppet_enterprise","trapperkeeper","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":68,"exported":false,"parameters":{"setting":"classifier.ssl-cert","path":"/etc/puppetlabs/console-services/conf.d/classifier.conf","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.ssl-ca-cert","tags":["pe_hocon_setting","console-services.classifier.ssl-ca-cert","puppet_enterprise::trapperkeeper::classifier","puppet_enterprise","trapperkeeper","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":73,"exported":false,"parameters":{"setting":"classifier.ssl-ca-cert","path":"/etc/puppetlabs/console-services/conf.d/classifier.conf","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.synchronization-period","tags":["pe_hocon_setting","console-services.classifier.synchronization-period","puppet_enterprise::trapperkeeper::classifier","puppet_enterprise","trapperkeeper","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":79,"exported":false,"parameters":{"setting":"classifier.synchronization-period","path":"/etc/puppetlabs/console-services/conf.d/classifier.conf","value":600,"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.prune-days-threshold","tags":["pe_hocon_setting","console-services.classifier.prune-days-threshold","puppet_enterprise::trapperkeeper::classifier","puppet_enterprise","trapperkeeper","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":84,"exported":false,"parameters":{"setting":"classifier.prune-days-threshold","path":"/etc/puppetlabs/console-services/conf.d/classifier.conf","value":7,"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.node-check-in-storage","tags":["pe_hocon_setting","console-services.classifier.node-check-in-storage","puppet_enterprise::trapperkeeper::classifier","puppet_enterprise","trapperkeeper","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":89,"exported":false,"parameters":{"setting":"classifier.node-check-in-storage","path":"/etc/puppetlabs/console-services/conf.d/classifier.conf","value":false,"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Puppet_enterprise::Trapperkeeper::Database_settings","title":"classifier","tags":["puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","classifier","puppet_enterprise::trapperkeeper::classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":95,"exported":false,"parameters":{"container":"console-services","database_host":"pe-xl-core-0.puppet.vm","database_name":"pe-classifier","database_port":5432,"database_properties":"?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","database_user":"pe-classifier-write","migration_user":"pe-classifier","group":"pe-console-services","user":"pe-console-services","tk_service":"classifier","maximum_pool_size":10,"pool_timeout":60,"pool_check_timeout":5}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:classifier classifier-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::classifier","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":109,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.classifier.main","service":"classifier-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:classifier activity-reporting-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::classifier","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":115,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.activity.services","service":"activity-reporting-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:classifier jetty9-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::classifier","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/classifier.pp","line":121,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.trapperkeeper.services.webserver.jetty9-service","service":"jetty9-service","ensure":"present"}},{"type":"File","title":"/etc/puppetlabs/console-services/conf.d/console.conf","tags":["file","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":88,"exported":false,"parameters":{"ensure":"present","owner":"pe-console-services","group":"pe-console-services","mode":"0640"}},{"type":"Pe_hocon_setting","title":"console-services.console.assets-dir","tags":["pe_hocon_setting","console-services.console.assets-dir","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":95,"exported":false,"parameters":{"setting":"console.assets-dir","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"dist","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.puppet-master","tags":["pe_hocon_setting","console-services.console.puppet-master","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":100,"exported":false,"parameters":{"setting":"console.puppet-master","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"https://pe-xl-core-0.puppet.vm:8140","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.agent-installer-url","tags":["pe_hocon_setting","console-services.console.agent-installer-url","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":105,"exported":false,"parameters":{"setting":"console.agent-installer-url","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"https://puppet-xl.vm:8140","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.rbac-server","tags":["pe_hocon_setting","console-services.console.rbac-server","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":110,"exported":false,"parameters":{"setting":"console.rbac-server","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"http://127.0.0.1:4432/rbac-api","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.classifier-server","tags":["pe_hocon_setting","console-services.console.classifier-server","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":115,"exported":false,"parameters":{"setting":"console.classifier-server","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"http://127.0.0.1:4432/classifier-api","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.activity-server","tags":["pe_hocon_setting","console-services.console.activity-server","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":120,"exported":false,"parameters":{"setting":"console.activity-server","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"http://127.0.0.1:4432/activity-api","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.orchestrator-server","tags":["pe_hocon_setting","console-services.console.orchestrator-server","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":125,"exported":false,"parameters":{"setting":"console.orchestrator-server","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"https://pe-xl-core-0.puppet.vm:8143/orchestrator","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.inventory-server","tags":["pe_hocon_setting","console-services.console.inventory-server","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":130,"exported":false,"parameters":{"setting":"console.inventory-server","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"https://pe-xl-core-0.puppet.vm:8143/inventory","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.display-local-time","tags":["pe_hocon_setting","console-services.console.display-local-time","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":135,"exported":false,"parameters":{"setting":"console.display-local-time","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":false,"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.query-cache-ttl","tags":["pe_hocon_setting","console-services.console.query-cache-ttl","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":140,"exported":false,"parameters":{"setting":"console.query-cache-ttl","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":30000,"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.max-connections-per-route","tags":["pe_hocon_setting","console-services.console.max-connections-per-route","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":152,"exported":false,"parameters":{"setting":"console.max-connections-per-route","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/console.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.max-connections-total","tags":["pe_hocon_setting","console-services.console.max-connections-total","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":165,"exported":false,"parameters":{"setting":"console.max-connections-total","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/console.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.session-timeout","tags":["pe_hocon_setting","console-services.console.session-timeout","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":178,"exported":false,"parameters":{"setting":"console.session-timeout","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/console.conf","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.session-maximum-lifetime","tags":["pe_hocon_setting","console-services.console.session-maximum-lifetime","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":192,"exported":false,"parameters":{"setting":"console.session-maximum-lifetime","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.puppetdb-server","tags":["pe_hocon_setting","console-services.console.puppetdb-server","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":202,"exported":false,"parameters":{"setting":"console.puppetdb-server","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"https://pe-xl-core-0.puppet.vm:8081","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.certs.ssl-key","tags":["pe_hocon_setting","console-services.console.certs.ssl-key","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":207,"exported":false,"parameters":{"setting":"console.certs.ssl-key","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.certs.ssl-cert","tags":["pe_hocon_setting","console-services.console.certs.ssl-cert","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":212,"exported":false,"parameters":{"setting":"console.certs.ssl-cert","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.certs.ssl-ca-cert","tags":["pe_hocon_setting","console-services.console.certs.ssl-ca-cert","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":217,"exported":false,"parameters":{"setting":"console.certs.ssl-ca-cert","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.proxy-idle-timeout","tags":["pe_hocon_setting","console-services.console.proxy-idle-timeout","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":230,"exported":false,"parameters":{"setting":"console.proxy-idle-timeout","ensure":"present","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":60,"notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.license-key","tags":["pe_hocon_setting","console-services.console.license-key","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":237,"exported":false,"parameters":{"setting":"console.license-key","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":"/etc/puppetlabs/license.key","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.pcp-request-timeout","tags":["pe_hocon_setting","console-services.console.pcp-request-timeout","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":243,"exported":false,"parameters":{"setting":"console.pcp-request-timeout","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":5,"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.service-alert","tags":["pe_hocon_setting","console-services.console.service-alert","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":336,"exported":false,"parameters":{"setting":"console.service-alert","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":[{"type":"activity","url":"https://pe-xl-core-0.puppet.vm:4433","replication_mode":"source"},{"type":"activity","url":"https://pe-xl-core-1.puppet.vm:4433","replication_mode":"replica"},{"type":"classifier","url":"https://pe-xl-core-0.puppet.vm:4433","replication_mode":"source"},{"type":"classifier","url":"https://pe-xl-core-1.puppet.vm:4433","replication_mode":"replica"},{"type":"code-manager","url":"https://pe-xl-core-0.puppet.vm:8140","replication_mode":"source"},{"type":"master","url":"https://pe-xl-compiler-0.puppet.vm:8140","replication_mode":"none"},{"type":"master","url":"https://pe-xl-core-0.puppet.vm:8140","replication_mode":"source"},{"type":"master","url":"https://pe-xl-core-1.puppet.vm:8140","replication_mode":"replica"},{"type":"orchestrator","url":"https://pe-xl-core-0.puppet.vm:8143","replication_mode":"source"},{"type":"puppetdb","url":"https://pe-xl-compiler-0.puppet.vm:8081","replication_mode":"none"},{"type":"puppetdb","url":"https://pe-xl-core-0.puppet.vm:8081","replication_mode":"source"},{"type":"puppetdb","url":"https://pe-xl-core-1.puppet.vm:8081","replication_mode":"replica"},{"type":"rbac","url":"https://pe-xl-core-0.puppet.vm:4433","replication_mode":"source"},{"type":"rbac","url":"https://pe-xl-core-1.puppet.vm:4433","replication_mode":"replica"}],"type":"array","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.service-alert-timeout","tags":["pe_hocon_setting","console-services.console.service-alert-timeout","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":343,"exported":false,"parameters":{"setting":"console.service-alert-timeout","path":"/etc/puppetlabs/console-services/conf.d/console.conf","value":5000,"ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.console.no-longer-reporting-cutoff","tags":["pe_hocon_setting","console-services.console.no-longer-reporting-cutoff","puppet_enterprise::trapperkeeper::console_services","puppet_enterprise","trapperkeeper","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":354,"exported":false,"parameters":{"setting":"console.no-longer-reporting-cutoff","ensure":"absent","path":"/etc/puppetlabs/console-services/conf.d/console.conf","notify":"Service[pe-console-services]"}},{"type":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings","title":"console-services","tags":["puppet_enterprise::trapperkeeper::analytics_client_settings","puppet_enterprise","trapperkeeper","analytics_client_settings","console-services","puppet_enterprise::trapperkeeper::console_services","console_services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":361,"exported":false,"parameters":{"container":"console-services","owner":"pe-console-services","analytics_port":8140,"analytics_host":"pe-xl-core-0.puppet.vm","group":"pe-console-services"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console webrouting-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":366,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.trapperkeeper.services.webrouting.webrouting-service","service":"webrouting-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console rbac-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":372,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.rbac.services.rbac","service":"rbac-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console rbac-authn-middleware","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":377,"exported":false,"parameters":{"ensure":"absent","container":"console-services","namespace":"puppetlabs.rbac.services.http.middleware","service":"rbac-authn-middleware"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console rbac-consumer-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":383,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.rbac.services.consumer","service":"rbac-consumer-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console rbac-status-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":389,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.rbac.services.status","service":"rbac-status-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console rbac-storage-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":395,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.rbac.services.storage.permissioned","service":"rbac-storage-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console rbac-authn-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":401,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.rbac.services.authn","service":"rbac-authn-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console rbac-authz-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":407,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.rbac.services.authz","service":"rbac-authz-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console audit-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":413,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.rbac.services.audit","service":"audit-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console pe-console-ui-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":424,"exported":false,"parameters":{"ensure":"present","container":"console-services","namespace":"puppetlabs.pe-console-ui.service","service":"pe-console-ui-service"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console pe-console-auth-ui-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":431,"exported":false,"parameters":{"ensure":"present","container":"console-services","namespace":"puppetlabs.pe-console-auth-ui.service","service":"pe-console-auth-ui-service"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console jetty9-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":438,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.trapperkeeper.services.webserver.jetty9-service","service":"jetty9-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console status-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":444,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.trapperkeeper.services.status.status-service","service":"status-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console scheduler-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":451,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.trapperkeeper.services.scheduler.scheduler-service","service":"scheduler-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console metrics-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":465,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.trapperkeeper.services.metrics.metrics-service","service":"metrics-service","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"console-services:console metrics-webservice","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/console_services.pp","line":471,"exported":false,"parameters":{"container":"console-services","namespace":"puppetlabs.trapperkeeper.services.metrics.metrics-service","service":"metrics-webservice","ensure":"present"}},{"type":"Pe_ini_subsetting","title":"pe-console-services_'Xmx'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":35,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xmx","value":"768m","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-console-services_'Xms'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":35,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xms","value":"256m","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-console-services_'XX:+PrintGCDetails'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+PrintGCDetails","value":"","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-console-services_'XX:+PrintGCDateStamps'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+PrintGCDateStamps","value":"","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-console-services_'Xloggc:'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xloggc:","value":"/var/log/puppetlabs/console-services/console-services_gc.log","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-console-services_'XX:+UseGCLogFileRotation'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+UseGCLogFileRotation","value":"","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-console-services_'XX:NumberOfGCLogFiles='","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:NumberOfGCLogFiles=","value":"16","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-console-services_'XX:GCLogFileSize='","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:GCLogFileSize=","value":"64m","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_setting","title":"console-services initconf java_bin","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":26,"exported":false,"parameters":{"setting":"JAVA_BIN","value":"\"/opt/puppetlabs/server/bin/java\"","ensure":"present","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_setting","title":"console-services initconf user","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":31,"exported":false,"parameters":{"setting":"USER","value":"pe-console-services","ensure":"present","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_setting","title":"console-services initconf group","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":36,"exported":false,"parameters":{"setting":"GROUP","value":"pe-console-services","ensure":"present","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_setting","title":"console-services initconf install_dir","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":41,"exported":false,"parameters":{"setting":"INSTALL_DIR","value":"\"/opt/puppetlabs/server/apps/console-services\"","ensure":"present","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_setting","title":"console-services initconf config","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":46,"exported":false,"parameters":{"setting":"CONFIG","value":"\"/etc/puppetlabs/console-services/conf.d\"","ensure":"present","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_setting","title":"console-services initconf bootstrap_config","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":51,"exported":false,"parameters":{"setting":"BOOTSTRAP_CONFIG","value":"\"/etc/puppetlabs/console-services/bootstrap.cfg\"","ensure":"present","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_setting","title":"console-services initconf service_stop_retries","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":56,"exported":false,"parameters":{"setting":"SERVICE_STOP_RETRIES","value":60,"ensure":"present","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_setting","title":"console-services initconf start_timeout","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":61,"exported":false,"parameters":{"setting":"START_TIMEOUT","value":300,"ensure":"present","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Pe_ini_setting","title":"console-services initconf jruby_jar","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":71,"exported":false,"parameters":{"ensure":"absent","setting":"JRUBY_JAR","value":"\"\"","path":"/etc/sysconfig/pe-console-services","key_val_separator":"=","section":"","require":"Package[pe-console-services]","notify":"Exec[pe-console-services service full restart]"}},{"type":"Service","title":"pe-console-services","tags":["service","pe-console-services","puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pe_service.pp","line":10,"exported":false,"parameters":{"ensure":"running","enable":true,"hasrestart":true,"restart":"service pe-console-services reload","require":"Package[pe-console-services]"}},{"type":"Exec","title":"pe-console-services service full restart","tags":["exec","puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","console-services","class","puppet_enterprise::console_services","console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pe_service.pp","line":20,"exported":false,"parameters":{"command":"service pe-console-services restart","timeout":0,"path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","refreshonly":true,"before":"Service[pe-console-services]"}},{"type":"Augeas","title":"pe_nginx::directive for gzip","tags":["augeas","pe_nginx::directive","pe_nginx","directive","gzip","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/nginx.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/nginx.conf/http","changes":["set gzip 'on'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for gzip_comp_level","tags":["augeas","pe_nginx::directive","pe_nginx","directive","gzip_comp_level","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/nginx.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/nginx.conf/http","changes":["set gzip_comp_level '5'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for gzip_min_length","tags":["augeas","pe_nginx::directive","pe_nginx","directive","gzip_min_length","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/nginx.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/nginx.conf/http","changes":["set gzip_min_length '256'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for gzip_proxied","tags":["augeas","pe_nginx::directive","pe_nginx","directive","gzip_proxied","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/nginx.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/nginx.conf/http","changes":["set gzip_proxied 'any'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for gzip_vary","tags":["augeas","pe_nginx::directive","pe_nginx","directive","gzip_vary","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/nginx.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/nginx.conf/http","changes":["set gzip_vary 'on'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for gzip_types","tags":["augeas","pe_nginx::directive","pe_nginx","directive","gzip_types","class","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise","profile","console","proxy","nginx_conf","puppet_enterprise::profile::console::proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/nginx.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/nginx.conf/http","changes":["set gzip_types 'application/atom+xml\napplication/javascript\napplication/json\napplication/ld+json\napplication/manifest+json\napplication/rss+xml\napplication/vnd.geo+json\napplication/vnd.ms-fontobject\napplication/x-font-ttf\napplication/x-web-app-manifest+json\napplication/xhtml+xml\napplication/xml\nfont/opentype\nimage/bmp\nimage/svg+xml\nimage/x-icon\ntext/cache-manifest\ntext/css\ntext/plain\ntext/vcard\ntext/vnd.rim.location.xloc\ntext/vtt\ntext/x-component\ntext/x-cross-domain-policy\ntext/javascript'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for server_name","tags":["augeas","pe_nginx::directive","pe_nginx","directive","server_name","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set server_name 'pe-xl-core-0.puppet.vm'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for listen","tags":["augeas","pe_nginx::directive","pe_nginx","directive","listen","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set listen '443 ssl'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for ssl_certificate","tags":["augeas","pe_nginx::directive","pe_nginx","directive","ssl_certificate","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set ssl_certificate '/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for ssl_certificate_key","tags":["augeas","pe_nginx::directive","pe_nginx","directive","ssl_certificate_key","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set ssl_certificate_key '/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for ssl_crl","tags":["augeas","pe_nginx::directive","pe_nginx","directive","ssl_crl","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set ssl_crl '/etc/puppetlabs/puppet/ssl/crl.pem'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for ssl_prefer_server_ciphers","tags":["augeas","pe_nginx::directive","pe_nginx","directive","ssl_prefer_server_ciphers","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set ssl_prefer_server_ciphers 'on'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for ssl_ciphers","tags":["augeas","pe_nginx::directive","pe_nginx","directive","ssl_ciphers","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set ssl_ciphers 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:ECDHE-RSA-DES-CBC3-SHA:ECDHE-ECDSA-DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for ssl_protocols","tags":["augeas","pe_nginx::directive","pe_nginx","directive","ssl_protocols","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set ssl_protocols 'TLSv1.2'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for ssl_dhparam","tags":["augeas","pe_nginx::directive","pe_nginx","directive","ssl_dhparam","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set ssl_dhparam '/etc/puppetlabs/nginx/dhparam_puppetproxy.pem'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for ssl_verify_client","tags":["augeas","pe_nginx::directive","pe_nginx","directive","ssl_verify_client","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set ssl_verify_client 'off'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for ssl_verify_depth","tags":["augeas","pe_nginx::directive","pe_nginx","directive","ssl_verify_depth","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set ssl_verify_depth '1'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for ssl_session_timeout","tags":["augeas","pe_nginx::directive","pe_nginx","directive","ssl_session_timeout","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set ssl_session_timeout '1d'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for ssl_session_cache","tags":["augeas","pe_nginx::directive","pe_nginx","directive","ssl_session_cache","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']","changes":["set ssl_session_cache 'shared:SSL:50m'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for proxy_pass","tags":["augeas","pe_nginx::directive","pe_nginx","directive","proxy_pass","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']/location[#uri='/']","changes":["set #uri '/'","set proxy_pass 'http://127.0.0.1:4430'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for proxy_redirect","tags":["augeas","pe_nginx::directive","pe_nginx","directive","proxy_redirect","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']/location[#uri='/']","changes":["set #uri '/'","set proxy_redirect 'http://127.0.0.1:4430 /'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for proxy_read_timeout","tags":["augeas","pe_nginx::directive","pe_nginx","directive","proxy_read_timeout","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']/location[#uri='/']","changes":["set #uri '/'","set proxy_read_timeout '120'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for proxy_set_header x-ssl-subject","tags":["augeas","pe_nginx::directive","pe_nginx","directive","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']/location[#uri='/']","changes":["set #uri '/'","set proxy_set_header[.='X-SSL-Subject $ssl_client_s_dn'] 'X-SSL-Subject $ssl_client_s_dn'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for proxy_set_header x-client-dn","tags":["augeas","pe_nginx::directive","pe_nginx","directive","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']/location[#uri='/']","changes":["set #uri '/'","set proxy_set_header[.='X-Client-DN $ssl_client_s_dn'] 'X-Client-DN $ssl_client_s_dn'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for proxy_set_header x-client-verify","tags":["augeas","pe_nginx::directive","pe_nginx","directive","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']/location[#uri='/']","changes":["set #uri '/'","set proxy_set_header[.='X-Client-Verify $ssl_client_verify'] 'X-Client-Verify $ssl_client_verify'"],"notify":"Service[pe-nginx]"}},{"type":"Augeas","title":"pe_nginx::directive for proxy_set_header x-forwarded-for","tags":["augeas","pe_nginx::directive","pe_nginx","directive","class","puppet_enterprise::profile::console::proxy","puppet_enterprise","profile","console","proxy","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/pe_nginx/manifests/directive.pp","line":145,"exported":false,"parameters":{"incl":"/etc/puppetlabs/nginx/conf.d/proxy.conf","lens":"Nginx.lns","context":"/files//etc/puppetlabs/nginx/conf.d/proxy.conf/server[server_name='pe-xl-core-0.puppet.vm']/location[#uri='/']","changes":["set #uri '/'","set proxy_set_header[.='X-Forwarded-For $proxy_add_x_forwarded_for'] 'X-Forwarded-For $proxy_add_x_forwarded_for'"],"notify":"Service[pe-nginx]"}},{"type":"Class","title":"Pe_concat::Setup","tags":["class","pe_concat::setup","pe_concat","setup","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"exported":false},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh","tags":["file","class","pe_concat::setup","pe_concat","setup","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/setup.pp","line":56,"exported":false,"parameters":{"ensure":"file","mode":"0755","source":"puppet:///modules/pe_concat/concatfragments.sh","backup":false,"owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat","tags":["file","class","pe_concat::setup","pe_concat","setup","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/setup.pp","line":62,"exported":false,"parameters":{"ensure":"directory","mode":"0755","backup":false,"owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/bin","tags":["file","class","pe_concat::setup","pe_concat","setup","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/setup.pp","line":62,"exported":false,"parameters":{"ensure":"directory","mode":"0755","backup":false,"owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf","tags":["file","pe_concat","class","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":144,"exported":false,"parameters":{"ensure":"directory","mode":"0750","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments","tags":["file","pe_concat","class","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":149,"exported":false,"parameters":{"ensure":"directory","mode":"0750","force":true,"ignore":[".svn",".git",".gitignore"],"notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]","purge":true,"recurse":true,"backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments.concat","tags":["file","pe_concat","class","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":159,"exported":false,"parameters":{"ensure":"present","mode":"0640","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments.concat.out","tags":["file","pe_concat","class","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":164,"exported":false,"parameters":{"ensure":"present","mode":"0640","backup":false}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","tags":["file","pe_concat","class","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":169,"exported":false,"parameters":{"ensure":"present","owner":"pe-postgres","group":"pe-postgres","mode":"0640","replace":true,"alias":"pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","source":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments.concat.out","backup":"puppet"}},{"type":"Exec","title":"pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","tags":["exec","pe_concat","class","pe_postgresql::server::config","pe_postgresql","server","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":187,"exported":false,"parameters":{"command":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf\" -w '# This file is managed by Puppet. DO NOT EDIT.'","alias":"pe_concat_/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf","notify":"File[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]","subscribe":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf]","unless":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf\" -w '# This file is managed by Puppet. DO NOT EDIT.' -t","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","require":["File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf]","File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments]","File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments.concat]"]}},{"type":"Pe_postgresql_conf","title":"listen_addresses","tags":["pe_postgresql_conf","listen_addresses","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","pe_postgresql::server::config","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"*","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"File","title":"systemd-port-override","tags":["file","systemd-port-override","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","port","class","pe_postgresql::server::config","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":39,"exported":false,"parameters":{"path":"/etc/systemd/system/postgresql.service","ensure":"present","owner":"root","group":"root","content":".include /lib/systemd/system/postgresql.service\n[Service]\nEnvironment=PGPORT=5432\n","notify":["Exec[restart-systemd]","Class[Pe_postgresql::Server::Service]"],"before":"Class[Pe_postgresql::Server::Reload]","mode":"0644"}},{"type":"Exec","title":"restart-systemd","tags":["exec","restart-systemd","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","port","class","pe_postgresql::server::config","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":48,"exported":false,"parameters":{"command":"systemctl daemon-reload","refreshonly":true,"path":"/bin:/usr/bin:/usr/local/bin","logoutput":"on_failure"}},{"type":"Pe_postgresql_conf","title":"port","tags":["pe_postgresql_conf","port","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","pe_postgresql::server::config","config","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"5432","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Exec","title":"validate postgres connection for /postgres","tags":["exec","pe_postgresql::validate_db_connection","pe_postgresql","validate_db_connection","validate_service_is_running","class","pe_postgresql::server::service","server","service","pe_postgresql::server","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/validate_db_connection.pp","line":51,"exported":false,"parameters":{"command":"echo 'Unable to connect to defined database using: /opt/puppetlabs/server/bin/psql --tuples-only --quiet -p 5432 --dbname postgres ' && false","unless":"/opt/puppetlabs/server/bin/validate_postgresql_connection.sh 1 60 '/opt/puppetlabs/server/bin/psql --tuples-only --quiet -p 5432 --dbname postgres '","cwd":"/tmp","logoutput":"on_failure","user":"pe-postgres","path":"/bin:/usr/bin:/usr/local/bin:/opt/puppetlabs/server/bin","timeout":180,"require":"Package[postgresql-client]"}},{"type":"Pe_postgresql_conf","title":"ssl","tags":["pe_postgresql_conf","ssl","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"on","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"ssl_cert_file","tags":["pe_postgresql_conf","ssl_cert_file","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"ssl_key_file","tags":["pe_postgresql_conf","ssl_key_file","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"ssl_ca_file","tags":["pe_postgresql_conf","ssl_ca_file","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"ssl_ciphers","tags":["pe_postgresql_conf","ssl_ciphers","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"effective_cache_size","tags":["pe_postgresql_conf","effective_cache_size","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"38295MB","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"shared_buffers","tags":["pe_postgresql_conf","shared_buffers","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"4096MB","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"maintenance_work_mem","tags":["pe_postgresql_conf","maintenance_work_mem","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"8042MB","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"wal_buffers","tags":["pe_postgresql_conf","wal_buffers","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"8MB","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"work_mem","tags":["pe_postgresql_conf","work_mem","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"8MB","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"max_wal_size","tags":["pe_postgresql_conf","max_wal_size","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"6144MB","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"checkpoint_completion_target","tags":["pe_postgresql_conf","checkpoint_completion_target","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"0.90","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"checkpoint_timeout","tags":["pe_postgresql_conf","checkpoint_timeout","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"10min","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"log_line_prefix","tags":["pe_postgresql_conf","log_line_prefix","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"%m [db:%d,sess:%c,pid:%p,vtid:%v,tid:%x] ","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"log_min_duration_statement","tags":["pe_postgresql_conf","log_min_duration_statement","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"5000","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"max_connections","tags":["pe_postgresql_conf","max_connections","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"400","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"autovacuum_vacuum_scale_factor","tags":["pe_postgresql_conf","autovacuum_vacuum_scale_factor","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"0.08","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"autovacuum_analyze_scale_factor","tags":["pe_postgresql_conf","autovacuum_analyze_scale_factor","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"0.04","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"wal_level","tags":["pe_postgresql_conf","wal_level","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"logical","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"max_worker_processes","tags":["pe_postgresql_conf","max_worker_processes","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"40","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"max_replication_slots","tags":["pe_postgresql_conf","max_replication_slots","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"20","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"max_wal_senders","tags":["pe_postgresql_conf","max_wal_senders","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"20","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"shared_preload_libraries","tags":["pe_postgresql_conf","shared_preload_libraries","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"pglogical","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"autovacuum_max_workers","tags":["pe_postgresql_conf","autovacuum_max_workers","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"3","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Service]","before":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"autovacuum_work_mem","tags":["pe_postgresql_conf","autovacuum_work_mem","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"2680MB","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"log_checkpoints","tags":["pe_postgresql_conf","log_checkpoints","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"on","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"log_connections","tags":["pe_postgresql_conf","log_connections","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"on","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"log_disconnections","tags":["pe_postgresql_conf","log_disconnections","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"on","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"log_lock_waits","tags":["pe_postgresql_conf","log_lock_waits","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"on","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"log_temp_files","tags":["pe_postgresql_conf","log_temp_files","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"8192","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"log_autovacuum_min_duration","tags":["pe_postgresql_conf","log_autovacuum_min_duration","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"0","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"log_min_messages","tags":["pe_postgresql_conf","log_min_messages","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"warning","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"log_min_error_statement","tags":["pe_postgresql_conf","log_min_error_statement","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"error","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"log_error_verbosity","tags":["pe_postgresql_conf","log_error_verbosity","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"present","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","value":"default","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_postgresql_conf","title":"checkpoint_segments","tags":["pe_postgresql_conf","checkpoint_segments","pe_postgresql::server::config_entry","pe_postgresql","server","config_entry","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/config_entry.pp","line":81,"exported":false,"parameters":{"ensure":"absent","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf","require":"Class[Pe_postgresql::Server::Initdb]","notify":"Class[Pe_postgresql::Server::Reload]"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_local access as pe-postgres user","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: local access as pe-postgres user\n# Description: none\n# Order: 001\nlocal\tall\tpe-postgres\t\tpeer\t\n","order":"001"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf","tags":["file","pe_concat","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":144,"exported":false,"parameters":{"ensure":"directory","mode":"0750","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments","tags":["file","pe_concat","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":149,"exported":false,"parameters":{"ensure":"directory","mode":"0750","force":true,"ignore":[".svn",".git",".gitignore"],"notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]","purge":true,"recurse":true,"backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments.concat","tags":["file","pe_concat","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":159,"exported":false,"parameters":{"ensure":"present","mode":"0640","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments.concat.out","tags":["file","pe_concat","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":164,"exported":false,"parameters":{"ensure":"present","mode":"0640","backup":false}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","tags":["file","pe_concat","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":169,"exported":false,"parameters":{"ensure":"present","owner":"pe-postgres","group":"pe-postgres","mode":"0640","replace":true,"alias":"pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","source":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments.concat.out","backup":"puppet"}},{"type":"Exec","title":"pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","tags":["exec","pe_concat","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":187,"exported":false,"parameters":{"command":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf\" -w '# This file is managed by Puppet. DO NOT EDIT.' -f -l","alias":"pe_concat_/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf","notify":"File[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]","subscribe":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf]","unless":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf\" -w '# This file is managed by Puppet. DO NOT EDIT.' -f -l -t","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","require":["File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf]","File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments]","File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments.concat]"]}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-ha-replication\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-ha-replication","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-ha-replication'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-ha-replication\" SUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-ha-replication","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-ha-replication' and rolsuper=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-ha-replication\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-ha-replication\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-ha-replication","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-ha-replication' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-ha-replication\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-ha-replication\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-ha-replication","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-ha-replication' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-ha-replication\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-ha-replication\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-ha-replication","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-ha-replication' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-ha-replication\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-ha-replication\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-ha-replication","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-ha-replication' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-ha-replication\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-ha-replication\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-ha-replication","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-ha-replication' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-ha-replication\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-ha-replication\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-ha-replication","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-ha-replication' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-ha-replication\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to replication as pe-ha-replication (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=replication-pe-ha-replication-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"replication","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to replication as pe-ha-replication (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=replication-pe-ha-replication-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"replication","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"replication","ident_map_key":"replication-pe-ha-replication-map","client_certname":"pe-xl-core-1.puppet.vm","user":"pe-ha-replication","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql_psql","title":"Check for existence of db 'postgres'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","postgres","class","puppet_enterprise::profile::database","puppet_enterprise","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":69,"exported":false,"parameters":{"command":"SELECT 1","unless":"SELECT datname FROM pg_database WHERE datname='postgres'","db":"postgres","port":5432,"require":"Class[Pe_postgresql::Server::Service]","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","notify":["Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8  'postgres']"]}},{"type":"Exec","title":"/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8  'postgres'","tags":["exec","pe_postgresql::server::database","pe_postgresql","server","database","postgres","class","puppet_enterprise::profile::database","puppet_enterprise","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":76,"exported":false,"parameters":{"refreshonly":true,"user":"pe-postgres","logoutput":"on_failure","notify":["Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"postgres\" FROM public]"],"before":["Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'postgres']"]}},{"type":"Pe_postgresql_psql","title":"REVOKE CONNECT ON DATABASE \"postgres\" FROM public","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","postgres","class","puppet_enterprise::profile::database","puppet_enterprise","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":84,"exported":false,"parameters":{"db":"postgres","port":5432,"refreshonly":true,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"UPDATE pg_database SET datistemplate = false WHERE datname = 'postgres'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","postgres","class","puppet_enterprise::profile::database","puppet_enterprise","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":91,"exported":false,"parameters":{"unless":"SELECT datname FROM pg_database WHERE datname = 'postgres' AND datistemplate = false","db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql_psql","title":"Check for existence of db 'pe-postgres'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-postgres","class","puppet_enterprise::profile::database","puppet_enterprise","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":69,"exported":false,"parameters":{"command":"SELECT 1","unless":"SELECT datname FROM pg_database WHERE datname='pe-postgres'","db":"postgres","port":5432,"require":"Class[Pe_postgresql::Server::Service]","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","notify":["Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8  'pe-postgres']"]}},{"type":"Exec","title":"/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8  'pe-postgres'","tags":["exec","pe_postgresql::server::database","pe_postgresql","server","database","pe-postgres","class","puppet_enterprise::profile::database","puppet_enterprise","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":76,"exported":false,"parameters":{"refreshonly":true,"user":"pe-postgres","logoutput":"on_failure","notify":["Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-postgres\" FROM public]"],"before":["Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-postgres']"]}},{"type":"Pe_postgresql_psql","title":"REVOKE CONNECT ON DATABASE \"pe-postgres\" FROM public","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-postgres","class","puppet_enterprise::profile::database","puppet_enterprise","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":84,"exported":false,"parameters":{"db":"postgres","port":5432,"refreshonly":true,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-postgres'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-postgres","class","puppet_enterprise::profile::database","puppet_enterprise","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":91,"exported":false,"parameters":{"unless":"SELECT datname FROM pg_database WHERE datname = 'pe-postgres' AND datistemplate = false","db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql::Server::Tablespace","title":"pe-puppetdb","tags":["pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":85,"exported":false,"parameters":{"location":"/opt/puppetlabs/server/data/postgresql/puppetdb","require":"Class[Pe_postgresql::Server]","spcname":"pe-puppetdb","before":["Pe_postgresql::Server::Database[pe-puppetdb]","Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-puppetdb'  'pe-puppetdb']"]}},{"type":"Pe_postgresql::Server::Role","title":"pe-puppetdb","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":111,"exported":false,"parameters":{"password_hash":false,"superuser":false,"require":"Pe_postgresql::Server::Tablespace[pe-puppetdb]","createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"replication":false,"connection_limit":"-1","username":"pe-puppetdb","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-puppetdb\" TO \"pe-puppetdb\"]"]}},{"type":"Pe_postgresql::Server::Db","title":"pe-puppetdb","tags":["pe_postgresql::server::db","pe_postgresql","server","db","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":117,"exported":false,"parameters":{"user":"pe-puppetdb","tablespace":"pe-puppetdb","require":"Pe_postgresql::Server::Role[pe-puppetdb]","dbname":"pe-puppetdb","encoding":"UTF8","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","grant":"ALL","template":"template0","istemplate":false}},{"type":"Puppet_enterprise::Psql","title":"pe-puppetdb revoke public table create perms","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":128,"exported":false,"parameters":{"command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false","require":"Pe_postgresql::Server::Db[pe-puppetdb]","db":"pe-puppetdb","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"grant table create to pe-puppetdb on pe-puppetdb","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":136,"exported":false,"parameters":{"command":"GRANT CREATE ON SCHEMA public TO \"pe-puppetdb\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-puppetdb', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true","require":"Pe_postgresql::Server::Db[pe-puppetdb]","db":"pe-puppetdb","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-puppetdb/pg_repack","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":178,"exported":false,"parameters":{"database":"pe-puppetdb","extension":"pg_repack","require":"Pe_postgresql::Server::Db[pe-puppetdb]","version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-puppetdb/pg_trgm","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":178,"exported":false,"parameters":{"database":"pe-puppetdb","extension":"pg_trgm","require":"Pe_postgresql::Server::Db[pe-puppetdb]","version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-puppetdb/pgcrypto","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":178,"exported":false,"parameters":{"database":"pe-puppetdb","extension":"pgcrypto","require":"Pe_postgresql::Server::Db[pe-puppetdb]","version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-puppetdb","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-puppetdb"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-puppetdb","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-compiler-0.puppet.vm","user":"pe-puppetdb"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-puppetdb","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-1.puppet.vm","user":"pe-puppetdb"}},{"type":"Pe_postgresql::Server::Tablespace","title":"pe-classifier","tags":["pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":85,"exported":false,"parameters":{"location":"/opt/puppetlabs/server/data/postgresql/classifier","require":"Class[Pe_postgresql::Server]","spcname":"pe-classifier","before":["Pe_postgresql::Server::Database[pe-classifier]","Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-classifier'  'pe-classifier']"]}},{"type":"Pe_postgresql::Server::Role","title":"pe-classifier","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":111,"exported":false,"parameters":{"password_hash":false,"superuser":true,"require":"Pe_postgresql::Server::Tablespace[pe-classifier]","createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"replication":false,"connection_limit":"-1","username":"pe-classifier","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-classifier\" TO \"pe-classifier\"]"]}},{"type":"Pe_postgresql::Server::Db","title":"pe-classifier","tags":["pe_postgresql::server::db","pe_postgresql","server","db","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":117,"exported":false,"parameters":{"user":"pe-classifier","tablespace":"pe-classifier","require":"Pe_postgresql::Server::Role[pe-classifier]","dbname":"pe-classifier","encoding":"UTF8","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","grant":"ALL","template":"template0","istemplate":false}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier revoke public table create perms","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":128,"exported":false,"parameters":{"command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false","require":"Pe_postgresql::Server::Db[pe-classifier]","db":"pe-classifier","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"grant table create to pe-classifier on pe-classifier","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":136,"exported":false,"parameters":{"command":"GRANT CREATE ON SCHEMA public TO \"pe-classifier\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-classifier', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true","require":"Pe_postgresql::Server::Db[pe-classifier]","db":"pe-classifier","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Pg::Enforce_ownership","title":"pe-classifier objects should be owned by pe-classifier","tags":["puppet_enterprise::pg::enforce_ownership","puppet_enterprise","pg","enforce_ownership","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":145,"exported":false,"parameters":{"database":"pe-classifier","schema":"public","owner":"pe-classifier","require":"Pe_postgresql::Server::Db[pe-classifier]"}},{"type":"Puppet_enterprise::Pg::Ordinary_user","title":"pe-classifier-read","tags":["puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","pe-classifier-read","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":153,"exported":false,"parameters":{"user_name":"pe-classifier-read","database":"pe-classifier","database_password":"","write_access":false,"db_owner":"pe-classifier","replication_user":"pe-ha-replication","require":"Pe_postgresql::Server::Db[pe-classifier]"}},{"type":"Puppet_enterprise::Pg::Ordinary_user","title":"pe-classifier-write","tags":["puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":165,"exported":false,"parameters":{"user_name":"pe-classifier-write","database":"pe-classifier","database_password":"","write_access":true,"db_owner":"pe-classifier","replication_user":"pe-ha-replication","require":"Pe_postgresql::Server::Db[pe-classifier]"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-classifier/pg_repack","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":178,"exported":false,"parameters":{"database":"pe-classifier","extension":"pg_repack","require":"Pe_postgresql::Server::Db[pe-classifier]","version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-classifier/pglogical","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":186,"exported":false,"parameters":{"database":"pe-classifier","extension":"pglogical","require":["Pe_postgresql::Server::Db[pe-classifier]","Pe_postgresql::Server::Database[postgres]"],"version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Pglogical::Node","title":"pe-classifier/n6bad1349378221","tags":["puppet_enterprise::pg::pglogical::node","puppet_enterprise","pg","pglogical","node","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":228,"exported":false,"parameters":{"node_name":"n6bad1349378221","host":"pe-xl-core-0.puppet.vm","database":"pe-classifier","user":"pe-ha-replication","ssl_cert_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ssl_key_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ssl_ca_file":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":["Puppet_enterprise::Pg::Extension[pe-classifier/pglogical]","Class[Pe_postgresql::Server::Reload]"]}},{"type":"Puppet_enterprise::Pg::Pglogical::Replication_set","title":"pe-classifier/default","tags":["puppet_enterprise::pg::pglogical::replication_set","puppet_enterprise","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":243,"exported":false,"parameters":{"ensure":"populated","database":"pe-classifier","replication_set_name":"default","schema":"public","require":"Puppet_enterprise::Pg::Extension[pe-classifier/pglogical]"}},{"type":"Puppet_enterprise::Pg::Pglogical::Subscription","title":"pe-classifier/s6bad1349378221","tags":["puppet_enterprise::pg::pglogical::subscription","puppet_enterprise","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":268,"exported":false,"parameters":{"ensure":"absent","subscription_name":"s6bad1349378221","database":"pe-classifier","require":["Puppet_enterprise::Pg::Extension[pe-classifier/pglogical]","Puppet_enterprise::Pg::Pglogical::Node[pe-classifier/n6bad1349378221]","Class[Pe_postgresql::Server::Reload]"],"host":"","user":"","ssl_cert_file":"","ssl_key_file":"","ssl_ca_file":"","keepalives_idle":30,"keepalives_count":2,"synchronize_structure":true}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-classifier","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-classifier"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-classifier","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-classifier-read"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-classifier","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-classifier-write"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-classifier","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-1.puppet.vm","user":"pe-ha-replication"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-classifier","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-ha-replication"}},{"type":"Pe_postgresql::Server::Tablespace","title":"pe-rbac","tags":["pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":85,"exported":false,"parameters":{"location":"/opt/puppetlabs/server/data/postgresql/rbac","require":"Class[Pe_postgresql::Server]","spcname":"pe-rbac","before":["Pe_postgresql::Server::Database[pe-rbac]","Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-rbac'  'pe-rbac']"]}},{"type":"Pe_postgresql::Server::Role","title":"pe-rbac","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":111,"exported":false,"parameters":{"password_hash":false,"superuser":true,"require":"Pe_postgresql::Server::Tablespace[pe-rbac]","createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"replication":false,"connection_limit":"-1","username":"pe-rbac","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-rbac\" TO \"pe-rbac\"]"]}},{"type":"Pe_postgresql::Server::Db","title":"pe-rbac","tags":["pe_postgresql::server::db","pe_postgresql","server","db","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":117,"exported":false,"parameters":{"user":"pe-rbac","tablespace":"pe-rbac","require":"Pe_postgresql::Server::Role[pe-rbac]","dbname":"pe-rbac","encoding":"UTF8","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","grant":"ALL","template":"template0","istemplate":false}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac revoke public table create perms","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":128,"exported":false,"parameters":{"command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false","require":"Pe_postgresql::Server::Db[pe-rbac]","db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"grant table create to pe-rbac on pe-rbac","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":136,"exported":false,"parameters":{"command":"GRANT CREATE ON SCHEMA public TO \"pe-rbac\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-rbac', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true","require":"Pe_postgresql::Server::Db[pe-rbac]","db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Pg::Enforce_ownership","title":"pe-rbac objects should be owned by pe-rbac","tags":["puppet_enterprise::pg::enforce_ownership","puppet_enterprise","pg","enforce_ownership","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":145,"exported":false,"parameters":{"database":"pe-rbac","schema":"public","owner":"pe-rbac","require":"Pe_postgresql::Server::Db[pe-rbac]"}},{"type":"Puppet_enterprise::Pg::Ordinary_user","title":"pe-rbac-read","tags":["puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","pe-rbac-read","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":153,"exported":false,"parameters":{"user_name":"pe-rbac-read","database":"pe-rbac","database_password":"","write_access":false,"db_owner":"pe-rbac","replication_user":"pe-ha-replication","require":"Pe_postgresql::Server::Db[pe-rbac]"}},{"type":"Puppet_enterprise::Pg::Ordinary_user","title":"pe-rbac-write","tags":["puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":165,"exported":false,"parameters":{"user_name":"pe-rbac-write","database":"pe-rbac","database_password":"","write_access":true,"db_owner":"pe-rbac","replication_user":"pe-ha-replication","require":"Pe_postgresql::Server::Db[pe-rbac]"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-rbac/pg_repack","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":178,"exported":false,"parameters":{"database":"pe-rbac","extension":"pg_repack","require":"Pe_postgresql::Server::Db[pe-rbac]","version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-rbac/citext","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":178,"exported":false,"parameters":{"database":"pe-rbac","extension":"citext","require":"Pe_postgresql::Server::Db[pe-rbac]","version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-rbac/pgcrypto","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":178,"exported":false,"parameters":{"database":"pe-rbac","extension":"pgcrypto","require":"Pe_postgresql::Server::Db[pe-rbac]","version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-rbac/pglogical","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":186,"exported":false,"parameters":{"database":"pe-rbac","extension":"pglogical","require":["Pe_postgresql::Server::Db[pe-rbac]","Pe_postgresql::Server::Database[postgres]"],"version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Pglogical::Node","title":"pe-rbac/n6bad1349378221","tags":["puppet_enterprise::pg::pglogical::node","puppet_enterprise","pg","pglogical","node","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":228,"exported":false,"parameters":{"node_name":"n6bad1349378221","host":"pe-xl-core-0.puppet.vm","database":"pe-rbac","user":"pe-ha-replication","ssl_cert_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ssl_key_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ssl_ca_file":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":["Puppet_enterprise::Pg::Extension[pe-rbac/pglogical]","Class[Pe_postgresql::Server::Reload]"]}},{"type":"Puppet_enterprise::Pg::Pglogical::Replication_set","title":"pe-rbac/default","tags":["puppet_enterprise::pg::pglogical::replication_set","puppet_enterprise","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":243,"exported":false,"parameters":{"ensure":"populated","database":"pe-rbac","replication_set_name":"default","schema":"public","require":"Puppet_enterprise::Pg::Extension[pe-rbac/pglogical]"}},{"type":"Puppet_enterprise::Pg::Pglogical::Subscription","title":"pe-rbac/s6bad1349378221","tags":["puppet_enterprise::pg::pglogical::subscription","puppet_enterprise","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":268,"exported":false,"parameters":{"ensure":"absent","subscription_name":"s6bad1349378221","database":"pe-rbac","require":["Puppet_enterprise::Pg::Extension[pe-rbac/pglogical]","Puppet_enterprise::Pg::Pglogical::Node[pe-rbac/n6bad1349378221]","Class[Pe_postgresql::Server::Reload]"],"host":"","user":"","ssl_cert_file":"","ssl_key_file":"","ssl_ca_file":"","keepalives_idle":30,"keepalives_count":2,"synchronize_structure":true}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-rbac","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-rbac"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-rbac","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-rbac-read"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-rbac","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-rbac-write"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-rbac","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-1.puppet.vm","user":"pe-ha-replication"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-rbac","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-ha-replication"}},{"type":"Pe_postgresql::Server::Tablespace","title":"pe-activity","tags":["pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":85,"exported":false,"parameters":{"location":"/opt/puppetlabs/server/data/postgresql/activity","require":"Class[Pe_postgresql::Server]","spcname":"pe-activity","before":["Pe_postgresql::Server::Database[pe-activity]","Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-activity'  'pe-activity']"]}},{"type":"Pe_postgresql::Server::Role","title":"pe-activity","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":111,"exported":false,"parameters":{"password_hash":false,"superuser":true,"require":"Pe_postgresql::Server::Tablespace[pe-activity]","createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"replication":false,"connection_limit":"-1","username":"pe-activity","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-activity\" TO \"pe-activity\"]"]}},{"type":"Pe_postgresql::Server::Db","title":"pe-activity","tags":["pe_postgresql::server::db","pe_postgresql","server","db","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":117,"exported":false,"parameters":{"user":"pe-activity","tablespace":"pe-activity","require":"Pe_postgresql::Server::Role[pe-activity]","dbname":"pe-activity","encoding":"UTF8","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","grant":"ALL","template":"template0","istemplate":false}},{"type":"Puppet_enterprise::Psql","title":"pe-activity revoke public table create perms","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":128,"exported":false,"parameters":{"command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false","require":"Pe_postgresql::Server::Db[pe-activity]","db":"pe-activity","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"grant table create to pe-activity on pe-activity","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":136,"exported":false,"parameters":{"command":"GRANT CREATE ON SCHEMA public TO \"pe-activity\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-activity', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true","require":"Pe_postgresql::Server::Db[pe-activity]","db":"pe-activity","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Pg::Enforce_ownership","title":"pe-activity objects should be owned by pe-activity","tags":["puppet_enterprise::pg::enforce_ownership","puppet_enterprise","pg","enforce_ownership","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":145,"exported":false,"parameters":{"database":"pe-activity","schema":"public","owner":"pe-activity","require":"Pe_postgresql::Server::Db[pe-activity]"}},{"type":"Puppet_enterprise::Pg::Ordinary_user","title":"pe-activity-read","tags":["puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","pe-activity-read","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":153,"exported":false,"parameters":{"user_name":"pe-activity-read","database":"pe-activity","database_password":"","write_access":false,"db_owner":"pe-activity","replication_user":"pe-ha-replication","require":"Pe_postgresql::Server::Db[pe-activity]"}},{"type":"Puppet_enterprise::Pg::Ordinary_user","title":"pe-activity-write","tags":["puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":165,"exported":false,"parameters":{"user_name":"pe-activity-write","database":"pe-activity","database_password":"","write_access":true,"db_owner":"pe-activity","replication_user":"pe-ha-replication","require":"Pe_postgresql::Server::Db[pe-activity]"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-activity/pg_repack","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":178,"exported":false,"parameters":{"database":"pe-activity","extension":"pg_repack","require":"Pe_postgresql::Server::Db[pe-activity]","version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-activity/pglogical","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":186,"exported":false,"parameters":{"database":"pe-activity","extension":"pglogical","require":["Pe_postgresql::Server::Db[pe-activity]","Pe_postgresql::Server::Database[postgres]"],"version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Pglogical::Node","title":"pe-activity/n6bad1349378221","tags":["puppet_enterprise::pg::pglogical::node","puppet_enterprise","pg","pglogical","node","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":228,"exported":false,"parameters":{"node_name":"n6bad1349378221","host":"pe-xl-core-0.puppet.vm","database":"pe-activity","user":"pe-ha-replication","ssl_cert_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ssl_key_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ssl_ca_file":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":["Puppet_enterprise::Pg::Extension[pe-activity/pglogical]","Class[Pe_postgresql::Server::Reload]"]}},{"type":"Puppet_enterprise::Pg::Pglogical::Replication_set","title":"pe-activity/default","tags":["puppet_enterprise::pg::pglogical::replication_set","puppet_enterprise","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":243,"exported":false,"parameters":{"ensure":"populated","database":"pe-activity","replication_set_name":"default","schema":"public","require":"Puppet_enterprise::Pg::Extension[pe-activity/pglogical]"}},{"type":"Puppet_enterprise::Pg::Pglogical::Subscription","title":"pe-activity/s6bad1349378221","tags":["puppet_enterprise::pg::pglogical::subscription","puppet_enterprise","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":268,"exported":false,"parameters":{"ensure":"absent","subscription_name":"s6bad1349378221","database":"pe-activity","require":["Puppet_enterprise::Pg::Extension[pe-activity/pglogical]","Puppet_enterprise::Pg::Pglogical::Node[pe-activity/n6bad1349378221]","Class[Pe_postgresql::Server::Reload]"],"host":"","user":"","ssl_cert_file":"","ssl_key_file":"","ssl_ca_file":"","keepalives_idle":30,"keepalives_count":2,"synchronize_structure":true}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-activity","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-activity"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-activity","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-activity-read"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-activity","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-activity-write"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-activity","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-1.puppet.vm","user":"pe-ha-replication"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-activity","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-ha-replication"}},{"type":"Pe_postgresql::Server::Tablespace","title":"pe-orchestrator","tags":["pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":85,"exported":false,"parameters":{"location":"/opt/puppetlabs/server/data/postgresql/orchestrator","require":"Class[Pe_postgresql::Server]","spcname":"pe-orchestrator","before":["Pe_postgresql::Server::Database[pe-orchestrator]","Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-orchestrator'  'pe-orchestrator']"]}},{"type":"Pe_postgresql::Server::Role","title":"pe-orchestrator","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":111,"exported":false,"parameters":{"password_hash":false,"superuser":true,"require":"Pe_postgresql::Server::Tablespace[pe-orchestrator]","createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"replication":false,"connection_limit":"-1","username":"pe-orchestrator","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-orchestrator\" TO \"pe-orchestrator\"]"]}},{"type":"Pe_postgresql::Server::Db","title":"pe-orchestrator","tags":["pe_postgresql::server::db","pe_postgresql","server","db","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":117,"exported":false,"parameters":{"user":"pe-orchestrator","tablespace":"pe-orchestrator","require":"Pe_postgresql::Server::Role[pe-orchestrator]","dbname":"pe-orchestrator","encoding":"UTF8","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","grant":"ALL","template":"template0","istemplate":false}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator revoke public table create perms","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":128,"exported":false,"parameters":{"command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false","require":"Pe_postgresql::Server::Db[pe-orchestrator]","db":"pe-orchestrator","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"grant table create to pe-orchestrator on pe-orchestrator","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":136,"exported":false,"parameters":{"command":"GRANT CREATE ON SCHEMA public TO \"pe-orchestrator\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-orchestrator', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true","require":"Pe_postgresql::Server::Db[pe-orchestrator]","db":"pe-orchestrator","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Pg::Enforce_ownership","title":"pe-orchestrator objects should be owned by pe-orchestrator","tags":["puppet_enterprise::pg::enforce_ownership","puppet_enterprise","pg","enforce_ownership","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":145,"exported":false,"parameters":{"database":"pe-orchestrator","schema":"public","owner":"pe-orchestrator","require":"Pe_postgresql::Server::Db[pe-orchestrator]"}},{"type":"Puppet_enterprise::Pg::Ordinary_user","title":"pe-orchestrator-read","tags":["puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","pe-orchestrator-read","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":153,"exported":false,"parameters":{"user_name":"pe-orchestrator-read","database":"pe-orchestrator","database_password":"","write_access":false,"db_owner":"pe-orchestrator","replication_user":"pe-ha-replication","require":"Pe_postgresql::Server::Db[pe-orchestrator]"}},{"type":"Puppet_enterprise::Pg::Ordinary_user","title":"pe-orchestrator-write","tags":["puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":165,"exported":false,"parameters":{"user_name":"pe-orchestrator-write","database":"pe-orchestrator","database_password":"","write_access":true,"db_owner":"pe-orchestrator","replication_user":"pe-ha-replication","require":"Pe_postgresql::Server::Db[pe-orchestrator]"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-orchestrator/pg_repack","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":178,"exported":false,"parameters":{"database":"pe-orchestrator","extension":"pg_repack","require":"Pe_postgresql::Server::Db[pe-orchestrator]","version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-orchestrator/pglogical","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":186,"exported":false,"parameters":{"database":"pe-orchestrator","extension":"pglogical","require":["Pe_postgresql::Server::Db[pe-orchestrator]","Pe_postgresql::Server::Database[postgres]"],"version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Pglogical::Node","title":"pe-orchestrator/n6bad1349378221","tags":["puppet_enterprise::pg::pglogical::node","puppet_enterprise","pg","pglogical","node","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":228,"exported":false,"parameters":{"node_name":"n6bad1349378221","host":"pe-xl-core-0.puppet.vm","database":"pe-orchestrator","user":"pe-ha-replication","ssl_cert_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ssl_key_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ssl_ca_file":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":["Puppet_enterprise::Pg::Extension[pe-orchestrator/pglogical]","Class[Pe_postgresql::Server::Reload]"]}},{"type":"Puppet_enterprise::Pg::Pglogical::Replication_set","title":"pe-orchestrator/default","tags":["puppet_enterprise::pg::pglogical::replication_set","puppet_enterprise","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":243,"exported":false,"parameters":{"ensure":"populated","database":"pe-orchestrator","replication_set_name":"default","schema":"public","require":"Puppet_enterprise::Pg::Extension[pe-orchestrator/pglogical]"}},{"type":"Puppet_enterprise::Pg::Pglogical::Subscription","title":"pe-orchestrator/s6bad1349378221","tags":["puppet_enterprise::pg::pglogical::subscription","puppet_enterprise","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":268,"exported":false,"parameters":{"ensure":"absent","subscription_name":"s6bad1349378221","database":"pe-orchestrator","require":["Puppet_enterprise::Pg::Extension[pe-orchestrator/pglogical]","Puppet_enterprise::Pg::Pglogical::Node[pe-orchestrator/n6bad1349378221]","Class[Pe_postgresql::Server::Reload]"],"host":"","user":"","ssl_cert_file":"","ssl_key_file":"","ssl_ca_file":"","keepalives_idle":30,"keepalives_count":2,"synchronize_structure":true}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-orchestrator","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-orchestrator"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-orchestrator","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-orchestrator-read"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-orchestrator","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-orchestrator-write"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-orchestrator","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-1.puppet.vm","user":"pe-ha-replication"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-orchestrator","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-ha-replication"}},{"type":"Pe_postgresql::Server::Tablespace","title":"pe-inventory","tags":["pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":85,"exported":false,"parameters":{"location":"/opt/puppetlabs/server/data/postgresql/inventory","require":"Class[Pe_postgresql::Server]","spcname":"pe-inventory","before":["Pe_postgresql::Server::Database[pe-inventory]","Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-inventory'  'pe-inventory']"]}},{"type":"Pe_postgresql::Server::Role","title":"pe-inventory","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":111,"exported":false,"parameters":{"password_hash":false,"superuser":true,"require":"Pe_postgresql::Server::Tablespace[pe-inventory]","createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"replication":false,"connection_limit":"-1","username":"pe-inventory","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-inventory\" TO \"pe-inventory\"]"]}},{"type":"Pe_postgresql::Server::Db","title":"pe-inventory","tags":["pe_postgresql::server::db","pe_postgresql","server","db","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":117,"exported":false,"parameters":{"user":"pe-inventory","tablespace":"pe-inventory","require":"Pe_postgresql::Server::Role[pe-inventory]","dbname":"pe-inventory","encoding":"UTF8","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","grant":"ALL","template":"template0","istemplate":false}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory revoke public table create perms","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":128,"exported":false,"parameters":{"command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false","require":"Pe_postgresql::Server::Db[pe-inventory]","db":"pe-inventory","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"grant table create to pe-inventory on pe-inventory","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":136,"exported":false,"parameters":{"command":"GRANT CREATE ON SCHEMA public TO \"pe-inventory\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-inventory', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true","require":"Pe_postgresql::Server::Db[pe-inventory]","db":"pe-inventory","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Pg::Enforce_ownership","title":"pe-inventory objects should be owned by pe-inventory","tags":["puppet_enterprise::pg::enforce_ownership","puppet_enterprise","pg","enforce_ownership","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":145,"exported":false,"parameters":{"database":"pe-inventory","schema":"public","owner":"pe-inventory","require":"Pe_postgresql::Server::Db[pe-inventory]"}},{"type":"Puppet_enterprise::Pg::Ordinary_user","title":"pe-inventory-read","tags":["puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","pe-inventory-read","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":153,"exported":false,"parameters":{"user_name":"pe-inventory-read","database":"pe-inventory","database_password":"","write_access":false,"db_owner":"pe-inventory","replication_user":"pe-ha-replication","require":"Pe_postgresql::Server::Db[pe-inventory]"}},{"type":"Puppet_enterprise::Pg::Ordinary_user","title":"pe-inventory-write","tags":["puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":165,"exported":false,"parameters":{"user_name":"pe-inventory-write","database":"pe-inventory","database_password":"","write_access":true,"db_owner":"pe-inventory","replication_user":"pe-ha-replication","require":"Pe_postgresql::Server::Db[pe-inventory]"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-inventory/pg_repack","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":178,"exported":false,"parameters":{"database":"pe-inventory","extension":"pg_repack","require":"Pe_postgresql::Server::Db[pe-inventory]","version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-inventory/pgcrypto","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":178,"exported":false,"parameters":{"database":"pe-inventory","extension":"pgcrypto","require":"Pe_postgresql::Server::Db[pe-inventory]","version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Extension","title":"pe-inventory/pglogical","tags":["puppet_enterprise::pg::extension","puppet_enterprise","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":186,"exported":false,"parameters":{"database":"pe-inventory","extension":"pglogical","require":["Pe_postgresql::Server::Db[pe-inventory]","Pe_postgresql::Server::Database[postgres]"],"version":"latest","ensure":"present"}},{"type":"Puppet_enterprise::Pg::Pglogical::Node","title":"pe-inventory/n6bad1349378221","tags":["puppet_enterprise::pg::pglogical::node","puppet_enterprise","pg","pglogical","node","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":228,"exported":false,"parameters":{"node_name":"n6bad1349378221","host":"pe-xl-core-0.puppet.vm","database":"pe-inventory","user":"pe-ha-replication","ssl_cert_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem","ssl_key_file":"/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem","ssl_ca_file":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":["Puppet_enterprise::Pg::Extension[pe-inventory/pglogical]","Class[Pe_postgresql::Server::Reload]"]}},{"type":"Puppet_enterprise::Pg::Pglogical::Replication_set","title":"pe-inventory/default","tags":["puppet_enterprise::pg::pglogical::replication_set","puppet_enterprise","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":243,"exported":false,"parameters":{"ensure":"populated","database":"pe-inventory","replication_set_name":"default","schema":"public","require":"Puppet_enterprise::Pg::Extension[pe-inventory/pglogical]"}},{"type":"Puppet_enterprise::Pg::Pglogical::Subscription","title":"pe-inventory/s6bad1349378221","tags":["puppet_enterprise::pg::pglogical::subscription","puppet_enterprise","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":268,"exported":false,"parameters":{"ensure":"absent","subscription_name":"s6bad1349378221","database":"pe-inventory","require":["Puppet_enterprise::Pg::Extension[pe-inventory/pglogical]","Puppet_enterprise::Pg::Pglogical::Node[pe-inventory/n6bad1349378221]","Class[Pe_postgresql::Server::Reload]"],"host":"","user":"","ssl_cert_file":"","ssl_key_file":"","ssl_ca_file":"","keepalives_idle":30,"keepalives_count":2,"synchronize_structure":true}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-inventory","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-inventory"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-inventory","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-inventory-read"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-inventory","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-inventory-write"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-inventory","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-1.puppet.vm","user":"pe-ha-replication"}},{"type":"Puppet_enterprise::Pg::Cert_whitelist_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication","tags":["puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/app_database.pp","line":326,"exported":false,"parameters":{"database":"pe-inventory","pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","ip_mask_allow_all_users_ssl":"0.0.0.0/0","ipv6_mask_allow_all_users_ssl":"::/0","allowed_client_certname":"pe-xl-core-0.puppet.vm","user":"pe-ha-replication"}},{"type":"Pe_concat","title":"/etc/puppetlabs/puppetserver/bootstrap.cfg","tags":["pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","certificate-authority-service","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":22,"exported":false,"parameters":{"notify":"Exec[pe-puppetserver service full restart]","ensure":"present","path":"/etc/puppetlabs/puppetserver/bootstrap.cfg","mode":"0644","warn":false,"force":false,"backup":"puppet","replace":true,"order":"alpha","ensure_newline":false}},{"type":"Pe_concat::Fragment","title":"puppetserver certificate-authority-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","certificate-authority-service","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.services.ca.certificate-authority-service/certificate-authority-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Exec","title":"Set perms of /etc/puppetlabs/puppet/ssl/private_keys/ directories to 0750","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":22,"exported":false,"parameters":{"command":"find /etc/puppetlabs/puppet/ssl/private_keys/ -type d ! -perm 0750 -exec chmod -c 0750 {} \\;","onlyif":"find /etc/puppetlabs/puppet/ssl/private_keys/ -type d ! -perm 0750 | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Exec","title":"Set perms of /etc/puppetlabs/puppet/ssl/private_keys/ contents to 0640","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":31,"exported":false,"parameters":{"command":"find /etc/puppetlabs/puppet/ssl/private_keys/ -type f ! -perm 0640 -exec chmod -c 0640 {} \\;","onlyif":"find /etc/puppetlabs/puppet/ssl/private_keys/ -type f ! -perm 0640 | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Exec","title":"Set user/group of /etc/puppetlabs/puppet/ssl/private_keys/ contents to pe-puppet:pe-puppet","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":36,"exported":false,"parameters":{"command":"find /etc/puppetlabs/puppet/ssl/private_keys/ \\( ! -user pe-puppet -or ! -group pe-puppet \\) -exec chown pe-puppet:pe-puppet -c {} \\;","onlyif":"find /etc/puppetlabs/puppet/ssl/private_keys/ \\( ! -user pe-puppet -or ! -group pe-puppet \\) | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Pe_concat","title":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","tags":["pe_concat","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/init.pp","line":9,"exported":false,"parameters":{"path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","replace":false,"ensure":"present","mode":"0644","warn":false,"force":false,"backup":"puppet","order":"alpha","ensure_newline":false}},{"type":"Pe_concat::Fragment","title":"00_header_/etc/puppetlabs/puppetserver/conf.d/auth.conf","tags":["pe_concat::fragment","pe_concat","fragment","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/init.pp","line":14,"exported":false,"parameters":{"target":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","content":"authorization: {\n  rules: []\n","order":"10"}},{"type":"Pe_concat::Fragment","title":"99_footer_/etc/puppetlabs/puppetserver/conf.d/auth.conf","tags":["pe_concat::fragment","pe_concat","fragment","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/init.pp","line":21,"exported":false,"parameters":{"target":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","content":"}\n","order":"10"}},{"type":"Pe_hocon_setting","title":"authorization.version./etc/puppetlabs/puppetserver/conf.d/auth.conf","tags":["pe_hocon_setting","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/init.pp","line":27,"exported":false,"parameters":{"setting":"authorization.version","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":1,"require":"Pe_concat[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"authorization.allow-header-cert-info./etc/puppetlabs/puppetserver/conf.d/auth.conf","tags":["pe_hocon_setting","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/init.pp","line":34,"exported":false,"parameters":{"setting":"authorization.allow-header-cert-info","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":false,"require":"Pe_concat[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","ensure":"present","notify":"Service[pe-puppetserver]"}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs catalog","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"^/puppet/v3/catalog/([^/]+)$","type":"regex","query-params":{},"method":["get","post"]},"allow":"$1","name":"puppetlabs catalog","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs v4 catalog","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"^/puppet/v4/catalog/?$","type":"regex","query-params":{},"method":"post"},"allow":["pe-xl-core-0.puppet.vm",{"rbac":{"permission":"puppetserver:compile_catalog:*"}}],"name":"puppetlabs v4 catalog","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs certificate","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet-ca/v1/certificate/","type":"path","query-params":{},"method":"get"},"allow-unauthenticated":true,"name":"puppetlabs certificate","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs crl","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet-ca/v1/certificate_revocation_list/ca","type":"path","query-params":{},"method":"get"},"allow-unauthenticated":true,"name":"puppetlabs crl","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs csr","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet-ca/v1/certificate_request","type":"path","query-params":{},"method":["get","put"]},"allow-unauthenticated":true,"name":"puppetlabs csr","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs environments","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet/v3/environments","type":"path","query-params":{},"method":"get"},"allow":"*","name":"puppetlabs environments","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs environment","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet/v3/environment","type":"path","query-params":{},"method":"get"},"allow":["pe-xl-core-0.puppet.vm",{"rbac":{"permission":"puppetserver:compile_catalog:*"}}],"name":"puppetlabs environment","sort-order":510}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs tasks","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet/v3/tasks","type":"path","query-params":{},"method":"get"},"allow":"pe-xl-core-0.puppet.vm","name":"puppetlabs tasks","sort-order":510}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs environment classes","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet/v3/environment_classes","type":"path","query-params":{},"method":"get"},"allow":["pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"name":"puppetlabs environment classes","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs file bucket file","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet/v3/file_bucket_file","type":"path","query-params":{},"method":["get","head","post","put"]},"allow":"*","name":"puppetlabs file bucket file","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs file content","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet/v3/file_content","type":"path","query-params":{},"method":["get","post"]},"allow":"*","name":"puppetlabs file content","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs file metadata","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet/v3/file_metadata","type":"path","query-params":{},"method":["get","post"]},"allow":"*","name":"puppetlabs file metadata","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs node","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"^/puppet/v3/node/([^/]+)$","type":"regex","query-params":{},"method":"get"},"allow":"$1","name":"puppetlabs node","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs report","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"^/puppet/v3/report/([^/]+)$","type":"regex","query-params":{},"method":"put"},"allow":["$1","pe-xl-core-0.puppet.vm"],"name":"puppetlabs report","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs facts","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"^/puppet/v3/facts/([^/]+)$","type":"regex","query-params":{},"method":"put"},"allow":"$1","name":"puppetlabs facts","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs resource type","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet/v3/resource_type","type":"path","query-params":{},"method":"get"},"allow":["pe-xl-core-0.puppet.vm","pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm","pe-xl-core-0.puppet.vm"],"name":"puppetlabs resource type","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs status","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet/v3/status","type":"path","query-params":{},"method":"get"},"allow-unauthenticated":true,"name":"puppetlabs status","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetserver simple status endpoint","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/status/v1/simple","type":"path","query-params":{},"method":"get"},"allow-unauthenticated":true,"name":"puppetserver simple status endpoint","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs status service","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/status/v1/services","type":"path","query-params":{},"method":"get"},"allow-unauthenticated":true,"name":"puppetlabs status service","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs static file content","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet/v3/static_file_content","type":"path","query-params":{},"method":"get"},"allow":"*","name":"puppetlabs static file content","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs experimental","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet/experimental","type":"path","query-params":{},"method":"get"},"allow-unauthenticated":true,"name":"puppetlabs experimental","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs deny all","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/","type":"path","query-params":{}},"deny":"*","name":"puppetlabs deny all","sort-order":999}}},{"type":"Pe_concat::Fragment","title":"puppetserver jetty9-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.webserver.jetty9-service/jetty9-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver pe-master-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-master-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.enterprise.services.master.pe-master-service/pe-master-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver old-pe-master-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","old-pe-master-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"absent","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.enterprise.services.master.master-service/old-pe-master-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver master-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","master-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.services.master.master-service/master-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver request-handler-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","request-handler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.services.request-handler.request-handler-service/request-handler-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver jruby-puppet-pooled-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","jruby-puppet-pooled-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.services.jruby.jruby-puppet-service/jruby-puppet-pooled-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver jruby-pool-manager-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","jruby-pool-manager-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.services.jruby-pool-manager.jruby-pool-manager-service/jruby-pool-manager-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver metrics-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","metrics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver puppet-profiler-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet-profiler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.services.puppet-profiler.puppet-profiler-service/puppet-profiler-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver pe-metrics-puppet-profiler-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-metrics-puppet-profiler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.enterprise.services.puppet-profiler.pe-puppet-profiler-service/pe-metrics-puppet-profiler-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver metrics-puppet-profiler-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","metrics-puppet-profiler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"absent","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.enterprise.services.puppet-profiler.puppet-profiler-service/metrics-puppet-profiler-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver puppet-server-config-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet-server-config-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.services.config.puppet-server-config-service/puppet-server-config-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver puppet-admin-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet-admin-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.services.puppet-admin.puppet-admin-service/puppet-admin-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver webrouting-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","webrouting-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.webrouting.webrouting-service/webrouting-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver legacy-routes-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","legacy-routes-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.services.legacy-routes.legacy-routes-service/legacy-routes-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver pe-legacy-routes-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-legacy-routes-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"absent","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.enterprise.services.legacy-routes.pe-legacy-routes-service/pe-legacy-routes-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver status-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","status-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.status.status-service/status-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver authorization-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","authorization-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.authorization.authorization-service/authorization-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver scheduler-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","scheduler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.scheduler.scheduler-service/scheduler-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver pe-jruby-metrics-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-jruby-metrics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.enterprise.services.jruby.pe-jruby-metrics-service/pe-jruby-metrics-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver jruby-metrics-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","jruby-metrics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.services.jruby.jruby-metrics-service/jruby-metrics-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver puppetserver-analytics-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppetserver-analytics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.enterprise.services.analytics.analytics-service/puppetserver-analytics-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver filesystem-watch-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","filesystem-watch-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.watcher.filesystem-watch-service/filesystem-watch-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver remote-rbac-consumer-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","remote-rbac-consumer-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.rbac-client.services.rbac/remote-rbac-consumer-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.client-auth","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.client-auth","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":29,"exported":false,"parameters":{"setting":"webserver.puppet-server.client-auth","value":"want","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.ssl-host","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.ssl-host","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":34,"exported":false,"parameters":{"setting":"webserver.puppet-server.ssl-host","value":"0.0.0.0","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.ssl-port","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.ssl-port","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":39,"exported":false,"parameters":{"setting":"webserver.puppet-server.ssl-port","value":8140,"ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.ssl-ca-cert","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.ssl-ca-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":44,"exported":false,"parameters":{"setting":"webserver.puppet-server.ssl-ca-cert","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.ssl-cert","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.ssl-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":49,"exported":false,"parameters":{"setting":"webserver.puppet-server.ssl-cert","value":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.ssl-key","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.ssl-key","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":54,"exported":false,"parameters":{"setting":"webserver.puppet-server.ssl-key","value":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.ssl-crl-path","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.ssl-crl-path","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":59,"exported":false,"parameters":{"setting":"webserver.puppet-server.ssl-crl-path","value":"/etc/puppetlabs/puppet/ssl/crl.pem","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.access-log-config","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.access-log-config","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":69,"exported":false,"parameters":{"setting":"webserver.puppet-server.access-log-config","ensure":"present","value":"/etc/puppetlabs/puppetserver/request-logging.xml","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.max-threads","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.max-threads","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":80,"exported":false,"parameters":{"setting":"webserver.puppet-server.max-threads","ensure":"absent","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.request-header-max-size","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.request-header-max-size","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":91,"exported":false,"parameters":{"setting":"webserver.puppet-server.request-header-max-size","ensure":"absent","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.default-server","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.default-server","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":102,"exported":false,"parameters":{"setting":"webserver.puppet-server.default-server","ensure":"present","value":true,"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.ssl-protocols","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.ssl-protocols","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":113,"exported":false,"parameters":{"setting":"webserver.puppet-server.ssl-protocols","ensure":"present","type":"array","value":["TLSv1.2"],"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.puppet-server.cipher-suites","tags":["pe_hocon_setting","puppetserver.webserver.puppet-server.cipher-suites","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","puppet-server","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":125,"exported":false,"parameters":{"setting":"webserver.puppet-server.cipher-suites","ensure":"absent","type":"array","value":[],"require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_concat::Fragment","title":"puppetserver metrics-webservice","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","metrics-webservice","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-webservice\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs environment cache","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet-admin-api/v1/environment-cache","type":"path","query-params":{},"method":"delete"},"allow":["pe-xl-core-0.puppet.vm"],"name":"puppetlabs environment cache","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs jruby pool","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::puppetserver","puppet_enterprise","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet-admin-api/v1/jruby-pool","type":"path","query-params":{},"method":"delete"},"allow":["pe-xl-core-0.puppet.vm"],"name":"puppetlabs jruby pool","sort-order":500}}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/global.conf","tags":["file","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":17,"exported":false,"parameters":{"ensure":"file","mode":"0640","owner":"pe-puppet","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"puppetserver.global.logging-config","tags":["pe_hocon_setting","puppetserver.global.logging-config","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":30,"exported":false,"parameters":{"setting":"global.logging-config","value":"/etc/puppetlabs/puppetserver/logback.xml","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.global.certs.ssl-ca-cert","tags":["pe_hocon_setting","puppetserver.global.certs.ssl-ca-cert","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":40,"exported":false,"parameters":{"setting":"global.certs.ssl-ca-cert","ensure":"present","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.global.certs.ssl-cert","tags":["pe_hocon_setting","puppetserver.global.certs.ssl-cert","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":51,"exported":false,"parameters":{"setting":"global.certs.ssl-cert","ensure":"present","value":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.global.certs.ssl-key","tags":["pe_hocon_setting","puppetserver.global.certs.ssl-key","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":62,"exported":false,"parameters":{"setting":"global.certs.ssl-key","ensure":"present","value":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.global.hostname","tags":["pe_hocon_setting","puppetserver.global.hostname","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":73,"exported":false,"parameters":{"setting":"global.hostname","ensure":"present","value":"pe-xl-core-0.puppet.vm","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.global.version-path","tags":["pe_hocon_setting","puppetserver.global.version-path","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":84,"exported":false,"parameters":{"setting":"global.version-path","ensure":"absent","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.global.login-path","tags":["pe_hocon_setting","puppetserver.global.login-path","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":95,"exported":false,"parameters":{"setting":"global.login-path","ensure":"absent","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/global.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.global.replication-mode","tags":["pe_hocon_setting","puppetserver.global.replication-mode","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":106,"exported":false,"parameters":{"setting":"global.replication-mode","ensure":"absent","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/global.conf"}},{"type":"Pe_ini_subsetting","title":"pe-puppetserver_'Xmx'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":35,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xmx","value":"2048m","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetserver_'Xms'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":35,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xms","value":"512m","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetserver_'Djava.io.tmpdir='","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":35,"exported":false,"parameters":{"ensure":"present","subsetting":"-Djava.io.tmpdir=","value":"/opt/puppetlabs/server/apps/puppetserver/tmp","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetserver_'XX:ReservedCodeCacheSize='","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":35,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:ReservedCodeCacheSize=","value":"512m","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetserver_'XX:+PrintGCDetails'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+PrintGCDetails","value":"","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetserver_'XX:+PrintGCDateStamps'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+PrintGCDateStamps","value":"","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetserver_'Xloggc:'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xloggc:","value":"/var/log/puppetlabs/puppetserver/puppetserver_gc.log","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetserver_'XX:+UseGCLogFileRotation'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+UseGCLogFileRotation","value":"","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetserver_'XX:NumberOfGCLogFiles='","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:NumberOfGCLogFiles=","value":"16","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetserver_'XX:GCLogFileSize='","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:GCLogFileSize=","value":"64m","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_setting","title":"puppetserver initconf java_bin","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":26,"exported":false,"parameters":{"setting":"JAVA_BIN","value":"\"/opt/puppetlabs/server/bin/java\"","ensure":"present","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_setting","title":"puppetserver initconf user","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":31,"exported":false,"parameters":{"setting":"USER","value":"pe-puppet","ensure":"present","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_setting","title":"puppetserver initconf group","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":36,"exported":false,"parameters":{"setting":"GROUP","value":"pe-puppet","ensure":"present","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_setting","title":"puppetserver initconf install_dir","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":41,"exported":false,"parameters":{"setting":"INSTALL_DIR","value":"\"/opt/puppetlabs/server/apps/puppetserver\"","ensure":"present","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_setting","title":"puppetserver initconf config","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":46,"exported":false,"parameters":{"setting":"CONFIG","value":"\"/etc/puppetlabs/puppetserver/conf.d\"","ensure":"present","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_setting","title":"puppetserver initconf bootstrap_config","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":51,"exported":false,"parameters":{"setting":"BOOTSTRAP_CONFIG","value":"\"/etc/puppetlabs/puppetserver/bootstrap.cfg\"","ensure":"present","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_setting","title":"puppetserver initconf service_stop_retries","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":56,"exported":false,"parameters":{"setting":"SERVICE_STOP_RETRIES","value":60,"ensure":"present","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_setting","title":"puppetserver initconf start_timeout","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":61,"exported":false,"parameters":{"setting":"START_TIMEOUT","value":300,"ensure":"present","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Pe_ini_setting","title":"puppetserver initconf jruby_jar","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":71,"exported":false,"parameters":{"ensure":"present","setting":"JRUBY_JAR","value":"\"/opt/puppetlabs/server/apps/puppetserver/jruby-9k.jar\"","path":"/etc/sysconfig/pe-puppetserver","key_val_separator":"=","section":"","require":"Package[pe-puppetserver]","notify":"Exec[pe-puppetserver service full restart]"}},{"type":"Service","title":"pe-puppetserver","tags":["service","pe-puppetserver","puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pe_service.pp","line":10,"exported":false,"parameters":{"ensure":"running","enable":true,"hasrestart":true,"restart":"service pe-puppetserver reload","require":"Package[pe-puppetserver]"}},{"type":"Exec","title":"pe-puppetserver service full restart","tags":["exec","puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","puppetserver","class","puppet_enterprise::master::puppetserver","master","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pe_service.pp","line":20,"exported":false,"parameters":{"command":"service pe-puppetserver restart","timeout":0,"path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","refreshonly":true,"before":"Service[pe-puppetserver]"}},{"type":"Exec","title":"Set perms of /etc/puppetlabs/puppet/hiera.yaml contents to 0644","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","class","puppet_enterprise::master","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":31,"exported":false,"parameters":{"command":"find /etc/puppetlabs/puppet/hiera.yaml -type f ! -perm 0644 -exec chmod -c 0644 {} \\;","onlyif":"find /etc/puppetlabs/puppet/hiera.yaml -type f ! -perm 0644 | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Exec","title":"Set user/group of /etc/puppetlabs/puppet/hiera.yaml contents to root:root","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","class","puppet_enterprise::master","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":36,"exported":false,"parameters":{"command":"find /etc/puppetlabs/puppet/hiera.yaml \\( ! -user root -or ! -group root \\) -exec chown root:root -c {} \\;","onlyif":"find /etc/puppetlabs/puppet/hiera.yaml \\( ! -user root -or ! -group root \\) | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Exec","title":"Set perms of /etc/puppetlabs/puppet/puppet.conf contents to 0644","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","class","puppet_enterprise::master","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":31,"exported":false,"parameters":{"command":"find /etc/puppetlabs/puppet/puppet.conf -type f ! -perm 0644 -exec chmod -c 0644 {} \\;","onlyif":"find /etc/puppetlabs/puppet/puppet.conf -type f ! -perm 0644 | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Exec","title":"Set user/group of /etc/puppetlabs/puppet/puppet.conf contents to root:root","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","class","puppet_enterprise::master","master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":36,"exported":false,"parameters":{"command":"find /etc/puppetlabs/puppet/puppet.conf \\( ! -user root -or ! -group root \\) -exec chown root:root -c {} \\;","onlyif":"find /etc/puppetlabs/puppet/puppet.conf \\( ! -user root -or ! -group root \\) | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Augeas","title":"fileserver.conf pe_packages","tags":["augeas","puppet_enterprise::fileserver_conf","puppet_enterprise","fileserver_conf","pe_packages","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/fileserver_conf.pp","line":20,"exported":false,"parameters":{"changes":["set /files/etc/puppetlabs/puppet/fileserver.conf/pe_packages/path /opt/puppetlabs/server/data/packages/public","set /files/etc/puppetlabs/puppet/fileserver.conf/pe_packages/allow *"],"incl":"/etc/puppetlabs/puppet/fileserver.conf","load_path":"/opt/puppetlabs/puppet/share/augeas/lenses/dist","lens":"PuppetFileserver.lns"}},{"type":"Pe_concat::Fragment","title":"puppetserver code-manager-v1","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","code-manager-v1","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.code-manager.services/code-manager-v1\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver remote-activity-reporter","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","remote-activity-reporter","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.rbac-client.services.activity/remote-activity-reporter\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.client-auth","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.client-auth","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":29,"exported":false,"parameters":{"setting":"webserver.code-manager.client-auth","value":"want","ensure":"present","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.ssl-host","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.ssl-host","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":34,"exported":false,"parameters":{"setting":"webserver.code-manager.ssl-host","value":"0.0.0.0","ensure":"present","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.ssl-port","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.ssl-port","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":39,"exported":false,"parameters":{"setting":"webserver.code-manager.ssl-port","value":8170,"ensure":"present","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.ssl-ca-cert","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.ssl-ca-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":44,"exported":false,"parameters":{"setting":"webserver.code-manager.ssl-ca-cert","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.ssl-cert","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.ssl-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":49,"exported":false,"parameters":{"setting":"webserver.code-manager.ssl-cert","value":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","ensure":"present","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.ssl-key","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.ssl-key","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":54,"exported":false,"parameters":{"setting":"webserver.code-manager.ssl-key","value":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","ensure":"present","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.ssl-crl-path","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.ssl-crl-path","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":59,"exported":false,"parameters":{"setting":"webserver.code-manager.ssl-crl-path","value":"/etc/puppetlabs/puppet/ssl/crl.pem","ensure":"present","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.access-log-config","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.access-log-config","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":69,"exported":false,"parameters":{"setting":"webserver.code-manager.access-log-config","ensure":"present","value":"/etc/puppetlabs/puppetserver/code-manager-request-logging.xml","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.max-threads","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.max-threads","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":80,"exported":false,"parameters":{"setting":"webserver.code-manager.max-threads","ensure":"absent","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.request-header-max-size","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.request-header-max-size","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":91,"exported":false,"parameters":{"setting":"webserver.code-manager.request-header-max-size","ensure":"absent","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.default-server","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.default-server","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":102,"exported":false,"parameters":{"setting":"webserver.code-manager.default-server","ensure":"absent","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.ssl-protocols","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.ssl-protocols","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":113,"exported":false,"parameters":{"setting":"webserver.code-manager.ssl-protocols","ensure":"present","type":"array","value":["TLSv1.2"],"notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_hocon_setting","title":"puppetserver.webserver.code-manager.cipher-suites","tags":["pe_hocon_setting","puppetserver.webserver.code-manager.cipher-suites","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","code-manager","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":125,"exported":false,"parameters":{"setting":"webserver.code-manager.cipher-suites","ensure":"absent","type":"array","value":[],"notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/webserver.conf"}},{"type":"Pe_concat::Fragment","title":"puppetserver file-sync-client-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-client-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.enterprise.services.file-sync-client.file-sync-client-service/file-sync-client-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver file-sync-web-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-web-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.enterprise.services.file-sync-web-service.file-sync-web-service/file-sync-web-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver file-sync-versioned-code-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-versioned-code-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.enterprise.services.file-sync.file-sync-versioned-code-service/file-sync-versioned-code-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_concat::Fragment","title":"puppetserver file-sync-storage-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-storage-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.enterprise.services.file-sync-storage.file-sync-storage-service/file-sync-storage-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs file sync ca-data repo","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/file-sync-git/ca-data","type":"path","query-params":{}},"allow":["pe-xl-core-1.puppet.vm"],"name":"puppetlabs file sync ca-data repo","sort-order":499}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs file sync api","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/file-sync/v1/","type":"path","query-params":{}},"allow":["pe-xl-compiler-0.puppet.vm","pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"name":"puppetlabs file sync api","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs file sync repo","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::master::file_sync","puppet_enterprise","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/file-sync-git/","type":"path","query-params":{}},"allow":["pe-xl-compiler-0.puppet.vm","pe-xl-core-0.puppet.vm","pe-xl-core-1.puppet.vm"],"name":"puppetlabs file sync repo","sort-order":500}}},{"type":"Pe_hocon_setting","title":"file-sync.repos.ca-data.staging-dir","tags":["pe_hocon_setting","file-sync.repos.ca-data.staging-dir","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":33,"exported":false,"parameters":{"setting":"file-sync.repos.ca-data.staging-dir","ensure":"present","value":"/etc/puppetlabs/puppet/ssl","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf"}},{"type":"File","title":"/etc/puppetlabs/puppet/ssl/.gitignore","tags":["file","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":40,"exported":false,"parameters":{"ensure":"present","mode":"0600","source":"puppet:///modules/puppet_enterprise/master/file_sync/ca-data/gitignore","require":"Service[pe-puppetserver]","owner":"pe-puppet","group":"pe-puppet"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.ca-data.client-active","tags":["pe_hocon_setting","file-sync.repos.ca-data.client-active","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":51,"exported":false,"parameters":{"setting":"file-sync.repos.ca-data.client-active","ensure":"present","value":false,"notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.ca-data.auto-commit","tags":["pe_hocon_setting","file-sync.repos.ca-data.auto-commit","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":57,"exported":false,"parameters":{"setting":"file-sync.repos.ca-data.auto-commit","ensure":"present","value":true,"notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.ca-data.honor-gitignore","tags":["pe_hocon_setting","file-sync.repos.ca-data.honor-gitignore","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":63,"exported":false,"parameters":{"setting":"file-sync.repos.ca-data.honor-gitignore","ensure":"present","value":true,"notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.ca-data.live-dir","tags":["pe_hocon_setting","file-sync.repos.ca-data.live-dir","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":82,"exported":false,"parameters":{"setting":"file-sync.repos.ca-data.live-dir","ensure":"absent","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.confd-data.staging-dir","tags":["pe_hocon_setting","file-sync.repos.confd-data.staging-dir","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":33,"exported":false,"parameters":{"setting":"file-sync.repos.confd-data.staging-dir","ensure":"present","value":"/etc/puppetlabs/enterprise/conf.d","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf"}},{"type":"File","title":"/etc/puppetlabs/enterprise/conf.d/.gitignore","tags":["file","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":40,"exported":false,"parameters":{"ensure":"present","mode":"0600","source":"puppet:///modules/puppet_enterprise/master/file_sync/confd-data/gitignore","require":"Service[pe-puppetserver]","owner":"pe-puppet","group":"pe-puppet"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.confd-data.client-active","tags":["pe_hocon_setting","file-sync.repos.confd-data.client-active","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":51,"exported":false,"parameters":{"setting":"file-sync.repos.confd-data.client-active","ensure":"present","value":false,"notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.confd-data.auto-commit","tags":["pe_hocon_setting","file-sync.repos.confd-data.auto-commit","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":57,"exported":false,"parameters":{"setting":"file-sync.repos.confd-data.auto-commit","ensure":"present","value":true,"notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.confd-data.honor-gitignore","tags":["pe_hocon_setting","file-sync.repos.confd-data.honor-gitignore","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":63,"exported":false,"parameters":{"setting":"file-sync.repos.confd-data.honor-gitignore","ensure":"present","value":true,"notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf"}},{"type":"Pe_hocon_setting","title":"file-sync.repos.confd-data.live-dir","tags":["pe_hocon_setting","file-sync.repos.confd-data.live-dir","puppet_enterprise::file_sync_directory","puppet_enterprise","file_sync_directory","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/file_sync_directory.pp","line":82,"exported":false,"parameters":{"setting":"file-sync.repos.confd-data.live-dir","ensure":"absent","notify":"Service[pe-puppetserver]","path":"/etc/puppetlabs/puppetserver/conf.d/file-sync.conf"}},{"type":"Pe_concat::Fragment","title":"puppetserver analytics-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","analytics-service","class","puppet_enterprise::trapperkeeper::analytics","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/puppetserver/bootstrap.cfg","content":"puppetlabs.analytics.service/analytics-service\n","order":"10","notify":"Exec[pe-puppetserver service full restart]","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/analytics.conf","tags":["file","puppet_enterprise::trapperkeeper::analytics_client_settings","puppet_enterprise","trapperkeeper","analytics_client_settings","puppetserver","class","puppet_enterprise::trapperkeeper::analytics","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics_client_settings.pp","line":10,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppet","group":"pe-puppet","mode":"0640"}},{"type":"Pe_hocon_setting","title":"puppetserver.analytics.url","tags":["pe_hocon_setting","puppetserver.analytics.url","puppet_enterprise::trapperkeeper::analytics_client_settings","puppet_enterprise","trapperkeeper","analytics_client_settings","puppetserver","class","puppet_enterprise::trapperkeeper::analytics","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics_client_settings.pp","line":17,"exported":false,"parameters":{"setting":"analytics.url","path":"/etc/puppetlabs/puppetserver/conf.d/analytics.conf","value":"https://pe-xl-core-0.puppet.vm:8140/analytics/v1","ensure":"present","require":"Package[pe-puppetserver]","notify":"Service[pe-puppetserver]"}},{"type":"File","title":"/etc/puppetlabs/puppetdb/conf.d/database.ini","tags":["file","puppet_enterprise::puppetdb::shared_database_settings","puppet_enterprise","puppetdb","shared_database_settings","database","class","puppet_enterprise::puppetdb::database_ini","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/shared_database_settings.pp","line":19,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppetdb","group":"pe-puppetdb","mode":"0640","require":"Package[pe-puppetdb]"}},{"type":"Pe_ini_setting","title":"[database]-puppetdb_psdatabase_username","tags":["pe_ini_setting","puppet_enterprise::puppetdb::shared_database_settings","puppet_enterprise","puppetdb","shared_database_settings","database","class","puppet_enterprise::puppetdb::database_ini","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/shared_database_settings.pp","line":35,"exported":false,"parameters":{"setting":"username","value":"pe-puppetdb","section":"database","path":"/etc/puppetlabs/puppetdb/conf.d/database.ini","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/database.ini]"}},{"type":"Pe_ini_setting","title":"[database]-puppetdb_subname","tags":["pe_ini_setting","puppet_enterprise::puppetdb::shared_database_settings","puppet_enterprise","puppetdb","shared_database_settings","database","class","puppet_enterprise::puppetdb::database_ini","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/shared_database_settings.pp","line":49,"exported":false,"parameters":{"setting":"subname","value":"//pe-xl-db-0.puppet.vm:5432/pe-puppetdb?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.cert.pem","section":"database","path":"/etc/puppetlabs/puppetdb/conf.d/database.ini","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/database.ini]"}},{"type":"Pe_ini_setting","title":"[database]-maximum-pool-size","tags":["pe_ini_setting","puppet_enterprise::puppetdb::shared_database_settings","puppet_enterprise","puppetdb","shared_database_settings","database","class","puppet_enterprise::puppetdb::database_ini","database_ini","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/shared_database_settings.pp","line":55,"exported":false,"parameters":{"setting":"maximum-pool-size","value":25,"section":"database","path":"/etc/puppetlabs/puppetdb/conf.d/database.ini","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/database.ini]"}},{"type":"File","title":"/etc/puppetlabs/puppetdb/conf.d/read_database.ini","tags":["file","puppet_enterprise::puppetdb::shared_database_settings","puppet_enterprise","puppetdb","shared_database_settings","read-database","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/shared_database_settings.pp","line":19,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppetdb","group":"pe-puppetdb","mode":"0640","require":"Package[pe-puppetdb]"}},{"type":"Pe_ini_setting","title":"[read-database]-puppetdb_psdatabase_username","tags":["pe_ini_setting","puppet_enterprise::puppetdb::shared_database_settings","puppet_enterprise","puppetdb","shared_database_settings","read-database","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/shared_database_settings.pp","line":35,"exported":false,"parameters":{"setting":"username","value":"pe-puppetdb","section":"read-database","path":"/etc/puppetlabs/puppetdb/conf.d/read_database.ini","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/read_database.ini]"}},{"type":"Pe_ini_setting","title":"[read-database]-puppetdb_subname","tags":["pe_ini_setting","puppet_enterprise::puppetdb::shared_database_settings","puppet_enterprise","puppetdb","shared_database_settings","read-database","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/shared_database_settings.pp","line":49,"exported":false,"parameters":{"setting":"subname","value":"//pe-xl-db-0.puppet.vm:5432/pe-puppetdb?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.cert.pem","section":"read-database","path":"/etc/puppetlabs/puppetdb/conf.d/read_database.ini","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/read_database.ini]"}},{"type":"Pe_ini_setting","title":"[read-database]-maximum-pool-size","tags":["pe_ini_setting","puppet_enterprise::puppetdb::shared_database_settings","puppet_enterprise","puppetdb","shared_database_settings","read-database","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/puppetdb/shared_database_settings.pp","line":55,"exported":false,"parameters":{"setting":"maximum-pool-size","value":25,"section":"read-database","path":"/etc/puppetlabs/puppetdb/conf.d/read_database.ini","ensure":"present","require":"File[/etc/puppetlabs/puppetdb/conf.d/read_database.ini]"}},{"type":"Service","title":"pe-puppetdb","tags":["service","pe-puppetdb","puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","puppetdb","class","puppet_enterprise::puppetdb::service","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pe_service.pp","line":10,"exported":false,"parameters":{"ensure":"running","enable":true,"hasrestart":true,"restart":"service pe-puppetdb reload","require":"Package[pe-puppetdb]","subscribe":["Class[Puppet_enterprise::Puppetdb::Rbac_consumer_conf]","Class[Puppet_enterprise::Puppetdb::Database_ini]","Class[Puppet_enterprise::Puppetdb::Jetty_ini]","Class[Puppet_enterprise::Puppetdb::Config_ini]","Puppet_enterprise::Puppetdb::Shared_database_settings[read-database]"]}},{"type":"Exec","title":"pe-puppetdb service full restart","tags":["exec","puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","puppetdb","class","puppet_enterprise::puppetdb::service","service","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pe_service.pp","line":20,"exported":false,"parameters":{"command":"service pe-puppetdb restart","timeout":0,"path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","refreshonly":true,"before":"Service[pe-puppetdb]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetdb_'Xmx'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":35,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xmx","value":"768m","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetdb_'Xms'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":35,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xms","value":"256m","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetdb_'XX:+PrintGCDetails'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+PrintGCDetails","value":"","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetdb_'XX:+PrintGCDateStamps'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+PrintGCDateStamps","value":"","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetdb_'Xloggc:'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xloggc:","value":"/var/log/puppetlabs/puppetdb/puppetdb_gc.log","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetdb_'XX:+UseGCLogFileRotation'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+UseGCLogFileRotation","value":"","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetdb_'XX:NumberOfGCLogFiles='","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:NumberOfGCLogFiles=","value":"16","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-puppetdb_'XX:GCLogFileSize='","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:GCLogFileSize=","value":"64m","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_setting","title":"puppetdb initconf java_bin","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":26,"exported":false,"parameters":{"setting":"JAVA_BIN","value":"\"/opt/puppetlabs/server/bin/java\"","ensure":"present","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_setting","title":"puppetdb initconf user","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":31,"exported":false,"parameters":{"setting":"USER","value":"pe-puppetdb","ensure":"present","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_setting","title":"puppetdb initconf group","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":36,"exported":false,"parameters":{"setting":"GROUP","value":"pe-puppetdb","ensure":"present","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_setting","title":"puppetdb initconf install_dir","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":41,"exported":false,"parameters":{"setting":"INSTALL_DIR","value":"\"/opt/puppetlabs/server/apps/puppetdb\"","ensure":"present","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_setting","title":"puppetdb initconf config","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":46,"exported":false,"parameters":{"setting":"CONFIG","value":"\"/etc/puppetlabs/puppetdb/conf.d\"","ensure":"present","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_setting","title":"puppetdb initconf bootstrap_config","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":51,"exported":false,"parameters":{"setting":"BOOTSTRAP_CONFIG","value":"\"/etc/puppetlabs/puppetdb/bootstrap.cfg\"","ensure":"present","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_setting","title":"puppetdb initconf service_stop_retries","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":56,"exported":false,"parameters":{"setting":"SERVICE_STOP_RETRIES","value":60,"ensure":"present","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_setting","title":"puppetdb initconf start_timeout","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":61,"exported":false,"parameters":{"setting":"START_TIMEOUT","value":14400,"ensure":"present","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"Pe_ini_setting","title":"puppetdb initconf jruby_jar","tags":["pe_ini_setting","puppet_enterprise::trapperkeeper::init_defaults","puppet_enterprise","trapperkeeper","init_defaults","puppetdb","class","puppet_enterprise::puppetdb","puppet_enterprise::profile::puppetdb","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/init_defaults.pp","line":71,"exported":false,"parameters":{"ensure":"absent","setting":"JRUBY_JAR","value":"\"\"","path":"/etc/sysconfig/pe-puppetdb","key_val_separator":"=","section":"","require":"Package[pe-puppetdb]","notify":"Exec[pe-puppetdb service full restart]"}},{"type":"File","title":"/etc/puppetlabs/puppetdb/ssl","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","pe-puppetdb","class","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":37,"exported":false,"parameters":{"ensure":"directory","mode":"0600","owner":"pe-puppetdb","group":"pe-puppetdb","before":["Exec[pe-puppetdb service full restart]"],"require":"Package[pe-puppetdb]","notify":"Service[pe-puppetdb]"}},{"type":"File","title":"/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.cert.pem","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","pe-puppetdb","class","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":68,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","mode":"0400","owner":"pe-puppetdb","group":"pe-puppetdb","before":["Exec[pe-puppetdb service full restart]"],"require":"Package[pe-puppetdb]","notify":"Service[pe-puppetdb]"}},{"type":"File","title":"/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pem","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","pe-puppetdb","class","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":73,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","show_diff":false,"mode":"0400","owner":"pe-puppetdb","group":"pe-puppetdb","before":["Exec[pe-puppetdb service full restart]"],"require":"Package[pe-puppetdb]","notify":"Service[pe-puppetdb]"}},{"type":"Puppet_enterprise::Certs::Pk8_cert","title":"/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8","tags":["puppet_enterprise::certs::pk8_cert","puppet_enterprise","certs","pk8_cert","puppet_enterprise::certs","pe-puppetdb","class","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":81,"exported":false,"parameters":{"pem_file":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","owner":"pe-puppetdb","group":"pe-puppetdb","mode":"0400","container":"puppetdb","require":"File[/etc/puppetlabs/puppetdb/ssl]","pk8_file":"/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8"}},{"type":"Pe_file_line","title":"/etc/puppetlabs/puppetdb/certificate-whitelist:pe-xl-core-0.puppet.vm","tags":["pe_file_line","puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::certs::puppetdb_whitelist","puppetdb_whitelist","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/whitelist_entry.pp","line":32,"exported":false,"parameters":{"path":"/etc/puppetlabs/puppetdb/certificate-whitelist","line":"pe-xl-core-0.puppet.vm"}},{"type":"Pe_file_line","title":"/etc/puppetlabs/puppetdb/certificate-whitelist:pe-xl-compiler-0.puppet.vm","tags":["pe_file_line","puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::certs::puppetdb_whitelist","puppetdb_whitelist","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/whitelist_entry.pp","line":32,"exported":false,"parameters":{"path":"/etc/puppetlabs/puppetdb/certificate-whitelist","line":"pe-xl-compiler-0.puppet.vm"}},{"type":"Pe_file_line","title":"/etc/puppetlabs/puppetdb/certificate-whitelist:pe-xl-core-1.puppet.vm","tags":["pe_file_line","puppet_enterprise::certs::whitelist_entry","puppet_enterprise","certs","whitelist_entry","class","puppet_enterprise::certs::puppetdb_whitelist","puppetdb_whitelist","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/whitelist_entry.pp","line":32,"exported":false,"parameters":{"path":"/etc/puppetlabs/puppetdb/certificate-whitelist","line":"pe-xl-core-1.puppet.vm"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64.repo","tags":["file","pe_repo::el","pe_repo","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/el.pp","line":20,"exported":false,"parameters":{"content":"[pe_repo]\nname=Puppet Labs PE Packages \\$releasever - \\$basearch\nbaseurl=https://pe-xl-core-0.puppet.vm:8140/packages/2019.1.1/el-7-x86_64\nenabled=1\ngpgcheck=1\nsslverify=False\nproxy=$PROXY\ngpgkey=https://pe-xl-core-0.puppet.vm:8140/packages/GPG-KEY-puppet-2025-04-06\n       https://pe-xl-core-0.puppet.vm:8140/packages/GPG-KEY-puppet\n","ensure":"file","mode":"0644","owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64.bash","tags":["file","pe_repo::el","pe_repo","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/el.pp","line":24,"exported":false,"parameters":{"content":"#!/bin/bash -e\n\n#! /bin/bash\n\nPUPPET_CONF_DIR=\"/etc/puppetlabs/puppet\"\nPUPPET_BIN_DIR=\"/opt/puppetlabs/bin\"\nPUPPET_INTERNAL_BIN_DIR=\"/opt/puppetlabs/puppet/bin\"\nDEFAULT_CA_CERT=\"/etc/puppetlabs/puppet/ssl/certs/ca.pem\"\n\n# Create global variables to track the desired state of the puppet service.\n# Default state will be running and enabled unless changed in the\n# custom_puppet_configuration function. These variables are used in the\n# manage_puppet_agent function after installation.\nPUPPET_SERVICE_ENSURE='running'\nPUPPET_SERVICE_ENABLE='true'\nPUPPET_SERVICE_DEBUG=''\n\nfail() { echo >&2 \"$@\"; exit 1; }\ncmd()  { hash \"$1\" >&/dev/null; } # portable 'which'\n\nif [ -z \"${CLEANUP[*]+x}\" ]; then\n  declare -a CLEANUP\n  CLEANUP=()\nfi\n\ncleanup() {\n for cmd in \"${CLEANUP[@]}\"\n do\n   $cmd\n done\n}\n\ntrap cleanup EXIT\n\ncleanup_add_cmd() {\n  CLEANUP=(\"${CLEANUP[@]-}\" \"$1\")\n}\n\ntrace() {\n  ${FRICTIONLESS_TRACE:-false}\n}\n\npuppet_installed() {\n  if [ -x \"${PUPPET_BIN_DIR?}/puppet\" ]; then\n    return 0\n  else\n    return 1\n  fi\n}\n\npxp_present() {\n    if [ -x \"${PUPPET_INTERNAL_BIN_DIR}/pxp-agent\" ]; then\n        return 0\n    else\n        return 1\n    fi\n}\n\n# Echo back either the AIO puppet bin dir path, or PE 3.x pe-agent\n# puppet bin dir.\npuppet_bin_dir() {\n    if [ -e \"${PUPPET_BIN_DIR?}\" ]; then\n        t_puppet_bin_dir=\"${PUPPET_BIN_DIR?}\"\n    else\n        t_puppet_bin_dir=/opt/puppet/bin\n    fi\n    echo \"${t_puppet_bin_dir?}\"\n}\n\nmktempfile() {\n  if cmd mktemp; then\n    if [ \"osx\" = \"${PLATFORM_NAME}\" ]; then\n      mktemp -t installer\n    else\n      mktemp\n    fi\n  else\n    echo \"/tmp/puppet-enterprise-installer.XXX-${RANDOM}\"\n  fi\n}\n\ncustom_puppet_configuration() {\n  # Parse optional pre-installation configuration of Puppet settings via\n  # command-line arguments. Arguments should be one of the valid flags,\n  # or else a section/setting/value directive.\n  #\n  # Valid Flags:\n  #\n  # --puppet-service-ensure <value>\n  # --puppet-service-enable <value>\n  #\n  # Section / Setting / Value directives:\n  #\n  #   <section>:<setting>=<value>\n  #\n  # There are four valid section settings in puppet.conf: \"main\", \"master\",\n  # \"agent\", \"user\". If you provide valid setting and value for one of these\n  # four sections, it will end up in <confdir>/puppet.conf.\n  #\n  # There are two sections in csr_attributes.yaml: \"custom_attributes\" and\n  # \"extension_requests\". If you provide valid setting and value for one\n  # of these two sections, it will end up in <confdir>/csr_attributes.yaml.\n  #\n  # note:Custom Attributes are only present in the CSR, while Extension\n  # Requests are both in the CSR and included as X509 extensions in the\n  # signed certificate (and are thus available as \"trusted facts\" in Puppet).\n  #\n  # Regex is authoritative for valid sections, settings, and values.  Any\n  # non-flag input that fails regex will trigger this script to fail with error\n  # message.\n  regex='^(main|master|agent|user|custom_attributes|extension_requests):([^=]+)=(.*)$'\n  declare -a attr_array\n  declare -a extn_array\n\n  while (( \"$#\" )); do\n    if [[ $1 == '--puppet-service-ensure' ]]; then\n      shift; PUPPET_SERVICE_ENSURE=\"$1\"\n    elif [[ $1 == '--puppet-service-enable' ]]; then\n      shift; PUPPET_SERVICE_ENABLE=\"$1\"\n    elif [[ $1 == '--puppet-service-debug' ]]; then\n      PUPPET_SERVICE_DEBUG='--debug'\n    elif [[ $1 =~ $regex ]]; then\n      section=${BASH_REMATCH[1]}\n      setting=${BASH_REMATCH[2]}\n      value=${BASH_REMATCH[3]}\n      case $section in\n        custom_attributes)\n          # Store the entry in attr_array for later addition to csr_attributes.yaml\n          attr_array=(\"${attr_array[@]}\" \"${setting}: '${value}'\")\n          ;;\n        extension_requests)\n          # Store the entry in extn_array for later addition to csr_attributes.yaml\n          extn_array=(\"${extn_array[@]}\" \"${setting}: '${value}'\")\n          ;;\n        *)\n          # Set the specified entry in puppet.conf\n          \"${PUPPET_BIN_DIR?}/puppet\" config set \"$setting\" \"$value\" --section \"$section\"\n      esac\n    else\n      fail \"Unable to interpret argument: '${1}'. Expected flag or '<section>:<setting>=<value>' matching regex: '${regex}'\"\n    fi\n\n    shift\n  done\n\n  # If the the length of the attr_array or extn_array is greater than zero, it\n  # means we have settings, so we'll create the csr_attributes.yaml file.\n  if [[ ${#attr_array[@]} -gt 0 || ${#extn_array[@]} -gt 0 ]]; then\n    mkdir -p \"${PUPPET_CONF_DIR}\"\n    echo '---' > \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n\n    if [[ ${#attr_array[@]} -gt 0 ]]; then\n      echo 'custom_attributes:' >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      for ((i = 0; i < ${#attr_array[@]}; i++)); do\n        echo \"  ${attr_array[i]}\" >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      done\n    fi\n\n    if [[ ${#extn_array[@]} -gt 0 ]]; then\n      echo 'extension_requests:' >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      for ((i = 0; i < ${#extn_array[@]}; i++)); do\n        echo \"  ${extn_array[i]}\" >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      done\n    fi\n  fi\n}\n\nensure_link() {\n  \"${PUPPET_BIN_DIR?}/puppet\" resource file \"${1?}\" ensure=link target=\"${2?}\"\n}\n\nensure_agent_links() {\n  target_path=\"/usr/local/bin\"\n\n  if mkdir -p \"${target_path}\" && [ -w \"${target_path}\" ]; then\n    for bin in facter puppet pe-man hiera; do\n      ensure_link \"${target_path}/${bin}\" \"${PUPPET_BIN_DIR?}/${bin}\"\n    done\n  else\n    echo \"!!! WARNING: ${target_path} is inaccessible; unable to create convenience symlinks for puppet, hiera, facter and pe-man.  These executables may be found in ${pe_path?}.\" 1>&2\n  fi\n}\n\n# Detected existing installation? Return y if true, else n\nis_upgrade() {\n  if puppet_installed; then\n    echo \"y\"\n  else\n    echo \"n\"\n  fi\n}\n\n# Sets server, certname and any custom puppet.conf flags passed in to the script\npuppet_config_set() {\n  \"${PUPPET_BIN_DIR?}/puppet\" config set server pe-xl-core-0.puppet.vm --section main\n  \"${PUPPET_BIN_DIR?}/puppet\" config set certname \"$(\"${PUPPET_BIN_DIR?}/facter\" fqdn | \"${PUPPET_INTERNAL_BIN_DIR?}/ruby\" -e 'puts STDIN.read.downcase')\" --section main\n  custom_puppet_configuration \"$@\"\n\n  # To ensure the new config settings take place and to work around differing OS behaviors on recieving a service start command while running\n  # (on nix it triggers a puppet run, on osx it does nothing), stop the service before attempting to manage anything else.\n  stop_puppet_agent\n}\n\nrestart_puppet_agent() {\n  \"${PUPPET_BIN_DIR?}/puppet\" resource service puppet ensure=stopped\n  \"${PUPPET_BIN_DIR?}/puppet\" resource service puppet ensure=running enable=true\n}\n\nstart_puppet_agent() {\n  \"${PUPPET_BIN_DIR?}/puppet\" resource service puppet ensure=running enable=true\n}\n\nstop_puppet_agent() {\n  \"$(puppet_bin_dir)/puppet\" resource service puppet ensure=stopped\n  wait_for_puppet_lock\n}\n\nmanage_puppet_agent() {\n  # If the state of the puppet service should be changed from its default of running and enabled,\n  # print a message that indicates we will be doing so.\n  if [[ $PUPPET_SERVICE_ENSURE != \"running\" ]] || [[ $PUPPET_SERVICE_ENABLE != \"true\" ]]; then\n    echo \"Setting the puppet service to ensure=$PUPPET_SERVICE_ENSURE and enable=$PUPPET_SERVICE_ENABLE\"\n  fi\n\n  \"$(puppet_bin_dir)/puppet\" resource ${PUPPET_SERVICE_DEBUG} service puppet ensure=\"$PUPPET_SERVICE_ENSURE\" enable=\"$PUPPET_SERVICE_ENABLE\"\n}\n\npxp_agent_status() {\n  output=$(\"$(puppet_bin_dir)/puppet\" resource service pxp-agent 2> /dev/null)\n  case ${output?} in\n    *ensure*=\\>*running*)\n      echo \"running\";;\n    *)\n      echo \"stopped\";;\n  esac\n}\n\nensure_service() {\n    pkg=${1?}\n    state=${2?}\n    \"$(puppet_bin_dir)/puppet\" resource service \"${pkg?}\" ensure=\"${state?}\"\n    return $?\n}\n\nwait_for_puppet_lock() {\n  t_puppet_run_lock=$(\"$(puppet_bin_dir)/puppet\" agent --configprint agent_catalog_run_lockfile)\n  while [ -f \"${t_puppet_run_lock?}\" ]; do\n      echo \"Waiting for Agent run lock ${t_puppet_run_lock?} to clear...\"\n      sleep 10\n  done\n}\n\nrequire_tlsv1() {\n  if [[ \"$PLATFORM_RELEASE\" == \"5\" && (\"$PLATFORM_NAME\" == \"rhel\" || \"$PLATFORM_NAME\" == \"centos\") ]]; then\n    return\n  elif [[ \"$PLATFORM_RELEASE\" == \"10\" && ($PLATFORM_NAME =~ solaris) ]]; then\n    return\n  fi\n  false\n}\n\n# Returns 0 if the script has been explicitly flagged to use a local Puppet CA\n# cert, or if we can find the Puppet master server's ca cert on disk at\n# /etc/puppetlabs/puppet/ssl/certs/ca.pem\nuse_puppet_master_ca_cert() {\n  [ \"${FRICTIONLESS_USE_PUPPET_CA:-false}\" = \"true\" ] || [ -f $DEFAULT_CA_CERT ]\n}\n\n# Use curl to download the requested url and store it in the given file.\n# Fallback to wget if curl is not present\n# Raise an error if neither is present.\n#\n# tlsv1 is enforced.\n#\n# If /etc/puppetlabs/puppet/ssl/certs/ca.pem is present, this certificate will\n# be used to verify the connection with the Puppet master server. Otherwise\n# validity of the server certificate will not be checked.\n#\n# Arguments:\n#   1. source_url to download (required)\n#   2. output_file to store it in locally.\n#      *If not given, streams to stdout.*\n#   3. additional_options to be expanded into the argument list\ncurl_or_wget() {\n  local t_source_url=${1?}\n  local t_output_file=$2\n  local t_additional_options=$3\n  local t_cmd\n  local t_ssl_options\n  local t_output_option\n\n  declare -a t_options\n\n  if cmd curl; then\n    t_cmd='curl'\n\n    if use_puppet_master_ca_cert; then\n      t_ssl_options=\"--cacert $DEFAULT_CA_CERT\"\n    elif curl_has_peer_verify_by_default; then\n      # we need to disable it\n      t_ssl_options=\"-k\"\n    else\n      # older curl on AIX doesn't support -k, but running without peer\n      # verification is the default behavior\n      t_ssl_options=\"--tlsv1\"\n    fi\n    if require_tlsv1; then\n      t_ssl_options+=\" --tlsv1\"\n    fi\n\n    if [ -n \"$t_output_file\" ]; then\n      t_output_option=\"-o ${t_output_file}\"\n    fi\n  elif cmd wget; then\n    # wget on AIX doesn't support SSL\n    [ \"$PLATFORM_NAME\" = \"aix\" ] && fail \"Unable to download installation materials without curl\"\n\n    t_cmd='wget'\n\n    if use_puppet_master_ca_cert; then\n      t_ssl_options=\"--ca-certificate=$DEFAULT_CA_CERT\"\n    else\n      t_ssl_options=\"--no-check-certificate\"\n    fi\n    if require_tlsv1; then\n      t_ssl_options+=\" --secure-protocol=TLSv1\"\n    fi\n\n    if [ -n \"$t_output_file\" ]; then\n      t_output_option=\"-O ${t_output_file}\"\n    else\n      # to stdout\n      t_output_option=\"-O -\"\n    fi\n  else\n    fail \"Couldn't find curl or wget; unable to continue.\"\n  fi\n\n  # options are intentionaly unquoted so that they break into elements in the\n  # options array\n  # shellcheck disable=SC2206\n  local t_options=($t_ssl_options $t_output_option $t_additional_options \"$t_source_url\" )\n\n  trace && echo >&2 \"+ $t_cmd\" \"${t_options[@]}\"\n  \"$t_cmd\" \"${t_options[@]}\"\n  local t_err_code=$?\n\n  if [ $t_err_code -ne 0 ]; then\n    echo >&2 \"E: '$t_cmd\" \"${t_options[@]}\" \"' failed (exit_code: $t_err_code)\"\n  fi\n\n  return $t_err_code\n}\n\n# Makes a curl_or_wget call with the appropriate flag to silence output\n# added in.\ncurl_or_wget_quietly() {\n  local t_additional_options=$3\n\n  if cmd curl; then\n    t_additional_options=\"${t_additional_options} -s\"\n  else\n    t_additional_options=\"${t_additional_options} --quiet\"\n  fi\n\n  curl_or_wget \"$1\" \"$2\" \"${t_additional_options?}\"\n}\n\n# In version 7.10.0 curl introduced the -k flag and performs peer\n# certificate validation by default. If peer validation is performed by\n# default the -k flag is necessary for this script to work. However, if curl\n# is older than 7.10.0 the -k flag does not exist.\n#\n# Return 0 if the -k flag should be used.\ncurl_has_peer_verify_by_default() {\n  curl_ver_regex='curl ([0-9]+)\\.([0-9]+)\\.([0-9]+)'\n  [[ \"$(curl -V 2>/dev/null)\" =~ $curl_ver_regex ]]\n  curl_majv=\"${BASH_REMATCH[1]-7}\"  # Default to 7  if no match\n  curl_minv=\"${BASH_REMATCH[2]-10}\" # Default to 10 if no match\n  if [[ \"$curl_majv\" -eq 7 && \"$curl_minv\" -le 9 ]] || [[ \"$curl_majv\" -lt 7 ]]; then\n    return 1\n  else\n    return 0\n  fi\n}\n\n# XXX Remove -- still used by aix template\ncurl_no_peer_verify() {\n  curl_ver_regex='curl ([0-9]+)\\.([0-9]+)\\.([0-9]+)'\n  [[ \"$(curl -V 2>/dev/null)\" =~ $curl_ver_regex ]]\n  curl_majv=\"${BASH_REMATCH[1]-7}\"  # Default to 7  if no match\n  curl_minv=\"${BASH_REMATCH[2]-10}\" # Default to 10 if no match\n  if [[ \"$curl_majv\" -eq 7 && \"$curl_minv\" -le 9 ]] || [[ \"$curl_majv\" -lt 7 ]]; then\n    curl_invocation=\"curl\"\n  else\n    curl_invocation=\"curl -k\"\n  fi\n\n  $curl_invocation \"$@\"\n}\n\n# Returns the http code returned by curl or wget attempting to reach the given url.\n# (The file itself is not downloaded)\n#\n# Arguments:\n#     1. t_url to touch (Required)\ncheck_http_code() {\n  local t_url=\"${1?}\"\n\n  if cmd curl; then\n    t_http_code=$(curl_or_wget \"${t_url?}\" /dev/null \"-s --head --write-out %{http_code}\")\n  elif cmd wget; then\n    # Run wget and use awk to figure out the HTTP status.\n    t_http_code=$(curl_or_wget \"${t_url?}\" /dev/null '-S' 2>&1 | awk '/HTTP\\/1.1/ { printf $2 }')\n  fi\n  echo \"$t_http_code\"\n}\n\n# Uses curl, or if not present, wget to download file from passed http url to a\n# temporary location.\n#\n# Arguments\n# 1. The url to download\n# 2. The file to save it as\n#\n# Returns 0 for 200 http exit code, 1 for all other http exit codes\n#\n# May exit early if the underlying command fails.\ndownload_from_url() {\n    local t_url=\"${1?}\"\n    local t_file=\"${2?}\"\n\n    if cmd curl; then\n        t_http_code=\"$(curl_or_wget_quietly \"${t_url?}\" \"${t_file?}\" \"-L --write-out %{http_code}\")\"\n    elif cmd wget; then\n        # Run wget and use awk to figure out the HTTP status.\n        # (Note that this unfortunately has the side effect of swallowing trace\n        # of the wget command issued in curl_or_wget(), since wget sends http\n        # info to stderr as well)\n        t_http_code=$(curl_or_wget_quietly \"${t_url?}\" \"${t_file?}\" '-S' 2>&1 | awk '/HTTP\\/1.1/ { printf $2 }')\n    fi\n\n    local t_err_code=$?\n    if [ $t_err_code -ne 0 ]; then\n        fail \"Error code ${t_err_code} attempting to reach ${t_url}\"\n    fi\n\n    if [ \"${t_http_code?}\" == \"200\" ]; then\n        return 0\n    else\n        return 1\n    fi\n}\n\nsupported_platform() {\n  # Because of differences between how regex works between bash versions this\n  # regex MUST be in a variable and passed into the test below UNQUOTED.\n  t_supported_platform_regex='(el-(5|6|7|8)-(i386|x86_64|s390x|ppc64le|aarch64))|(redhatfips-7-x86_64)|(debian-(8|9)-(i386|amd64))|(ubuntu-(14\\.04|16\\.04)-(i386|amd64|ppc64el))|(ubuntu-18\\.04-amd64)|(sles-(11|12|15)-(i386|x86_64|s390x|ppc64le))|(fedora-(26|27|28|29|30)-(x86_64))|(solaris-(10|11)-(i386|sparc))|(aix-(6\\.1|7\\.1)-power)|(osx-10\\.(12|13|14)-x86_64)'\n  [[ \"${1?}\" =~ ${t_supported_platform_regex:?} ]]\n}\n\nbulk_pluginsync() {\n  t_bulk_pluginsync_url=\"${1?}\"\n  t_bulk_pluginsync_file=$(mktempfile)\n\n  echo \"bulk downloading plugins\"\n  download_from_url \"${t_bulk_pluginsync_url?}\" \"${t_bulk_pluginsync_file?}\"\n\n  echo \"extracting plugins\"\n  mkdir -p /opt/puppetlabs/puppet/cache\n  cd /opt/puppetlabs/puppet/cache || exit\n  gunzip -c \"${t_bulk_pluginsync_file}\" | tar -xf -\n}\n\nrun_agent_install_from_url() {\n    t_agent_install_url=\"${1?}\"\n\n    t_install_file=$(mktempfile)\n\n    cleanup_add_cmd 'rm '\"${t_install_file}\"\n\n    if ! download_from_url \"${t_agent_install_url?}\" \"${t_install_file?}\"; then\n        if supported_platform \"${PLATFORM_TAG?}\"; then\n            fail \"The agent packages needed to support ${PLATFORM_TAG} are not present on your master. \\\n    To add them, apply the pe_repo::platform::$(echo \"${PLATFORM_TAG?}\" | tr - _ | tr -dc '[a-z][A-Z][0-9]_') class to your master node and then run Puppet. \\\n    The required agent packages should be retrieved when puppet runs on the master, after which you can run the install.bash script again.\"\n        else\n            fail \"This method of agent installation is not supported for ${PLATFORM_TAG?} in Puppet Enterprise v2019.1.1\"\n        fi\n    fi\n\n    bash \"${t_install_file?}\" \"${@: 2}\" || fail \"Error running install script ${t_install_file?}\"\n}\n\n# vim: ft=sh\n\n\ninstall_agent() {\n  doing_upgrade=$(is_upgrade)\n\n  PUPPET_HTTP_PROXY_HOST=''\n  PUPPET_HTTP_PROXY_PORT=3128\n\n  regex='(main|master|agent|user|custom_attributes|extension_requests):http_proxy_host=(\\S*)'\n\n  if [[ $* =~ $regex ]]; then\n    PUPPET_HTTP_PROXY_HOST=${BASH_REMATCH[2]}\n  fi\n\n  regex='(main|master|agent|user|custom_attributes|extension_requests):http_proxy_port=(\\S*)'\n\n  if [[ $* =~ $regex ]]; then\n    PUPPET_HTTP_PROXY_PORT=${BASH_REMATCH[2]}\n  fi\n\n  if [ -n \"${PUPPET_HTTP_PROXY_HOST}\" ]; then\n    PROXY=\"http://${PUPPET_HTTP_PROXY_HOST}:${PUPPET_HTTP_PROXY_PORT}\"\n  else\n    DNF_MAJOR_VERSION=`dnf --version 2> /dev/null | cut -d. -f1 | head -n 1`\n    if [ -z \"$DNF_MAJOR_VERSION\" ] || [ \"$DNF_MAJOR_VERSION\" -lt 3 ] ; then\n      PROXY=\"_none_\"\n    else\n      PROXY=\"None\"\n    fi\n  fi\n\n  cat <<REPO > /etc/yum.repos.d/pe_repo.repo\n[pe_repo]\nname=Puppet Labs PE Packages \\$releasever - \\$basearch\nbaseurl=https://pe-xl-core-0.puppet.vm:8140/packages/2019.1.1/el-7-x86_64\nenabled=1\ngpgcheck=1\nsslverify=False\nproxy=$PROXY\ngpgkey=https://pe-xl-core-0.puppet.vm:8140/packages/GPG-KEY-puppet-2025-04-06\n       https://pe-xl-core-0.puppet.vm:8140/packages/GPG-KEY-puppet\n\nREPO\n\n  if [ y = \"${doing_upgrade}\" ]; then\n    pxp_status=$(pxp_agent_status)\n    ensure_service pxp-agent stopped\n  fi\n\n  yum clean all --disablerepo=\"*\" --enablerepo=pe_repo\n\n  # PE-13928 Use update if already installed\n  set -x\n  if yum list installed puppet-agent; then\n    yum update -y puppet-agent-6.4.3\n  else\n    yum install -y puppet-agent-6.4.3\n  fi\n  set +x\n\n  if [ ! y = \"${doing_upgrade}\" ]; then\n    puppet_config_set \"$@\"\n    manage_puppet_agent\n  else\n    ensure_service pxp-agent \"${pxp_status}\"\n  fi\n\n  ensure_agent_links\n}\n\nremove_repo_file() {\n  rm -f '/etc/yum.repos.d/pe_repo.repo'\n}\n\ntrap remove_repo_file EXIT\n\ninstall_agent \"$@\"\n\n# vim: ft=sh\n","ensure":"file","mode":"0644","owner":"root","group":"root"}},{"type":"Pe_repo::Repo","title":"el-7-x86_64 2019.1.1","tags":["pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/el.pp","line":29,"exported":false,"parameters":{"agent_version":"6.4.3","installer_build":"el-7-x86_64","pe_version":"2019.1.1","tarball_creates":"repodata","tarball_strip":"5","postgres_version":"9.6"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3","tags":["file","pe_repo::windows","pe_repo","windows","windows-x86_64","class","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/windows.pp","line":38,"exported":false,"parameters":{"ensure":"directory","mode":"755","owner":"root","group":"root"}},{"type":"Pe_staging::File","title":"puppet-agent-x64.msi","tags":["pe_staging::file","pe_staging","file","puppet-agent-x64.msi","pe_repo::windows","pe_repo","windows","windows-x86_64","class","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/windows.pp","line":47,"exported":false,"parameters":{"source":"https://pm.puppetlabs.com/puppet-agent/2019.1.1/6.4.3/repos/windows/puppet-agent-x64.msi","target":"/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/puppet-agent-x64.msi","require":["File[/opt/puppetlabs/server/data/packages/public]","File[/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3]"],"curl_option":"","subdir":"pe_repo"}},{"type":"Puppet_enterprise::Set_owner_group_permissions","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3","tags":["puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","pe_repo::windows","pe_repo","windows","windows-x86_64","class","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/windows.pp","line":55,"exported":false,"parameters":{"file_mode":"0644","dir_mode":"0755","owner":"root","group":"root","target_type":"directory","target":"/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64","tags":["file","pe_repo::windows","pe_repo","windows","windows-x86_64","class","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/windows.pp","line":65,"exported":false,"parameters":{"ensure":"link","target":"/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3","mode":"0644","owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/install.ps1","tags":["file","pe_repo::windows","pe_repo","windows","windows-x86_64","class","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/windows.pp","line":72,"exported":false,"parameters":{"content":"# install.ps1 : This powershell script installs the puppet-agent package from a Puppet Enterprise master\n# you could call this script like this:\n# install.ps1 [-UsePuppetCA] main:certname=foo custom_attributes:challengePassword=SECRET extension_requests:pp_role=webserver\n#\n# By default, the script will start and enable the puppet agent service after installation.\n# To change that behavior, set the PuppetServiceEnsure and/or PuppetServiceEnable parameters.\n#  Example:  install.ps1 -PuppetServiceEnsure stopped -PuppetServiceEnable false\n#\n# This script supports passing in a limited set of MSI properties as script parameters.\n[CmdletBinding()]\n\nParam(\n  [Switch]$UsePuppetCA,\n  [String]$InstallDir,\n  [String]$PuppetAgentAccountUser,\n  [String]$PuppetAgentAccountPassword,\n  [String]$PuppetAgentAccountDomain,\n  [ValidateSet(\"running\",\"stopped\")] [String] $PuppetServiceEnsure = \"running\",\n  [ValidateSet(\"true\",\"false\",\"manual\")] [String] $PuppetServiceEnable = \"true\",\n  [Parameter(Position = 0, ValueFromRemainingArguments = $true)]\n  [String[]]\n  # This value would be $null when no parameters are passed in; however, a PS2 bug causes foreach to iterate once\n  # over $null, which is undesirable. Setting the default to an empty array gets around that PS2 bug.\n  $arguments = @()\n)\n# If an error is encountered, the script will stop instead of the default of \"Continue\"\n$ErrorActionPreference = \"Stop\"\n\n$server          = 'pe-xl-core-0.puppet.vm'\n$port            = '8140'\n$pe_version      = '2019.1.1'\n$puppet_bin_dir  = Join-Path ([Environment]::GetFolderPath('ProgramFiles')) 'Puppet Labs\\Puppet\\bin'\n$puppet_conf_dir = Join-Path ([Environment]::GetFolderPath('CommonApplicationData')) 'Puppetlabs\\puppet\\etc'\n$date_time_stamp = (Get-Date -format s) -replace ':', '-'\n$install_log     = Join-Path ([System.IO.Path]::GetTempPath()) \"$date_time_stamp-puppet-install.log\"\n$cert_path       = Join-Path $puppet_conf_dir 'ssl\\certs\\ca.pem'\n\n# Start with assumption of 64 bit agent package unless probe detects 32 bit.\n$arch       = 'x64'\n$msi_path   = 'windows-x86_64'\nif ((Get-WmiObject Win32_OperatingSystem).OSArchitecture -match '^32') {\n  $arch     = 'x86'\n  $msi_path = 'windows-i386'\n}\n$msi_source    = \"https://${server}:$port/packages/$pe_version/$msi_path/puppet-agent-$arch.msi\"\n$msi_dest      = Join-Path ([System.IO.Path]::GetTempPath()) \"puppet-agent-$arch.msi\"\n$class_arch    = $msi_path -replace '-', '_'\n$pe_repo_class = \"pe_repo::platform::$class_arch\"\n\nfunction GetMSIProperties {\n  # Search for any MSI properties to use, and construct and return a string to pass to the msiexec command.\n\n  $MSIProps = $null\n\n  if ($InstallDir) {\n    Write-Verbose \"Using MSI property INSTALL_DIR: ${InstallDir}\"\n    $MSIProps += \"INSTALL_DIR=${InstallDir} \"\n  }\n\n  if ($PuppetAgentAccountUser) {\n    Write-Verbose \"Using MSI property PUPPET_AGENT_ACCOUNT_USER: ${PuppetAgentAccountUser}\"\n    $MSIProps += \"PUPPET_AGENT_ACCOUNT_USER=${PuppetAgentAccountUser} \"\n  }\n\n  if ($PuppetAgentAccountPassword) {\n    Write-Verbose \"Using MSI property PUPPET_AGENT_ACCOUNT_PASSWORD: [REDACTED]\"\n    $MSIProps += \"PUPPET_AGENT_ACCOUNT_PASSWORD=${PuppetAgentAccountPassword} \"\n  }\n\n  if ($PuppetAgentAccountDomain) {\n    Write-Verbose \"Using MSI property PUPPET_AGENT_ACCOUNT_DOMAIN: ${PUPPET_AGENT_ACCOUNT_DOMAIN}\"\n    $MSIProps += \"PUPPET_AGENT_ACCOUNT_DOMAIN=${PuppetAgentAccountDomain} \"\n  }\n\n  # Set MSI properties that are required by this pe_repo simplified installer.\n  # These are explicitly not exposed to the user to reduce the chance of having duplicated settings.\n  # PUPPET_MASTER_SERVER should be controlled by the pe_repo class's 'server' parameter.\n  # PUPPET_AGENT_STARTUP_MODE needs to be Manual so pe_repo can better control the first Puppet run.\n  $MSIProps += \"PUPPET_MASTER_SERVER=${server} \"\n  $MSIProps += \"PUPPET_AGENT_STARTUP_MODE=Manual \"\n\n  $MSIProps\n}\n\nfunction CustomPuppetConfiguration {\n  # Parse optional pre-installation configuration of Puppet settings via\n  # command-line arguments. Arguments should be of the form\n  #\n  #   <section>:<setting>=<value>\n  #\n  # There are four valid section settings in puppet.conf: \"main\", \"master\",\n  # \"agent\", \"user\". If you provide valid setting and value for one of these\n  # four sections, it will end up in <confdir>/puppet.conf.\n  #\n  # There are two sections in csr_attributes.yaml: \"custom_attributes\" and\n  # \"extension_requests\". If you provide valid setting and value for one\n  # of these two sections, it will end up in <confdir>/csr_attributes.yaml.\n  #\n  # note:Custom Attributes are only present in the CSR, while Extension\n  # Requests are both in the CSR and included as X509 extensions in the\n  # signed certificate (and are thus available as \"trusted facts\" in Puppet).\n  #\n  # Regex is authoritative for valid sections, settings, and values.  Any input\n  # that fails regex will trigger this script to fail with error message.\n  $regex = '^(main|master|agent|user|custom_attributes|extension_requests):(.+?)=(.*)$'\n  $attr_array = @()\n  $extn_array = @()\n  $match = $null\n\n  foreach ($entry in $arguments) {\n    if (! ($match = [regex]::Match($entry,$regex)).Success) {\n      Throw \"Unable to interpret argument: '$entry'. Expected '<section>:<setting>=<value>' matching regex: '$regex'\"\n    }\n    else {\n      $section = $match.groups[1].value\n      $setting = $match.groups[2].value\n      $value   = $match.groups[3].value\n      switch ($section) {\n        'custom_attributes' {\n          # Store the entry in attr_array for later addition to csr_attributes.yaml\n          $attr_array += \"${setting}: '${value}'\"\n          break\n        }\n        'extension_requests' {\n          # Store the entry in extn_array for later addition to csr_attributes.yaml\n          $extn_array += \"${setting}: '${value}'\"\n          break\n        }\n        default {\n          # Set the specified entry in puppet.conf\n          Write-Verbose \"Setting Puppet config option: ${section}:${setting}=${value}\"\n          & $puppet_bin_dir\\puppet config set $setting $value --section $section\n          break\n        }\n      }\n    }\n  }\n  # If the the length of the attr_array or extn_array is greater than zero, it\n  # means we have settings, so we'll create the csr_attributes.yaml file.\n  if ($attr_array.length -gt 0 -or $extn_array.length -gt 0) {\n    Write-Verbose \"Creating ${puppet_conf_dir}\\csr_attributes.yaml file\"\n    echo('---') | out-file -filepath $puppet_conf_dir\\csr_attributes.yaml -encoding UTF8\n\n    if ($attr_array.length -gt 0) {\n      echo('custom_attributes:') | out-file -filepath $puppet_conf_dir\\csr_attributes.yaml -append -encoding UTF8\n      for ($i = 0; $i -lt $attr_array.length; $i++) {\n        Write-Verbose \"Setting custom_attribute: $($attr_array[$i])\"\n        echo('  ' + $attr_array[$i]) | out-file -filepath $puppet_conf_dir\\csr_attributes.yaml -append -encoding UTF8\n      }\n    }\n\n    if ($extn_array.length -gt 0) {\n      echo('extension_requests:') | out-file -filepath $puppet_conf_dir\\csr_attributes.yaml -append -encoding UTF8\n      for ($i = 0; $i -lt $extn_array.length; $i++) {\n        Write-Verbose \"Setting extenstion_requests: $($extn_array[$i])\"\n        echo('  ' + $extn_array[$i]) | out-file -filepath $puppet_conf_dir\\csr_attributes.yaml -append -encoding UTF8\n      }\n    }\n  }\n}\n\n$callback = {\n  param(\n      $sender,\n      [System.Security.Cryptography.X509Certificates.X509Certificate]$certificate,\n      [System.Security.Cryptography.X509Certificates.X509Chain]$chain,\n      [System.Net.Security.SslPolicyErrors]$sslPolicyErrors\n  )\n\n  $CertificateType = [System.Security.Cryptography.X509Certificates.X509Certificate2]\n\n  # Read the CA cert from file\n  $CACert = $CertificateType::CreateFromCertFile($cert_path) -as $CertificateType\n\n  # Add cert to collection of certificates that is searched by\n  # the chaining engine when validating the certificate chain.\n  $chain.ChainPolicy.ExtraStore.Add($CACert) | Out-Null\n\n  # Compare the cert on disk to the cert from the server\n  $chain.Build($certificate) | Out-Null\n\n  # If the first status is UntrustedRoot, then it's a self signed cert\n  # Anything else in this position means it failed for another reason\n  return $chain.ChainStatus[0].Status -eq [System.Security.Cryptography.X509Certificates.X509ChainStatusFlags]::UntrustedRoot\n}\n\nfunction DownloadPuppet {\n  Write-Verbose \"Downloading the Puppet Agent for Puppet Enterprise on $env:COMPUTERNAME...\"\n\n  # If TLS1.2 is not available, use old versions\n  $tls1  = [Net.SecurityProtocolType]::Tls\n  $tls11 = [Net.SecurityProtocolType]::Tls11\n  $tls12 = [Net.SecurityProtocolType]::Tls12\n  [System.Net.ServicePointManager]::SecurityProtocol = $tls1 -bor $tls11 -bor $tls12\n\n  # Pass in a function to validate the cert. {$true} means validate any cert.\n  if ($UsePuppetCA -And (!(Test-Path $cert_path))) {\n    Throw \"UsePuppetCA was requested but no CA certificate found at $cert_path\"\n  } elseif ($UsePuppetCA -Or (Test-Path $cert_path)) {\n    Write-Verbose \"Using found Puppet CA certificate to validate the Puppet Agent download: $cert_path\"\n    [System.Net.ServicePointManager]::ServerCertificateValidationCallback = $callback\n  } else {\n    [System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\n  }\n\n  # Create the webclient object with the desired callback defined above.\n  $webclient = New-Object system.net.webclient\n\n  try {\n    $webclient.DownloadFile($msi_source,$msi_dest)\n  }\n  catch [System.Net.WebException] {\n    # If we can't find the msi, then we may not be configured correctly\n    if($_.Exception.Response.StatusCode -eq [system.net.httpstatuscode]::NotFound) {\n        Throw \"Failed to download the Puppet Agent installer: $msi_source. Does the Puppet Master have the $pe_repo_class class applied to it?\"\n    }\n\n    # Throw all other WebExceptions in case the cert did not validate properly\n    Throw $_\n  }\n}\n\nfunction InstallPuppet {\n  $MSIProperties = GetMSIProperties\n  $msiexec_args = \"/qn /log $install_log /i $msi_dest $MSIProperties\"\n  Write-Output \"Saving the install log to $install_log\"\n  Write-Output \"Installing the Puppet Agent on $env:COMPUTERNAME...\"\n  $msiexec_proc = [System.Diagnostics.Process]::Start('msiexec', $msiexec_args)\n  $msiexec_proc.WaitForExit()\n  if (@(0, 1641, 3010) -NotContains $msiexec_proc.ExitCode) {\n    Throw \"Something went wrong with the installation on $env:COMPUTERNAME. Exit code: \" + $msiexec_proc.ExitCode + \". Check the install log at $install_log\"\n  }\n  # The default behavior of the MSI is to not put the certname in puppet.conf.\n  # But it's desirable to have certname in there to make troubleshooting and maintenance easier. So, let's put it there.\n  $certname = & $puppet_bin_dir\\puppet config print certname --section main\n  & $puppet_bin_dir\\puppet config set certname $certname --section main\n}\n\nfunction ManagePuppetService {\n  Write-Verbose \"Setting the Puppet Agent service to ensure=$PuppetServiceEnsure and enable=$PuppetServiceEnable\"\n  & $puppet_bin_dir\\puppet resource service puppet ensure=$PuppetServiceEnsure enable=$PuppetServiceEnable\n}\n\nDownloadPuppet\nInstallPuppet\nCustomPuppetConfiguration\nManagePuppetService\nWrite-Output \"Installation has completed.\"\n","ensure":"file","mode":"0644","owner":"root","group":"root"}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs certificate status","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet-ca/v1/certificate_status/","type":"path","query-params":{},"method":["get","put","delete"]},"allow":["pe-xl-core-0.puppet.vm","pe-xl-core-0.puppet.vm",{"extensions":{":pp_cli_auth":"true"}}],"name":"puppetlabs certificate status","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-puppetlabs certificate statuses","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","class","puppet_enterprise::profile::certificate_authority","puppet_enterprise","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","value":{"match-request":{"path":"/puppet-ca/v1/certificate_statuses/","type":"path","query-params":{},"method":"get"},"allow":["pe-xl-core-0.puppet.vm","pe-xl-core-0.puppet.vm",{"extensions":{":pp_cli_auth":"true"}}],"name":"puppetlabs certificate statuses","sort-order":500}}},{"type":"Augeas","title":"fileserver.conf remove pe_modules","tags":["augeas","puppet_enterprise::fileserver_conf","puppet_enterprise","fileserver_conf","pe_modules","class","puppet_enterprise::profile::certificate_authority","profile","certificate_authority"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/fileserver_conf.pp","line":30,"exported":false,"parameters":{"changes":["rm /files/etc/puppetlabs/puppet/fileserver.conf/pe_modules"],"incl":"/etc/puppetlabs/puppet/fileserver.conf","load_path":"/opt/puppetlabs/puppet/share/augeas/lenses/dist","lens":"PuppetFileserver.lns"}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","tags":["file","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":42,"exported":false,"parameters":{"ensure":"present","owner":"pe-orchestration-services","group":"pe-orchestration-services","mode":"0640"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.master-url","tags":["pe_hocon_setting","orchestration-services.orchestrator.master-url","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":53,"exported":false,"parameters":{"setting":"orchestrator.master-url","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"https://pe-xl-core-0.puppet.vm:8140","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.puppetdb-url","tags":["pe_hocon_setting","orchestration-services.orchestrator.puppetdb-url","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":59,"exported":false,"parameters":{"setting":"orchestrator.puppetdb-url","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"https://pe-xl-core-0.puppet.vm:8081","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.classifier-service","tags":["pe_hocon_setting","orchestration-services.orchestrator.classifier-service","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":65,"exported":false,"parameters":{"setting":"orchestrator.classifier-service","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"https://pe-xl-core-0.puppet.vm:4433/classifier-api","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.console-services-url","tags":["pe_hocon_setting","orchestration-services.orchestrator.console-services-url","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":71,"exported":false,"parameters":{"setting":"orchestrator.console-services-url","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"https://pe-xl-core-0.puppet.vm:4433","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.inventory-service-url","tags":["pe_hocon_setting","orchestration-services.orchestrator.inventory-service-url","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":77,"exported":false,"parameters":{"setting":"orchestrator.inventory-service-url","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"https://pe-xl-core-0.puppet.vm:8143/inventory","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.bolt-server-url","tags":["pe_hocon_setting","orchestration-services.orchestrator.bolt-server-url","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":83,"exported":false,"parameters":{"setting":"orchestrator.bolt-server-url","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"https://pe-xl-core-0.puppet.vm:62658","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.bolt-server-conn-timeout","tags":["pe_hocon_setting","orchestration-services.orchestrator.bolt-server-conn-timeout","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":89,"exported":false,"parameters":{"setting":"orchestrator.bolt-server-conn-timeout","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":10000,"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.bolt-server-max-connections","tags":["pe_hocon_setting","orchestration-services.orchestrator.bolt-server-max-connections","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":95,"exported":false,"parameters":{"setting":"orchestrator.bolt-server-max-connections","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":100,"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.plan-executor-url","tags":["pe_hocon_setting","orchestration-services.orchestrator.plan-executor-url","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":101,"exported":false,"parameters":{"setting":"orchestrator.plan-executor-url","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"https://pe-xl-core-0.puppet.vm:62659","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.plan-executor-conn-timeout","tags":["pe_hocon_setting","orchestration-services.orchestrator.plan-executor-conn-timeout","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":107,"exported":false,"parameters":{"setting":"orchestrator.plan-executor-conn-timeout","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":10000,"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.plan-executor-workers","tags":["pe_hocon_setting","orchestration-services.orchestrator.plan-executor-workers","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":113,"exported":false,"parameters":{"setting":"orchestrator.plan-executor-workers","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":1,"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.ace-server-url","tags":["pe_hocon_setting","orchestration-services.orchestrator.ace-server-url","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":119,"exported":false,"parameters":{"setting":"orchestrator.ace-server-url","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"https://pe-xl-core-0.puppet.vm:44633","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.ace-server-conn-timeout","tags":["pe_hocon_setting","orchestration-services.orchestrator.ace-server-conn-timeout","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":125,"exported":false,"parameters":{"setting":"orchestrator.ace-server-conn-timeout","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":10000,"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.ace-server-max-connections","tags":["pe_hocon_setting","orchestration-services.orchestrator.ace-server-max-connections","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":131,"exported":false,"parameters":{"setting":"orchestrator.ace-server-max-connections","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":10,"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.rbac-consumer.api-url","tags":["pe_hocon_setting","orchestration-services.rbac-consumer.api-url","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":137,"exported":false,"parameters":{"setting":"rbac-consumer.api-url","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"https://pe-xl-core-0.puppet.vm:4433/rbac-api","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.activity-consumer.api-url","tags":["pe_hocon_setting","orchestration-services.activity-consumer.api-url","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":143,"exported":false,"parameters":{"setting":"activity-consumer.api-url","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"https://pe-xl-core-0.puppet.vm:4433/activity-api","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.pcp-broker-url","tags":["pe_hocon_setting","orchestration-services.orchestrator.pcp-broker-url","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":150,"exported":false,"parameters":{"setting":"orchestrator.pcp-broker-url","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.console-url","tags":["pe_hocon_setting","orchestration-services.orchestrator.console-url","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":156,"exported":false,"parameters":{"setting":"orchestrator.console-url","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"https://pe-xl-core-0.puppet.vm","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.ssl-ca-cert","tags":["pe_hocon_setting","orchestration-services.orchestrator.ssl-ca-cert","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":162,"exported":false,"parameters":{"setting":"orchestrator.ssl-ca-cert","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.ssl-cert","tags":["pe_hocon_setting","orchestration-services.orchestrator.ssl-cert","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":168,"exported":false,"parameters":{"setting":"orchestrator.ssl-cert","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.ssl-key","tags":["pe_hocon_setting","orchestration-services.orchestrator.ssl-key","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":174,"exported":false,"parameters":{"setting":"orchestrator.ssl-key","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.pcp-timeout","tags":["pe_hocon_setting","orchestration-services.orchestrator.pcp-timeout","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":207,"exported":false,"parameters":{"setting":"orchestrator.pcp-timeout","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.global-concurrent-compiles","tags":["pe_hocon_setting","orchestration-services.orchestrator.global-concurrent-compiles","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":214,"exported":false,"parameters":{"setting":"orchestrator.global-concurrent-compiles","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.task-concurrency","tags":["pe_hocon_setting","orchestration-services.orchestrator.task-concurrency","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":221,"exported":false,"parameters":{"setting":"orchestrator.task-concurrency","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.job-prune-days-threshold","tags":["pe_hocon_setting","orchestration-services.orchestrator.job-prune-days-threshold","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":228,"exported":false,"parameters":{"setting":"orchestrator.job-prune-days-threshold","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.app-management","tags":["pe_hocon_setting","orchestration-services.orchestrator.app-management","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":235,"exported":false,"parameters":{"setting":"orchestrator.app-management","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.database.subname","tags":["pe_hocon_setting","orchestration-services.orchestrator.database.subname","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":242,"exported":false,"parameters":{"setting":"orchestrator.database.subname","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"//pe-xl-core-0.puppet.vm:5432/pe-orchestrator?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.database.user","tags":["pe_hocon_setting","orchestration-services.orchestrator.database.user","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":248,"exported":false,"parameters":{"setting":"orchestrator.database.user","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"pe-orchestrator-write","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.orchestrator.database.migration-user","tags":["pe_hocon_setting","orchestration-services.orchestrator.database.migration-user","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":253,"exported":false,"parameters":{"setting":"orchestrator.database.migration-user","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf","value":"pe-orchestrator","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_puppet_authorization::Rule","title":"dispatch: allow pcp-brokers","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":273,"exported":false,"parameters":{"path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","match_request_type":"path","match_request_path":"/server","allow":["pe-xl-core-0.puppet.vm","pe-xl-compiler-0.puppet.vm"],"sort_order":500,"ensure":"present","rule_name":"dispatch: allow pcp-brokers","allow_unauthenticated":false,"match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"orchestrator simple status endpoint","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":286,"exported":false,"parameters":{"path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","match_request_type":"path","match_request_method":"get","match_request_path":"/status/v1/simple","allow_unauthenticated":true,"sort_order":500,"ensure":"present","rule_name":"orchestrator simple status endpoint","match_request_query_params":{}}},{"type":"Pe_puppet_authorization::Rule","title":"orchestrator status service","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":295,"exported":false,"parameters":{"path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","match_request_type":"path","match_request_method":"get","match_request_path":"/status/v1/services","allow_unauthenticated":true,"sort_order":500,"ensure":"present","rule_name":"orchestrator status service","match_request_query_params":{}}},{"type":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings","title":"orchestration-services","tags":["puppet_enterprise::trapperkeeper::analytics_client_settings","puppet_enterprise","trapperkeeper","analytics_client_settings","orchestration-services","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":305,"exported":false,"parameters":{"container":"orchestration-services","owner":"pe-orchestration-services","analytics_port":8140,"analytics_host":"pe-xl-core-0.puppet.vm","group":"pe-orchestration-services"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:orchestrator orchestrator-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":314,"exported":false,"parameters":{"namespace":"puppetlabs.orchestrator.service","service":"orchestrator-service","container":"orchestration-services","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:orchestrator orchestrator-dispatch-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":319,"exported":false,"parameters":{"namespace":"puppetlabs.orchestrator.dispatch","service":"orchestrator-dispatch-service","container":"orchestration-services","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:orchestrator jetty9-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":324,"exported":false,"parameters":{"namespace":"puppetlabs.trapperkeeper.services.webserver.jetty9-service","service":"jetty9-service","container":"orchestration-services","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:orchestrator remote-rbac-consumer-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":329,"exported":false,"parameters":{"namespace":"puppetlabs.rbac-client.services.rbac","service":"remote-rbac-consumer-service","container":"orchestration-services","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:orchestrator remote-activity-reporter","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":334,"exported":false,"parameters":{"container":"orchestration-services","namespace":"puppetlabs.rbac-client.services.activity","service":"remote-activity-reporter","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:orchestrator jruby-pool-manager-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/orchestrator.pp","line":340,"exported":false,"parameters":{"namespace":"puppetlabs.services.jruby-pool-manager.jruby-pool-manager-service","service":"jruby-pool-manager-service","container":"orchestration-services","ensure":"present"}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/conf.d/pcp-broker.conf","tags":["file","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":12,"exported":false,"parameters":{"ensure":"present","owner":"pe-orchestration-services","group":"pe-orchestration-services","mode":"0640","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.pcp-broker.accept-consumers","tags":["pe_hocon_setting","orchestration-services.pcp-broker.accept-consumers","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":25,"exported":false,"parameters":{"setting":"pcp-broker.accept-consumers","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/pcp-broker.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.pcp-broker.delivery-consumers","tags":["pe_hocon_setting","orchestration-services.pcp-broker.delivery-consumers","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":31,"exported":false,"parameters":{"setting":"pcp-broker.delivery-consumers","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/pcp-broker.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.pcp-broker.controller-uris","tags":["pe_hocon_setting","orchestration-services.pcp-broker.controller-uris","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":37,"exported":false,"parameters":{"setting":"pcp-broker.controller-uris","path":"/etc/puppetlabs/orchestration-services/conf.d/pcp-broker.conf","type":"array","value":["wss://pe-xl-core-0.puppet.vm:8143/server"],"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.pcp-broker.controller-whitelist","tags":["pe_hocon_setting","orchestration-services.pcp-broker.controller-whitelist","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":44,"exported":false,"parameters":{"setting":"pcp-broker.controller-whitelist","path":"/etc/puppetlabs/orchestration-services/conf.d/pcp-broker.conf","type":"array","value":["http://puppetlabs.com/inventory_request","http://puppetlabs.com/rpc_blocking_request","http://puppetlabs.com/rpc_non_blocking_request"],"ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_puppet_authorization::Rule","title":"pxp commands","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":61,"exported":false,"parameters":{"match_request_type":"path","match_request_query_params":{"message_type":["http://puppetlabs.com/rpc_non_blocking_request","http://puppetlabs.com/rpc_blocking_request"]},"allow":["pe-xl-core-0.puppet.vm","pe-xl-core-0.puppet.vm"],"sort_order":400,"path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","match_request_path":"/pcp-broker/send","notify":"Service[pe-orchestration-services]","ensure":"present","rule_name":"pxp commands","allow_unauthenticated":false}},{"type":"Pe_puppet_authorization::Rule","title":"inventory request","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":77,"exported":false,"parameters":{"match_request_type":"path","match_request_query_params":{"message_type":["http://puppetlabs.com/inventory_request"]},"allow":["pe-xl-core-0.puppet.vm","pe-xl-core-0.puppet.vm"],"sort_order":400,"path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","match_request_path":"/pcp-broker/send","notify":"Service[pe-orchestration-services]","ensure":"present","rule_name":"inventory request","allow_unauthenticated":false}},{"type":"Pe_puppet_authorization::Rule","title":"multi-cast with destination_report","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":93,"exported":false,"parameters":{"match_request_type":"path","match_request_query_params":{"targets":["pcp://*/agent","pcp://*/*"],"destination_report":"true"},"allow":[],"sort_order":399,"path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","match_request_path":"/pcp-broker/send","notify":"Service[pe-orchestration-services]","ensure":"present","rule_name":"multi-cast with destination_report","allow_unauthenticated":false}},{"type":"Pe_puppet_authorization::Rule","title":"pcp-broker message","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":107,"exported":false,"parameters":{"match_request_type":"path","match_request_query_params":{"message_type":["http://puppetlabs.com/associate_request","http://puppetlabs.com/rpc_provisional_response","http://puppetlabs.com/rpc_blocking_response","http://puppetlabs.com/rpc_non_blocking_response","http://puppetlabs.com/rpc_error_message"]},"allow":"*","sort_order":420,"path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","match_request_path":"/pcp-broker/send","notify":"Service[pe-orchestration-services]","ensure":"present","rule_name":"pcp-broker message","allow_unauthenticated":false}},{"type":"Pe_puppet_authorization::Rule","title":"pcp messages","tags":["pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":123,"exported":false,"parameters":{"ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","match_request_path":"/pcp-broker/send","notify":"Service[pe-orchestration-services]","rule_name":"pcp messages","allow_unauthenticated":false,"match_request_query_params":{},"sort_order":200}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:pcp-broker broker-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::pcp_broker","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":131,"exported":false,"parameters":{"namespace":"puppetlabs.pcp.broker.service","service":"broker-service","container":"orchestration-services","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:pcp-broker authorization-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::pcp_broker","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":136,"exported":false,"parameters":{"namespace":"puppetlabs.trapperkeeper.services.authorization.authorization-service","service":"authorization-service","container":"orchestration-services","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:pcp-broker jetty9-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::pcp_broker","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":141,"exported":false,"parameters":{"namespace":"puppetlabs.trapperkeeper.services.webserver.jetty9-service","service":"jetty9-service","container":"orchestration-services","ensure":"present"}},{"type":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg","title":"orchestration-services:pcp-broker webrouting-service","tags":["puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::pcp_broker","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pcp_broker.pp","line":146,"exported":false,"parameters":{"namespace":"puppetlabs.trapperkeeper.services.webrouting.webrouting-service","service":"webrouting-service","container":"orchestration-services","ensure":"present"}},{"type":"Pe_concat","title":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","tags":["pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::trapperkeeper::inventory","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":22,"exported":false,"parameters":{"notify":"Exec[pe-orchestration-services service full restart]","ensure":"present","path":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","mode":"0644","warn":false,"force":false,"backup":"puppet","replace":true,"order":"alpha","ensure_newline":false}},{"type":"Pe_concat::Fragment","title":"orchestration-services inventory-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::trapperkeeper::inventory","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.inventory.service/inventory-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services webrouting-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.webrouting.webrouting-service/webrouting-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services metrics-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services metrics-webservice","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-webservice\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services scheduler-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.scheduler.scheduler-service/scheduler-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services status-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.status.status-service/status-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/conf.d/global.conf","tags":["file","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":17,"exported":false,"parameters":{"ensure":"file","mode":"0640","owner":"pe-orchestration-services","group":"pe-orchestration-services"}},{"type":"Pe_hocon_setting","title":"orchestration-services.global.logging-config","tags":["pe_hocon_setting","orchestration-services.global.logging-config","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":30,"exported":false,"parameters":{"setting":"global.logging-config","value":"/etc/puppetlabs/orchestration-services/logback.xml","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/global.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.global.certs.ssl-ca-cert","tags":["pe_hocon_setting","orchestration-services.global.certs.ssl-ca-cert","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":40,"exported":false,"parameters":{"setting":"global.certs.ssl-ca-cert","ensure":"present","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","path":"/etc/puppetlabs/orchestration-services/conf.d/global.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.global.certs.ssl-cert","tags":["pe_hocon_setting","orchestration-services.global.certs.ssl-cert","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":51,"exported":false,"parameters":{"setting":"global.certs.ssl-cert","ensure":"present","value":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","path":"/etc/puppetlabs/orchestration-services/conf.d/global.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.global.certs.ssl-key","tags":["pe_hocon_setting","orchestration-services.global.certs.ssl-key","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":62,"exported":false,"parameters":{"setting":"global.certs.ssl-key","ensure":"present","value":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pem","path":"/etc/puppetlabs/orchestration-services/conf.d/global.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.global.hostname","tags":["pe_hocon_setting","orchestration-services.global.hostname","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":73,"exported":false,"parameters":{"setting":"global.hostname","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/global.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.global.version-path","tags":["pe_hocon_setting","orchestration-services.global.version-path","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":84,"exported":false,"parameters":{"setting":"global.version-path","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/global.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.global.login-path","tags":["pe_hocon_setting","orchestration-services.global.login-path","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":95,"exported":false,"parameters":{"setting":"global.login-path","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/global.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.global.replication-mode","tags":["pe_hocon_setting","orchestration-services.global.replication-mode","puppet_enterprise::trapperkeeper::global_settings","puppet_enterprise","trapperkeeper","global_settings","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/global_settings.pp","line":106,"exported":false,"parameters":{"setting":"global.replication-mode","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/global.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.client-auth","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.client-auth","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":29,"exported":false,"parameters":{"setting":"webserver.pcp-broker.client-auth","value":"want","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.ssl-host","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.ssl-host","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":34,"exported":false,"parameters":{"setting":"webserver.pcp-broker.ssl-host","value":"0.0.0.0","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.ssl-port","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.ssl-port","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":39,"exported":false,"parameters":{"setting":"webserver.pcp-broker.ssl-port","value":8142,"ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.ssl-ca-cert","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.ssl-ca-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":44,"exported":false,"parameters":{"setting":"webserver.pcp-broker.ssl-ca-cert","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.ssl-cert","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.ssl-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":49,"exported":false,"parameters":{"setting":"webserver.pcp-broker.ssl-cert","value":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.ssl-key","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.ssl-key","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":54,"exported":false,"parameters":{"setting":"webserver.pcp-broker.ssl-key","value":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.ssl-crl-path","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.ssl-crl-path","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":59,"exported":false,"parameters":{"setting":"webserver.pcp-broker.ssl-crl-path","value":"/etc/puppetlabs/puppet/ssl/crl.pem","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.access-log-config","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.access-log-config","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":69,"exported":false,"parameters":{"setting":"webserver.pcp-broker.access-log-config","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.max-threads","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.max-threads","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":80,"exported":false,"parameters":{"setting":"webserver.pcp-broker.max-threads","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.request-header-max-size","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.request-header-max-size","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":91,"exported":false,"parameters":{"setting":"webserver.pcp-broker.request-header-max-size","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.default-server","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.default-server","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":102,"exported":false,"parameters":{"setting":"webserver.pcp-broker.default-server","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.ssl-protocols","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.ssl-protocols","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":113,"exported":false,"parameters":{"setting":"webserver.pcp-broker.ssl-protocols","ensure":"present","type":"array","value":["TLSv1.2"],"path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.pcp-broker.cipher-suites","tags":["pe_hocon_setting","orchestration-services.webserver.pcp-broker.cipher-suites","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","pcp-broker","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":125,"exported":false,"parameters":{"setting":"webserver.pcp-broker.cipher-suites","ensure":"absent","type":"array","value":[],"path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.client-auth","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.client-auth","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":29,"exported":false,"parameters":{"setting":"webserver.orchestrator.client-auth","value":"want","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.ssl-host","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.ssl-host","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":34,"exported":false,"parameters":{"setting":"webserver.orchestrator.ssl-host","value":"0.0.0.0","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.ssl-port","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.ssl-port","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":39,"exported":false,"parameters":{"setting":"webserver.orchestrator.ssl-port","value":8143,"ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.ssl-ca-cert","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.ssl-ca-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":44,"exported":false,"parameters":{"setting":"webserver.orchestrator.ssl-ca-cert","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.ssl-cert","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.ssl-cert","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":49,"exported":false,"parameters":{"setting":"webserver.orchestrator.ssl-cert","value":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.ssl-key","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.ssl-key","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":54,"exported":false,"parameters":{"setting":"webserver.orchestrator.ssl-key","value":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.ssl-crl-path","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.ssl-crl-path","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":59,"exported":false,"parameters":{"setting":"webserver.orchestrator.ssl-crl-path","value":"/etc/puppetlabs/puppet/ssl/crl.pem","ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.access-log-config","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.access-log-config","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":69,"exported":false,"parameters":{"setting":"webserver.orchestrator.access-log-config","ensure":"present","value":"/etc/puppetlabs/orchestration-services/request-logging.xml","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.max-threads","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.max-threads","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":80,"exported":false,"parameters":{"setting":"webserver.orchestrator.max-threads","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.request-header-max-size","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.request-header-max-size","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":91,"exported":false,"parameters":{"setting":"webserver.orchestrator.request-header-max-size","ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.default-server","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.default-server","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":102,"exported":false,"parameters":{"setting":"webserver.orchestrator.default-server","ensure":"present","value":true,"path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.ssl-protocols","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.ssl-protocols","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":113,"exported":false,"parameters":{"setting":"webserver.orchestrator.ssl-protocols","ensure":"present","type":"array","value":["TLSv1.2"],"path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_hocon_setting","title":"orchestration-services.webserver.orchestrator.cipher-suites","tags":["pe_hocon_setting","orchestration-services.webserver.orchestrator.cipher-suites","puppet_enterprise::trapperkeeper::webserver_settings","puppet_enterprise","trapperkeeper","webserver_settings","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/webserver_settings.pp","line":125,"exported":false,"parameters":{"setting":"webserver.orchestrator.cipher-suites","ensure":"absent","type":"array","value":[],"path":"/etc/puppetlabs/orchestration-services/conf.d/webserver.conf","notify":"Service[pe-orchestration-services]"}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/ssl","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":37,"exported":false,"parameters":{"ensure":"directory","mode":"0600","owner":"pe-orchestration-services","group":"pe-orchestration-services","before":["Exec[pe-orchestration-services service full restart]"],"require":"Package[pe-orchestration-services]","notify":"Service[pe-orchestration-services]"}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":68,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","mode":"0400","owner":"pe-orchestration-services","group":"pe-orchestration-services","before":["Exec[pe-orchestration-services service full restart]"],"require":"Package[pe-orchestration-services]","notify":"Service[pe-orchestration-services]"}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pem","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":73,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","show_diff":false,"mode":"0400","owner":"pe-orchestration-services","group":"pe-orchestration-services","before":["Exec[pe-orchestration-services service full restart]"],"require":"Package[pe-orchestration-services]","notify":"Service[pe-orchestration-services]"}},{"type":"Puppet_enterprise::Certs::Pk8_cert","title":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8","tags":["puppet_enterprise::certs::pk8_cert","puppet_enterprise","certs","pk8_cert","puppet_enterprise::certs","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":81,"exported":false,"parameters":{"pem_file":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","owner":"pe-orchestration-services","group":"pe-orchestration-services","mode":"0400","container":"orchestration-services","require":"File[/etc/puppetlabs/orchestration-services/ssl]","pk8_file":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8"}},{"type":"Pe_ini_subsetting","title":"pe-orchestration-services_'Xmx'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":35,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xmx","value":"768m","path":"/etc/sysconfig/pe-orchestration-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-orchestration-services]","notify":"Exec[pe-orchestration-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-orchestration-services_'Xms'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":35,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xms","value":"256m","path":"/etc/sysconfig/pe-orchestration-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-orchestration-services]","notify":"Exec[pe-orchestration-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-orchestration-services_'XX:+PrintGCDetails'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+PrintGCDetails","value":"","path":"/etc/sysconfig/pe-orchestration-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-orchestration-services]","notify":"Exec[pe-orchestration-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-orchestration-services_'XX:+PrintGCDateStamps'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+PrintGCDateStamps","value":"","path":"/etc/sysconfig/pe-orchestration-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-orchestration-services]","notify":"Exec[pe-orchestration-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-orchestration-services_'Xloggc:'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-Xloggc:","value":"/var/log/puppetlabs/orchestration-services/orchestration-services_gc.log","path":"/etc/sysconfig/pe-orchestration-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-orchestration-services]","notify":"Exec[pe-orchestration-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-orchestration-services_'XX:+UseGCLogFileRotation'","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:+UseGCLogFileRotation","value":"","path":"/etc/sysconfig/pe-orchestration-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-orchestration-services]","notify":"Exec[pe-orchestration-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-orchestration-services_'XX:NumberOfGCLogFiles='","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:NumberOfGCLogFiles=","value":"16","path":"/etc/sysconfig/pe-orchestration-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-orchestration-services]","notify":"Exec[pe-orchestration-services service full restart]"}},{"type":"Pe_ini_subsetting","title":"pe-orchestration-services_'XX:GCLogFileSize='","tags":["pe_ini_subsetting","puppet_enterprise::trapperkeeper::java_args","puppet_enterprise","trapperkeeper","java_args","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/java_args.pp","line":49,"exported":false,"parameters":{"ensure":"present","subsetting":"-XX:GCLogFileSize=","value":"64m","path":"/etc/sysconfig/pe-orchestration-services","key_val_separator":"=","section":"","setting":"JAVA_ARGS","quote_char":"\"","require":"Package[pe-orchestration-services]","notify":"Exec[pe-orchestration-services service full restart]"}},{"type":"Service","title":"pe-orchestration-services","tags":["service","pe-orchestration-services","puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pe_service.pp","line":10,"exported":false,"parameters":{"ensure":"running","enable":true,"hasrestart":true,"restart":"service pe-orchestration-services reload","require":"Package[pe-orchestration-services]"}},{"type":"Exec","title":"pe-orchestration-services service full restart","tags":["exec","puppet_enterprise::trapperkeeper::pe_service","puppet_enterprise","trapperkeeper","pe_service","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/pe_service.pp","line":20,"exported":false,"parameters":{"command":"service pe-orchestration-services restart","timeout":0,"path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","refreshonly":true,"before":"Service[pe-orchestration-services]"}},{"type":"File","title":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","tags":["file","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":46,"exported":false,"parameters":{"ensure":"present","owner":"pe-bolt-server","group":"pe-bolt-server","mode":"0640","require":"Package[pe-bolt-server]"}},{"type":"Pe_hocon_setting","title":"bolt-server.host","tags":["pe_hocon_setting","bolt-server.host","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":61,"exported":false,"parameters":{"setting":"bolt-server.host","value":"0.0.0.0","ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Pe_hocon_setting","title":"bolt-server.port","tags":["pe_hocon_setting","bolt-server.port","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":66,"exported":false,"parameters":{"setting":"bolt-server.port","value":62658,"ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Pe_hocon_setting","title":"bolt-server.ssl-cert","tags":["pe_hocon_setting","bolt-server.ssl-cert","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":71,"exported":false,"parameters":{"setting":"bolt-server.ssl-cert","value":"/etc/puppetlabs/bolt-server/ssl/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Pe_hocon_setting","title":"bolt-server.ssl-key","tags":["pe_hocon_setting","bolt-server.ssl-key","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":76,"exported":false,"parameters":{"setting":"bolt-server.ssl-key","value":"/etc/puppetlabs/bolt-server/ssl/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Pe_hocon_setting","title":"bolt-server.ssl-ca-cert","tags":["pe_hocon_setting","bolt-server.ssl-ca-cert","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":81,"exported":false,"parameters":{"setting":"bolt-server.ssl-ca-cert","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Pe_hocon_setting","title":"bolt-server.loglevel","tags":["pe_hocon_setting","bolt-server.loglevel","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":86,"exported":false,"parameters":{"setting":"bolt-server.loglevel","value":"notice","ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Pe_hocon_setting","title":"bolt-server.logfile","tags":["pe_hocon_setting","bolt-server.logfile","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":91,"exported":false,"parameters":{"setting":"bolt-server.logfile","value":"/var/log/puppetlabs/bolt-server/bolt-server.log","ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Pe_hocon_setting","title":"bolt-server.whitelist","tags":["pe_hocon_setting","bolt-server.whitelist","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":96,"exported":false,"parameters":{"setting":"bolt-server.whitelist","type":"array","value":["pe-xl-core-0.puppet.vm"],"ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Pe_hocon_setting","title":"bolt-server.ssl_cipher_suites","tags":["pe_hocon_setting","bolt-server.ssl_cipher_suites","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":102,"exported":false,"parameters":{"setting":"bolt-server.ssl_cipher_suites","type":"array","value":["ECDHE-ECDSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305","ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES256-SHA384","ECDHE-ECDSA-AES128-SHA256","ECDHE-RSA-AES128-SHA256"],"ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Puppet_enterprise::Certs","title":"bolt-server","tags":["puppet_enterprise::certs","puppet_enterprise","certs","bolt-server","puppet_enterprise::orchestrator::ruby_service","orchestrator","ruby_service","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":108,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","cert_dir":"/etc/puppetlabs/bolt-server/ssl","container":"bolt-server","package_name":"pe-bolt-server","full_restart":[],"owner":"pe-bolt-server","group":"pe-bolt-server","ssl_dir":"/etc/puppetlabs/puppet/ssl","append_ca":false,"make_pk8_cert":false}},{"type":"Pe_hocon_setting","title":"bolt-server.concurrency","tags":["pe_hocon_setting","bolt-server.concurrency","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":119,"exported":false,"parameters":{"setting":"bolt-server.concurrency","value":100,"ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Pe_hocon_setting","title":"bolt-server.cache-dir","tags":["pe_hocon_setting","bolt-server.cache-dir","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":119,"exported":false,"parameters":{"setting":"bolt-server.cache-dir","value":"/opt/puppetlabs/server/data/bolt-server/cache","ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Pe_hocon_setting","title":"bolt-server.file-server-uri","tags":["pe_hocon_setting","bolt-server.file-server-uri","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":119,"exported":false,"parameters":{"setting":"bolt-server.file-server-uri","value":"https://pe-xl-core-0.puppet.vm:8140","ensure":"present","path":"/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf","notify":"Service[pe-bolt-server]","require":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"}},{"type":"Service","title":"pe-bolt-server","tags":["service","pe-bolt-server","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","bolt-server","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":126,"exported":false,"parameters":{"ensure":"running","enable":true}},{"type":"File","title":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","tags":["file","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":46,"exported":false,"parameters":{"ensure":"present","owner":"pe-ace-server","group":"pe-ace-server","mode":"0640","require":"Package[pe-ace-server]"}},{"type":"Pe_hocon_setting","title":"ace-server.host","tags":["pe_hocon_setting","ace-server.host","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":61,"exported":false,"parameters":{"setting":"ace-server.host","value":"0.0.0.0","ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Pe_hocon_setting","title":"ace-server.port","tags":["pe_hocon_setting","ace-server.port","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":66,"exported":false,"parameters":{"setting":"ace-server.port","value":44633,"ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Pe_hocon_setting","title":"ace-server.ssl-cert","tags":["pe_hocon_setting","ace-server.ssl-cert","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":71,"exported":false,"parameters":{"setting":"ace-server.ssl-cert","value":"/etc/puppetlabs/ace-server/ssl/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Pe_hocon_setting","title":"ace-server.ssl-key","tags":["pe_hocon_setting","ace-server.ssl-key","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":76,"exported":false,"parameters":{"setting":"ace-server.ssl-key","value":"/etc/puppetlabs/ace-server/ssl/pe-xl-core-0.puppet.vm.private_key.pem","ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Pe_hocon_setting","title":"ace-server.ssl-ca-cert","tags":["pe_hocon_setting","ace-server.ssl-ca-cert","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":81,"exported":false,"parameters":{"setting":"ace-server.ssl-ca-cert","value":"/etc/puppetlabs/puppet/ssl/certs/ca.pem","ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Pe_hocon_setting","title":"ace-server.loglevel","tags":["pe_hocon_setting","ace-server.loglevel","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":86,"exported":false,"parameters":{"setting":"ace-server.loglevel","value":"notice","ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Pe_hocon_setting","title":"ace-server.logfile","tags":["pe_hocon_setting","ace-server.logfile","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":91,"exported":false,"parameters":{"setting":"ace-server.logfile","value":"/var/log/puppetlabs/ace-server/ace-server.log","ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Pe_hocon_setting","title":"ace-server.whitelist","tags":["pe_hocon_setting","ace-server.whitelist","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":96,"exported":false,"parameters":{"setting":"ace-server.whitelist","type":"array","value":["pe-xl-core-0.puppet.vm"],"ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Pe_hocon_setting","title":"ace-server.ssl_cipher_suites","tags":["pe_hocon_setting","ace-server.ssl_cipher_suites","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":102,"exported":false,"parameters":{"setting":"ace-server.ssl_cipher_suites","type":"array","value":["ECDHE-ECDSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305","ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES256-SHA384","ECDHE-ECDSA-AES128-SHA256","ECDHE-RSA-AES128-SHA256"],"ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Puppet_enterprise::Certs","title":"ace-server","tags":["puppet_enterprise::certs","puppet_enterprise","certs","ace-server","puppet_enterprise::orchestrator::ruby_service","orchestrator","ruby_service","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":108,"exported":false,"parameters":{"certname":"pe-xl-core-0.puppet.vm","cert_dir":"/etc/puppetlabs/ace-server/ssl","container":"ace-server","package_name":"pe-ace-server","full_restart":[],"owner":"pe-ace-server","group":"pe-ace-server","ssl_dir":"/etc/puppetlabs/puppet/ssl","append_ca":false,"make_pk8_cert":false}},{"type":"Pe_hocon_setting","title":"ace-server.concurrency","tags":["pe_hocon_setting","ace-server.concurrency","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":119,"exported":false,"parameters":{"setting":"ace-server.concurrency","value":10,"ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Pe_hocon_setting","title":"ace-server.cache-dir","tags":["pe_hocon_setting","ace-server.cache-dir","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":119,"exported":false,"parameters":{"setting":"ace-server.cache-dir","value":"/opt/puppetlabs/server/data/ace-server/cache","ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Pe_hocon_setting","title":"ace-server.puppet-server-uri","tags":["pe_hocon_setting","ace-server.puppet-server-uri","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":119,"exported":false,"parameters":{"setting":"ace-server.puppet-server-uri","value":"https://puppet-xl.vm:8140","ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Pe_hocon_setting","title":"ace-server.ssl-ca-crls","tags":["pe_hocon_setting","ace-server.ssl-ca-crls","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":119,"exported":false,"parameters":{"setting":"ace-server.ssl-ca-crls","value":"/etc/puppetlabs/puppet/ssl/crl.pem","ensure":"present","path":"/etc/puppetlabs/ace-server/conf.d/ace-server.conf","notify":"Service[pe-ace-server]","require":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"}},{"type":"Service","title":"pe-ace-server","tags":["service","pe-ace-server","puppet_enterprise::orchestrator::ruby_service","puppet_enterprise","orchestrator","ruby_service","ace-server","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/orchestrator/ruby_service.pp","line":126,"exported":false,"parameters":{"ensure":"running","enable":true}},{"type":"Exec","title":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8","tags":["exec","puppet_enterprise::certs::pk8_cert","puppet_enterprise","certs","pk8_cert","puppet_enterprise::certs","pe-console-services::server_cert","pe-console-services","server_cert","class","puppet_enterprise::profile::console::certs","profile","console","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/pk8_cert.pp","line":22,"exported":false,"parameters":{"command":"openssl pkcs8 -topk8 -inform PEM -outform DER -in /etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem -out /opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8 -nocrypt","path":["/opt/puppetlabs/puppet/bin","/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin"],"onlyif":"test ! -e '/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8' -o '/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8' -ot '/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem'","notify":"Service[pe-console-services]"}},{"type":"File","title":"/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8","tags":["file","puppet_enterprise::certs::pk8_cert","puppet_enterprise","certs","pk8_cert","puppet_enterprise::certs","pe-console-services::server_cert","pe-console-services","server_cert","class","puppet_enterprise::profile::console::certs","profile","console","puppet_enterprise::profile::console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/pk8_cert.pp","line":32,"exported":false,"parameters":{"ensure":"present","owner":"pe-console-services","group":"pe-console-services","mode":"0400","before":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]","notify":"Service[pe-console-services]"}},{"type":"File","title":"/etc/puppetlabs/console-services/conf.d/activity-database.conf","tags":["file","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","activity","puppet_enterprise::trapperkeeper::activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":29,"exported":false,"parameters":{"ensure":"present","owner":"pe-console-services","group":"pe-console-services","mode":"0640","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.activity.database.subprotocol","tags":["pe_hocon_setting","console-services.activity.database.subprotocol","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","activity","puppet_enterprise::trapperkeeper::activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":36,"exported":false,"parameters":{"setting":"activity.database.subprotocol","value":"postgresql","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/activity-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.activity.database.subname","tags":["pe_hocon_setting","console-services.activity.database.subname","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","activity","puppet_enterprise::trapperkeeper::activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":40,"exported":false,"parameters":{"setting":"activity.database.subname","value":"//pe-xl-core-0.puppet.vm:5432/pe-activity?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/activity-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.activity.database.user","tags":["pe_hocon_setting","console-services.activity.database.user","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","activity","puppet_enterprise::trapperkeeper::activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":44,"exported":false,"parameters":{"setting":"activity.database.user","value":"pe-activity-write","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/activity-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.activity.database.migration-user","tags":["pe_hocon_setting","console-services.activity.database.migration-user","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","activity","puppet_enterprise::trapperkeeper::activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":49,"exported":false,"parameters":{"setting":"activity.database.migration-user","value":"pe-activity","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/activity-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.activity.database.maximum-pool-size","tags":["pe_hocon_setting","console-services.activity.database.maximum-pool-size","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","activity","puppet_enterprise::trapperkeeper::activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":65,"exported":false,"parameters":{"setting":"activity.database.maximum-pool-size","value":10,"ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/activity-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.activity.database.connection-timeout","tags":["pe_hocon_setting","console-services.activity.database.connection-timeout","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","activity","puppet_enterprise::trapperkeeper::activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":71,"exported":false,"parameters":{"setting":"activity.database.connection-timeout","value":60000,"ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/activity-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.activity.database.connection-check-timeout","tags":["pe_hocon_setting","console-services.activity.database.connection-check-timeout","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","activity","puppet_enterprise::trapperkeeper::activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":77,"exported":false,"parameters":{"setting":"activity.database.connection-check-timeout","value":5000,"ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/activity-database.conf"}},{"type":"Pe_concat","title":"/etc/puppetlabs/console-services/bootstrap.cfg","tags":["pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":22,"exported":false,"parameters":{"notify":"Exec[pe-console-services service full restart]","ensure":"present","path":"/etc/puppetlabs/console-services/bootstrap.cfg","mode":"0644","warn":false,"force":false,"backup":"puppet","replace":true,"order":"alpha","ensure_newline":false}},{"type":"Pe_concat::Fragment","title":"console-services activity-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.activity.services/activity-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services jetty9-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.webserver.jetty9-service/jetty9-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"File","title":"/etc/puppetlabs/console-services/conf.d/rbac-database.conf","tags":["file","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","rbac","puppet_enterprise::trapperkeeper::rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":29,"exported":false,"parameters":{"ensure":"present","owner":"pe-console-services","group":"pe-console-services","mode":"0640","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.database.subprotocol","tags":["pe_hocon_setting","console-services.rbac.database.subprotocol","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","rbac","puppet_enterprise::trapperkeeper::rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":36,"exported":false,"parameters":{"setting":"rbac.database.subprotocol","value":"postgresql","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/rbac-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.database.subname","tags":["pe_hocon_setting","console-services.rbac.database.subname","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","rbac","puppet_enterprise::trapperkeeper::rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":40,"exported":false,"parameters":{"setting":"rbac.database.subname","value":"//pe-xl-core-0.puppet.vm:5432/pe-rbac?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/rbac-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.database.user","tags":["pe_hocon_setting","console-services.rbac.database.user","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","rbac","puppet_enterprise::trapperkeeper::rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":44,"exported":false,"parameters":{"setting":"rbac.database.user","value":"pe-rbac-write","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/rbac-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.database.migration-user","tags":["pe_hocon_setting","console-services.rbac.database.migration-user","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","rbac","puppet_enterprise::trapperkeeper::rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":49,"exported":false,"parameters":{"setting":"rbac.database.migration-user","value":"pe-rbac","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/rbac-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.database.maximum-pool-size","tags":["pe_hocon_setting","console-services.rbac.database.maximum-pool-size","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","rbac","puppet_enterprise::trapperkeeper::rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":65,"exported":false,"parameters":{"setting":"rbac.database.maximum-pool-size","value":10,"ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/rbac-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.database.connection-timeout","tags":["pe_hocon_setting","console-services.rbac.database.connection-timeout","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","rbac","puppet_enterprise::trapperkeeper::rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":71,"exported":false,"parameters":{"setting":"rbac.database.connection-timeout","value":60000,"ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/rbac-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.rbac.database.connection-check-timeout","tags":["pe_hocon_setting","console-services.rbac.database.connection-check-timeout","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","rbac","puppet_enterprise::trapperkeeper::rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":77,"exported":false,"parameters":{"setting":"rbac.database.connection-check-timeout","value":5000,"ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/rbac-database.conf"}},{"type":"Pe_concat::Fragment","title":"console-services rbac-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.rbac.services.rbac/rbac-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services rbac-storage-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.rbac.services.storage.permissioned/rbac-storage-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services rbac-http-api-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.rbac.services.http.api/rbac-http-api-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services rbac-authn-middleware","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"absent","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.rbac.services.http.middleware/rbac-authn-middleware\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services activity-reporting-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.activity.services/activity-reporting-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services audit-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.rbac.services.audit/audit-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"File","title":"/etc/puppetlabs/console-services/conf.d/classifier-database.conf","tags":["file","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","classifier","puppet_enterprise::trapperkeeper::classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":29,"exported":false,"parameters":{"ensure":"present","owner":"pe-console-services","group":"pe-console-services","mode":"0640","notify":"Service[pe-console-services]"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.database.subprotocol","tags":["pe_hocon_setting","console-services.classifier.database.subprotocol","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","classifier","puppet_enterprise::trapperkeeper::classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":36,"exported":false,"parameters":{"setting":"classifier.database.subprotocol","value":"postgresql","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/classifier-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.database.subname","tags":["pe_hocon_setting","console-services.classifier.database.subname","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","classifier","puppet_enterprise::trapperkeeper::classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":40,"exported":false,"parameters":{"setting":"classifier.database.subname","value":"//pe-xl-core-0.puppet.vm:5432/pe-classifier?ssl=true&sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory&sslmode=verify-full&sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem&sslkey=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8&sslcert=/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/classifier-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.database.user","tags":["pe_hocon_setting","console-services.classifier.database.user","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","classifier","puppet_enterprise::trapperkeeper::classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":44,"exported":false,"parameters":{"setting":"classifier.database.user","value":"pe-classifier-write","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/classifier-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.database.migration-user","tags":["pe_hocon_setting","console-services.classifier.database.migration-user","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","classifier","puppet_enterprise::trapperkeeper::classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":49,"exported":false,"parameters":{"setting":"classifier.database.migration-user","value":"pe-classifier","ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/classifier-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.database.maximum-pool-size","tags":["pe_hocon_setting","console-services.classifier.database.maximum-pool-size","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","classifier","puppet_enterprise::trapperkeeper::classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":65,"exported":false,"parameters":{"setting":"classifier.database.maximum-pool-size","value":10,"ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/classifier-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.database.connection-timeout","tags":["pe_hocon_setting","console-services.classifier.database.connection-timeout","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","classifier","puppet_enterprise::trapperkeeper::classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":71,"exported":false,"parameters":{"setting":"classifier.database.connection-timeout","value":60000,"ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/classifier-database.conf"}},{"type":"Pe_hocon_setting","title":"console-services.classifier.database.connection-check-timeout","tags":["pe_hocon_setting","console-services.classifier.database.connection-check-timeout","puppet_enterprise::trapperkeeper::database_settings","puppet_enterprise","trapperkeeper","database_settings","classifier","puppet_enterprise::trapperkeeper::classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/database_settings.pp","line":77,"exported":false,"parameters":{"setting":"classifier.database.connection-check-timeout","value":5000,"ensure":"present","notify":"Service[pe-console-services]","path":"/etc/puppetlabs/console-services/conf.d/classifier-database.conf"}},{"type":"Pe_concat::Fragment","title":"console-services classifier-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::classifier","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.classifier.main/classifier-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"File","title":"/etc/puppetlabs/console-services/conf.d/analytics.conf","tags":["file","puppet_enterprise::trapperkeeper::analytics_client_settings","puppet_enterprise","trapperkeeper","analytics_client_settings","console-services","puppet_enterprise::trapperkeeper::console_services","console_services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics_client_settings.pp","line":10,"exported":false,"parameters":{"ensure":"present","owner":"pe-console-services","group":"pe-console-services","mode":"0640"}},{"type":"Pe_hocon_setting","title":"console-services.analytics.url","tags":["pe_hocon_setting","console-services.analytics.url","puppet_enterprise::trapperkeeper::analytics_client_settings","puppet_enterprise","trapperkeeper","analytics_client_settings","console-services","puppet_enterprise::trapperkeeper::console_services","console_services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics_client_settings.pp","line":17,"exported":false,"parameters":{"setting":"analytics.url","path":"/etc/puppetlabs/console-services/conf.d/analytics.conf","value":"https://pe-xl-core-0.puppet.vm:8140/analytics/v1","ensure":"present","notify":"Service[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services webrouting-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.webrouting.webrouting-service/webrouting-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services rbac-consumer-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.rbac.services.consumer/rbac-consumer-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services rbac-status-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.rbac.services.status/rbac-status-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services rbac-authn-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.rbac.services.authn/rbac-authn-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services rbac-authz-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.rbac.services.authz/rbac-authz-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services pe-console-ui-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.pe-console-ui.service/pe-console-ui-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services pe-console-auth-ui-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.pe-console-auth-ui.service/pe-console-auth-ui-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services status-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.status.status-service/status-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services scheduler-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.scheduler.scheduler-service/scheduler-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services metrics-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-service\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"Pe_concat::Fragment","title":"console-services metrics-webservice","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/console-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-webservice\n","order":"10","notify":"Exec[pe-console-services service full restart]","require":"Package[pe-console-services]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/001_pg_hba_rule_local access as pe-postgres user","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","class","puppet_enterprise::profile::database","puppet_enterprise","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: local access as pe-postgres user\n# Description: none\n# Order: 001\nlocal\tall\tpe-postgres\t\tpeer\t\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_local access as pe-postgres user","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to replication as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\treplication\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=replication-pe-ha-replication-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to replication as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\treplication\tpe-ha-replication\t::/0\tcert\tmap=replication-pe-ha-replication-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"replication-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","order":"10"}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/puppetdb","tags":["file","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":28,"exported":false,"parameters":{"ensure":"directory","owner":"pe-postgres","group":"pe-postgres","mode":"0700"}},{"type":"Pe_postgresql_psql","title":"Create tablespace 'pe-puppetdb'","tags":["pe_postgresql_psql","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":36,"exported":false,"parameters":{"command":"CREATE TABLESPACE \"pe-puppetdb\"  LOCATION '/opt/puppetlabs/server/data/postgresql/puppetdb'","unless":"SELECT spcname FROM pg_tablespace WHERE spcname='pe-puppetdb'","require":["Class[Pe_postgresql::Server]","File[/opt/puppetlabs/server/data/postgresql/puppetdb]"],"db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-puppetdb\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-puppetdb'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-puppetdb\" NOSUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-puppetdb' and rolsuper=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-puppetdb\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-puppetdb\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-puppetdb' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-puppetdb\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-puppetdb\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-puppetdb' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-puppetdb\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-puppetdb\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-puppetdb' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-puppetdb\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-puppetdb\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-puppetdb' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-puppetdb\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-puppetdb\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-puppetdb' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-puppetdb\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-puppetdb\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-puppetdb' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-puppetdb\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql::Server::Database","title":"pe-puppetdb","tags":["pe_postgresql::server::database","pe_postgresql","server","database","pe-puppetdb","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":19,"exported":false,"parameters":{"encoding":"UTF8","tablespace":"pe-puppetdb","template":"template0","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","istemplate":false,"owner":"pe-postgres","dbname":"pe-puppetdb","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-puppetdb\" TO \"pe-puppetdb\"]"]}},{"type":"Pe_postgresql::Server::Database_grant","title":"GRANT pe-puppetdb - ALL - pe-puppetdb","tags":["pe_postgresql::server::database_grant","pe_postgresql","server","database_grant","pe_postgresql::server::db","db","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":38,"exported":false,"parameters":{"privilege":"ALL","db":"pe-puppetdb","role":"pe-puppetdb"}},{"type":"Pe_postgresql_psql","title":"pe-puppetdb revoke public table create perms","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-puppetdb","command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false"}},{"type":"Pe_postgresql_psql","title":"grant table create to pe-puppetdb on pe-puppetdb","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-puppetdb","command":"GRANT CREATE ON SCHEMA public TO \"pe-puppetdb\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-puppetdb', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true"}},{"type":"Puppet_enterprise::Psql","title":"pe-puppetdb/pg_repack/create-or-drop-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')","require":"Pe_postgresql::Server::Db[pe-puppetdb]","db":"pe-puppetdb","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-puppetdb/pg_repack/update-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-puppetdb]","Puppet_enterprise::Psql[pe-puppetdb/pg_repack/create-or-drop-extension-pg_repack]"],"db":"pe-puppetdb","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-puppetdb/pg_trgm/create-or-drop-extension-pg_trgm","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pg_trgm\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_trgm')","require":"Pe_postgresql::Server::Db[pe-puppetdb]","db":"pe-puppetdb","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-puppetdb/pg_trgm/update-extension-pg_trgm","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pg_trgm\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_trgm' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-puppetdb]","Puppet_enterprise::Psql[pe-puppetdb/pg_trgm/create-or-drop-extension-pg_trgm]"],"db":"pe-puppetdb","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-puppetdb/pgcrypto/create-or-drop-extension-pgcrypto","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pgcrypto\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pgcrypto')","require":"Pe_postgresql::Server::Db[pe-puppetdb]","db":"pe-puppetdb","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-puppetdb/pgcrypto/update-extension-pgcrypto","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pgcrypto\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pgcrypto' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-puppetdb]","Puppet_enterprise::Psql[pe-puppetdb/pgcrypto/create-or-drop-extension-pgcrypto]"],"db":"pe-puppetdb","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-puppetdb-pe-puppetdb-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-puppetdb","description":"none","type":"hostssl","database":"pe-puppetdb","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-puppetdb-pe-puppetdb-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-puppetdb","description":"none","type":"hostssl","database":"pe-puppetdb","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-puppetdb","ident_map_key":"pe-puppetdb-pe-puppetdb-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-puppetdb","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-puppetdb","ident_map_key":"pe-puppetdb-pe-puppetdb-map","client_certname":"pe-xl-compiler-0.puppet.vm","user":"pe-puppetdb","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-puppetdb","ident_map_key":"pe-puppetdb-pe-puppetdb-map","client_certname":"pe-xl-core-1.puppet.vm","user":"pe-puppetdb","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/classifier","tags":["file","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":28,"exported":false,"parameters":{"ensure":"directory","owner":"pe-postgres","group":"pe-postgres","mode":"0700"}},{"type":"Pe_postgresql_psql","title":"Create tablespace 'pe-classifier'","tags":["pe_postgresql_psql","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":36,"exported":false,"parameters":{"command":"CREATE TABLESPACE \"pe-classifier\"  LOCATION '/opt/puppetlabs/server/data/postgresql/classifier'","unless":"SELECT spcname FROM pg_tablespace WHERE spcname='pe-classifier'","require":["Class[Pe_postgresql::Server]","File[/opt/puppetlabs/server/data/postgresql/classifier]"],"db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-classifier\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier\" SUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier' and rolsuper=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql::Server::Database","title":"pe-classifier","tags":["pe_postgresql::server::database","pe_postgresql","server","database","pe-classifier","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":19,"exported":false,"parameters":{"encoding":"UTF8","tablespace":"pe-classifier","template":"template0","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","istemplate":false,"owner":"pe-postgres","dbname":"pe-classifier","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-classifier\" TO \"pe-classifier\"]"]}},{"type":"Pe_postgresql::Server::Database_grant","title":"GRANT pe-classifier - ALL - pe-classifier","tags":["pe_postgresql::server::database_grant","pe_postgresql","server","database_grant","pe_postgresql::server::db","db","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":38,"exported":false,"parameters":{"privilege":"ALL","db":"pe-classifier","role":"pe-classifier"}},{"type":"Pe_postgresql_psql","title":"pe-classifier revoke public table create perms","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false"}},{"type":"Pe_postgresql_psql","title":"grant table create to pe-classifier on pe-classifier","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"GRANT CREATE ON SCHEMA public TO \"pe-classifier\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-classifier', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier objects should be owned by pe-classifier/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/enforce_ownership.pp","line":13,"exported":false,"parameters":{"command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER TABLE \"public\".\"' || tablename || '\" OWNER TO \"pe-classifier\";'\n              AS a\n              FROM pg_tables\n              WHERE schemaname = 'public'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT COUNT(*) FROM pg_tables\n           WHERE schemaname = 'public'\n           AND tableowner != 'pe-classifier') a\n      WHERE a.count = 0\n    ","db":"pe-classifier","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier objects should be owned by pe-classifier/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/enforce_ownership.pp","line":42,"exported":false,"parameters":{"command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER FUNCTION \"public\".\"' || p.proname || '\"(' || pg_get_function_identity_arguments(p.oid) || ') OWNER TO \"pe-classifier\";'\n              AS a\n              FROM pg_proc p\n              JOIN pg_namespace n ON p.pronamespace = n.oid\n              JOIN pg_roles ON p.proowner = pg_roles.oid\n              WHERE n.nspname = 'public'\n              AND pg_roles.rolname != 'pe-postgres'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT count(*)\n         FROM pg_proc p\n         JOIN pg_roles r ON p.proowner = r.oid\n         JOIN pg_namespace n on p.pronamespace = n.oid\n         WHERE n.nspname = 'public'\n           AND r.rolname != 'pe-classifier'\n           AND r.rolname != 'pe-postgres') a\n      WHERE a.count = 0\n    ","db":"pe-classifier","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql::Server::Role","title":"pe-classifier-read","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":27,"exported":false,"parameters":{"password_hash":false,"createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"superuser":false,"replication":false,"connection_limit":"-1","username":"pe-classifier-read"}},{"type":"Puppet_enterprise::Pg::Grant_connect","title":"pe-classifier grant connect perms to pe-classifier-read","tags":["puppet_enterprise::pg::grant_connect","puppet_enterprise","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-read","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":31,"exported":false,"parameters":{"database":"pe-classifier","schema":"public","user":"pe-classifier-read","require":"Pe_postgresql::Server::Role[pe-classifier-read]"}},{"type":"Puppet_enterprise::Pg::Default_read_grant","title":"pe-classifier grant read perms on new objects from pe-classifier to pe-classifier-read","tags":["puppet_enterprise::pg::default_read_grant","puppet_enterprise","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-read","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":57,"exported":false,"parameters":{"table_creator":"pe-classifier","table_reader":"pe-classifier-read","database":"pe-classifier","schema":"public","require":"Pe_postgresql::Server::Role[pe-classifier-read]"}},{"type":"Puppet_enterprise::Pg::Default_read_grant","title":"pe-classifier grant read perms on new objects from pe-ha-replication to pe-classifier-read","tags":["puppet_enterprise::pg::default_read_grant","puppet_enterprise","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-read","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":57,"exported":false,"parameters":{"table_creator":"pe-ha-replication","table_reader":"pe-classifier-read","database":"pe-classifier","schema":"public","require":"Pe_postgresql::Server::Role[pe-classifier-read]"}},{"type":"Pe_postgresql::Server::Role","title":"pe-classifier-write","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":27,"exported":false,"parameters":{"password_hash":false,"createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"superuser":false,"replication":false,"connection_limit":"-1","username":"pe-classifier-write"}},{"type":"Puppet_enterprise::Pg::Grant_connect","title":"pe-classifier grant connect perms to pe-classifier-write","tags":["puppet_enterprise::pg::grant_connect","puppet_enterprise","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":31,"exported":false,"parameters":{"database":"pe-classifier","schema":"public","user":"pe-classifier-write","require":"Pe_postgresql::Server::Role[pe-classifier-write]"}},{"type":"Puppet_enterprise::Pg::Write_grant","title":"pe-classifier grant write perms on existing objects to pe-classifier-write","tags":["puppet_enterprise::pg::write_grant","puppet_enterprise","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":39,"exported":false,"parameters":{"table_writer":"pe-classifier-write","database":"pe-classifier","schema":"public","require":"Pe_postgresql::Server::Role[pe-classifier-write]"}},{"type":"Puppet_enterprise::Pg::Default_write_grant","title":"pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write","tags":["puppet_enterprise::pg::default_write_grant","puppet_enterprise","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":47,"exported":false,"parameters":{"table_creator":"pe-classifier","table_writer":"pe-classifier-write","database":"pe-classifier","schema":"public","require":"Pe_postgresql::Server::Role[pe-classifier-write]"}},{"type":"Puppet_enterprise::Pg::Default_write_grant","title":"pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write","tags":["puppet_enterprise::pg::default_write_grant","puppet_enterprise","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":47,"exported":false,"parameters":{"table_creator":"pe-ha-replication","table_writer":"pe-classifier-write","database":"pe-classifier","schema":"public","require":"Pe_postgresql::Server::Role[pe-classifier-write]"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier/pg_repack/create-or-drop-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')","require":"Pe_postgresql::Server::Db[pe-classifier]","db":"pe-classifier","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier/pg_repack/update-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-classifier]","Puppet_enterprise::Psql[pe-classifier/pg_repack/create-or-drop-extension-pg_repack]"],"db":"pe-classifier","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier/pglogical/create-or-drop-extension-pglogical","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pglogical\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pglogical')","require":"Pe_postgresql::Server::Db[pe-classifier]","db":"pe-classifier","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier/pglogical/update-extension-pglogical","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pglogical\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pglogical' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-classifier]","Puppet_enterprise::Psql[pe-classifier/pglogical/create-or-drop-extension-pglogical]"],"db":"pe-classifier","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier/n6bad1349378221/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::node","pg","pglogical","node","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/node.pp","line":24,"exported":false,"parameters":{"command":"SELECT pglogical.create_node(\n      node_name := 'n6bad1349378221',\n      dsn := 'dbname=pe-classifier host=pe-xl-core-0.puppet.vm port=5432 sslcert=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem sslkey=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem sslmode=verify-full sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem user=pe-ha-replication')","unless":"SELECT * from pglogical.node WHERE node_name='n6bad1349378221'","db":"pe-classifier","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pglogical replication set pe-classifier/default populate-sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::replication_set","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/replication_set.pp","line":13,"exported":false,"parameters":{"db":"pe-classifier","command":"SELECT pglogical.replication_set_add_all_tables('default', ARRAY['public'])","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM (SELECT relname from pglogical.tables\n                                WHERE set_name='default'\n                                AND nspname='public') pgl\n                          RIGHT OUTER JOIN information_schema.tables pg\n                          ON pgl.relname=pg.table_name\n                          WHERE pg.table_schema='public'\n                          AND relname IS NULL) c\n                    WHERE c.count = 0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pglogical_subscription pe-classifier/s6bad1349378221 drop-sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::subscription","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/subscription.pp","line":45,"exported":false,"parameters":{"db":"pe-classifier","command":"SELECT pglogical.drop_subscription('s6bad1349378221', false)","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM pglogical.subscription\n                          WHERE sub_name='s6bad1349378221') c\n                    WHERE c.count = 0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-classifier as pe-classifier (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-classifier-pe-classifier-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-classifier","description":"none","type":"hostssl","database":"pe-classifier","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-classifier as pe-classifier (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-classifier-pe-classifier-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-classifier","description":"none","type":"hostssl","database":"pe-classifier","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-classifier","ident_map_key":"pe-classifier-pe-classifier-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-classifier","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-classifier-pe-classifier-read-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-classifier-read","description":"none","type":"hostssl","database":"pe-classifier","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-classifier-pe-classifier-read-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-classifier-read","description":"none","type":"hostssl","database":"pe-classifier","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-classifier","ident_map_key":"pe-classifier-pe-classifier-read-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-classifier-read","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-classifier-pe-classifier-write-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-classifier-write","description":"none","type":"hostssl","database":"pe-classifier","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-classifier-pe-classifier-write-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-classifier-write","description":"none","type":"hostssl","database":"pe-classifier","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-classifier","ident_map_key":"pe-classifier-pe-classifier-write-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-classifier-write","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-classifier-pe-ha-replication-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"pe-classifier","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-classifier-pe-ha-replication-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"pe-classifier","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-classifier","ident_map_key":"pe-classifier-pe-ha-replication-map","client_certname":"pe-xl-core-1.puppet.vm","user":"pe-ha-replication","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-classifier","ident_map_key":"pe-classifier-pe-ha-replication-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-ha-replication","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/rbac","tags":["file","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":28,"exported":false,"parameters":{"ensure":"directory","owner":"pe-postgres","group":"pe-postgres","mode":"0700"}},{"type":"Pe_postgresql_psql","title":"Create tablespace 'pe-rbac'","tags":["pe_postgresql_psql","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":36,"exported":false,"parameters":{"command":"CREATE TABLESPACE \"pe-rbac\"  LOCATION '/opt/puppetlabs/server/data/postgresql/rbac'","unless":"SELECT spcname FROM pg_tablespace WHERE spcname='pe-rbac'","require":["Class[Pe_postgresql::Server]","File[/opt/puppetlabs/server/data/postgresql/rbac]"],"db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-rbac\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac\" SUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac' and rolsuper=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql::Server::Database","title":"pe-rbac","tags":["pe_postgresql::server::database","pe_postgresql","server","database","pe-rbac","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":19,"exported":false,"parameters":{"encoding":"UTF8","tablespace":"pe-rbac","template":"template0","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","istemplate":false,"owner":"pe-postgres","dbname":"pe-rbac","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-rbac\" TO \"pe-rbac\"]"]}},{"type":"Pe_postgresql::Server::Database_grant","title":"GRANT pe-rbac - ALL - pe-rbac","tags":["pe_postgresql::server::database_grant","pe_postgresql","server","database_grant","pe_postgresql::server::db","db","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":38,"exported":false,"parameters":{"privilege":"ALL","db":"pe-rbac","role":"pe-rbac"}},{"type":"Pe_postgresql_psql","title":"pe-rbac revoke public table create perms","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false"}},{"type":"Pe_postgresql_psql","title":"grant table create to pe-rbac on pe-rbac","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"GRANT CREATE ON SCHEMA public TO \"pe-rbac\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-rbac', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac objects should be owned by pe-rbac/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/enforce_ownership.pp","line":13,"exported":false,"parameters":{"command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER TABLE \"public\".\"' || tablename || '\" OWNER TO \"pe-rbac\";'\n              AS a\n              FROM pg_tables\n              WHERE schemaname = 'public'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT COUNT(*) FROM pg_tables\n           WHERE schemaname = 'public'\n           AND tableowner != 'pe-rbac') a\n      WHERE a.count = 0\n    ","db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac objects should be owned by pe-rbac/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/enforce_ownership.pp","line":42,"exported":false,"parameters":{"command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER FUNCTION \"public\".\"' || p.proname || '\"(' || pg_get_function_identity_arguments(p.oid) || ') OWNER TO \"pe-rbac\";'\n              AS a\n              FROM pg_proc p\n              JOIN pg_namespace n ON p.pronamespace = n.oid\n              JOIN pg_roles ON p.proowner = pg_roles.oid\n              WHERE n.nspname = 'public'\n              AND pg_roles.rolname != 'pe-postgres'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT count(*)\n         FROM pg_proc p\n         JOIN pg_roles r ON p.proowner = r.oid\n         JOIN pg_namespace n on p.pronamespace = n.oid\n         WHERE n.nspname = 'public'\n           AND r.rolname != 'pe-rbac'\n           AND r.rolname != 'pe-postgres') a\n      WHERE a.count = 0\n    ","db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql::Server::Role","title":"pe-rbac-read","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":27,"exported":false,"parameters":{"password_hash":false,"createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"superuser":false,"replication":false,"connection_limit":"-1","username":"pe-rbac-read"}},{"type":"Puppet_enterprise::Pg::Grant_connect","title":"pe-rbac grant connect perms to pe-rbac-read","tags":["puppet_enterprise::pg::grant_connect","puppet_enterprise","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-read","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":31,"exported":false,"parameters":{"database":"pe-rbac","schema":"public","user":"pe-rbac-read","require":"Pe_postgresql::Server::Role[pe-rbac-read]"}},{"type":"Puppet_enterprise::Pg::Default_read_grant","title":"pe-rbac grant read perms on new objects from pe-rbac to pe-rbac-read","tags":["puppet_enterprise::pg::default_read_grant","puppet_enterprise","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-read","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":57,"exported":false,"parameters":{"table_creator":"pe-rbac","table_reader":"pe-rbac-read","database":"pe-rbac","schema":"public","require":"Pe_postgresql::Server::Role[pe-rbac-read]"}},{"type":"Puppet_enterprise::Pg::Default_read_grant","title":"pe-rbac grant read perms on new objects from pe-ha-replication to pe-rbac-read","tags":["puppet_enterprise::pg::default_read_grant","puppet_enterprise","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-read","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":57,"exported":false,"parameters":{"table_creator":"pe-ha-replication","table_reader":"pe-rbac-read","database":"pe-rbac","schema":"public","require":"Pe_postgresql::Server::Role[pe-rbac-read]"}},{"type":"Pe_postgresql::Server::Role","title":"pe-rbac-write","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":27,"exported":false,"parameters":{"password_hash":false,"createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"superuser":false,"replication":false,"connection_limit":"-1","username":"pe-rbac-write"}},{"type":"Puppet_enterprise::Pg::Grant_connect","title":"pe-rbac grant connect perms to pe-rbac-write","tags":["puppet_enterprise::pg::grant_connect","puppet_enterprise","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":31,"exported":false,"parameters":{"database":"pe-rbac","schema":"public","user":"pe-rbac-write","require":"Pe_postgresql::Server::Role[pe-rbac-write]"}},{"type":"Puppet_enterprise::Pg::Write_grant","title":"pe-rbac grant write perms on existing objects to pe-rbac-write","tags":["puppet_enterprise::pg::write_grant","puppet_enterprise","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":39,"exported":false,"parameters":{"table_writer":"pe-rbac-write","database":"pe-rbac","schema":"public","require":"Pe_postgresql::Server::Role[pe-rbac-write]"}},{"type":"Puppet_enterprise::Pg::Default_write_grant","title":"pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write","tags":["puppet_enterprise::pg::default_write_grant","puppet_enterprise","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":47,"exported":false,"parameters":{"table_creator":"pe-rbac","table_writer":"pe-rbac-write","database":"pe-rbac","schema":"public","require":"Pe_postgresql::Server::Role[pe-rbac-write]"}},{"type":"Puppet_enterprise::Pg::Default_write_grant","title":"pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write","tags":["puppet_enterprise::pg::default_write_grant","puppet_enterprise","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":47,"exported":false,"parameters":{"table_creator":"pe-ha-replication","table_writer":"pe-rbac-write","database":"pe-rbac","schema":"public","require":"Pe_postgresql::Server::Role[pe-rbac-write]"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac/pg_repack/create-or-drop-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')","require":"Pe_postgresql::Server::Db[pe-rbac]","db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac/pg_repack/update-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-rbac]","Puppet_enterprise::Psql[pe-rbac/pg_repack/create-or-drop-extension-pg_repack]"],"db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac/citext/create-or-drop-extension-citext","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"citext\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'citext')","require":"Pe_postgresql::Server::Db[pe-rbac]","db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac/citext/update-extension-citext","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"citext\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'citext' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-rbac]","Puppet_enterprise::Psql[pe-rbac/citext/create-or-drop-extension-citext]"],"db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac/pgcrypto/create-or-drop-extension-pgcrypto","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pgcrypto\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pgcrypto')","require":"Pe_postgresql::Server::Db[pe-rbac]","db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac/pgcrypto/update-extension-pgcrypto","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pgcrypto\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pgcrypto' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-rbac]","Puppet_enterprise::Psql[pe-rbac/pgcrypto/create-or-drop-extension-pgcrypto]"],"db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac/pglogical/create-or-drop-extension-pglogical","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pglogical\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pglogical')","require":"Pe_postgresql::Server::Db[pe-rbac]","db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac/pglogical/update-extension-pglogical","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pglogical\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pglogical' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-rbac]","Puppet_enterprise::Psql[pe-rbac/pglogical/create-or-drop-extension-pglogical]"],"db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac/n6bad1349378221/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::node","pg","pglogical","node","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/node.pp","line":24,"exported":false,"parameters":{"command":"SELECT pglogical.create_node(\n      node_name := 'n6bad1349378221',\n      dsn := 'dbname=pe-rbac host=pe-xl-core-0.puppet.vm port=5432 sslcert=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem sslkey=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem sslmode=verify-full sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem user=pe-ha-replication')","unless":"SELECT * from pglogical.node WHERE node_name='n6bad1349378221'","db":"pe-rbac","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pglogical replication set pe-rbac/default populate-sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::replication_set","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/replication_set.pp","line":13,"exported":false,"parameters":{"db":"pe-rbac","command":"SELECT pglogical.replication_set_add_all_tables('default', ARRAY['public'])","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM (SELECT relname from pglogical.tables\n                                WHERE set_name='default'\n                                AND nspname='public') pgl\n                          RIGHT OUTER JOIN information_schema.tables pg\n                          ON pgl.relname=pg.table_name\n                          WHERE pg.table_schema='public'\n                          AND relname IS NULL) c\n                    WHERE c.count = 0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pglogical_subscription pe-rbac/s6bad1349378221 drop-sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::subscription","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/subscription.pp","line":45,"exported":false,"parameters":{"db":"pe-rbac","command":"SELECT pglogical.drop_subscription('s6bad1349378221', false)","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM pglogical.subscription\n                          WHERE sub_name='s6bad1349378221') c\n                    WHERE c.count = 0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-rbac as pe-rbac (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-rbac-pe-rbac-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-rbac","description":"none","type":"hostssl","database":"pe-rbac","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-rbac as pe-rbac (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-rbac-pe-rbac-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-rbac","description":"none","type":"hostssl","database":"pe-rbac","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-rbac","ident_map_key":"pe-rbac-pe-rbac-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-rbac","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-rbac-pe-rbac-read-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-rbac-read","description":"none","type":"hostssl","database":"pe-rbac","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-rbac-pe-rbac-read-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-rbac-read","description":"none","type":"hostssl","database":"pe-rbac","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-rbac","ident_map_key":"pe-rbac-pe-rbac-read-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-rbac-read","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-rbac-pe-rbac-write-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-rbac-write","description":"none","type":"hostssl","database":"pe-rbac","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-rbac-pe-rbac-write-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-rbac-write","description":"none","type":"hostssl","database":"pe-rbac","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-rbac","ident_map_key":"pe-rbac-pe-rbac-write-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-rbac-write","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-rbac-pe-ha-replication-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"pe-rbac","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-rbac-pe-ha-replication-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"pe-rbac","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-rbac","ident_map_key":"pe-rbac-pe-ha-replication-map","client_certname":"pe-xl-core-1.puppet.vm","user":"pe-ha-replication","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-rbac","ident_map_key":"pe-rbac-pe-ha-replication-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-ha-replication","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/activity","tags":["file","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":28,"exported":false,"parameters":{"ensure":"directory","owner":"pe-postgres","group":"pe-postgres","mode":"0700"}},{"type":"Pe_postgresql_psql","title":"Create tablespace 'pe-activity'","tags":["pe_postgresql_psql","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":36,"exported":false,"parameters":{"command":"CREATE TABLESPACE \"pe-activity\"  LOCATION '/opt/puppetlabs/server/data/postgresql/activity'","unless":"SELECT spcname FROM pg_tablespace WHERE spcname='pe-activity'","require":["Class[Pe_postgresql::Server]","File[/opt/puppetlabs/server/data/postgresql/activity]"],"db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-activity\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity\" SUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity' and rolsuper=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql::Server::Database","title":"pe-activity","tags":["pe_postgresql::server::database","pe_postgresql","server","database","pe-activity","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":19,"exported":false,"parameters":{"encoding":"UTF8","tablespace":"pe-activity","template":"template0","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","istemplate":false,"owner":"pe-postgres","dbname":"pe-activity","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-activity\" TO \"pe-activity\"]"]}},{"type":"Pe_postgresql::Server::Database_grant","title":"GRANT pe-activity - ALL - pe-activity","tags":["pe_postgresql::server::database_grant","pe_postgresql","server","database_grant","pe_postgresql::server::db","db","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":38,"exported":false,"parameters":{"privilege":"ALL","db":"pe-activity","role":"pe-activity"}},{"type":"Pe_postgresql_psql","title":"pe-activity revoke public table create perms","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false"}},{"type":"Pe_postgresql_psql","title":"grant table create to pe-activity on pe-activity","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"GRANT CREATE ON SCHEMA public TO \"pe-activity\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-activity', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity objects should be owned by pe-activity/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/enforce_ownership.pp","line":13,"exported":false,"parameters":{"command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER TABLE \"public\".\"' || tablename || '\" OWNER TO \"pe-activity\";'\n              AS a\n              FROM pg_tables\n              WHERE schemaname = 'public'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT COUNT(*) FROM pg_tables\n           WHERE schemaname = 'public'\n           AND tableowner != 'pe-activity') a\n      WHERE a.count = 0\n    ","db":"pe-activity","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity objects should be owned by pe-activity/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/enforce_ownership.pp","line":42,"exported":false,"parameters":{"command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER FUNCTION \"public\".\"' || p.proname || '\"(' || pg_get_function_identity_arguments(p.oid) || ') OWNER TO \"pe-activity\";'\n              AS a\n              FROM pg_proc p\n              JOIN pg_namespace n ON p.pronamespace = n.oid\n              JOIN pg_roles ON p.proowner = pg_roles.oid\n              WHERE n.nspname = 'public'\n              AND pg_roles.rolname != 'pe-postgres'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT count(*)\n         FROM pg_proc p\n         JOIN pg_roles r ON p.proowner = r.oid\n         JOIN pg_namespace n on p.pronamespace = n.oid\n         WHERE n.nspname = 'public'\n           AND r.rolname != 'pe-activity'\n           AND r.rolname != 'pe-postgres') a\n      WHERE a.count = 0\n    ","db":"pe-activity","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql::Server::Role","title":"pe-activity-read","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":27,"exported":false,"parameters":{"password_hash":false,"createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"superuser":false,"replication":false,"connection_limit":"-1","username":"pe-activity-read"}},{"type":"Puppet_enterprise::Pg::Grant_connect","title":"pe-activity grant connect perms to pe-activity-read","tags":["puppet_enterprise::pg::grant_connect","puppet_enterprise","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-read","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":31,"exported":false,"parameters":{"database":"pe-activity","schema":"public","user":"pe-activity-read","require":"Pe_postgresql::Server::Role[pe-activity-read]"}},{"type":"Puppet_enterprise::Pg::Default_read_grant","title":"pe-activity grant read perms on new objects from pe-activity to pe-activity-read","tags":["puppet_enterprise::pg::default_read_grant","puppet_enterprise","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-read","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":57,"exported":false,"parameters":{"table_creator":"pe-activity","table_reader":"pe-activity-read","database":"pe-activity","schema":"public","require":"Pe_postgresql::Server::Role[pe-activity-read]"}},{"type":"Puppet_enterprise::Pg::Default_read_grant","title":"pe-activity grant read perms on new objects from pe-ha-replication to pe-activity-read","tags":["puppet_enterprise::pg::default_read_grant","puppet_enterprise","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-read","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":57,"exported":false,"parameters":{"table_creator":"pe-ha-replication","table_reader":"pe-activity-read","database":"pe-activity","schema":"public","require":"Pe_postgresql::Server::Role[pe-activity-read]"}},{"type":"Pe_postgresql::Server::Role","title":"pe-activity-write","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":27,"exported":false,"parameters":{"password_hash":false,"createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"superuser":false,"replication":false,"connection_limit":"-1","username":"pe-activity-write"}},{"type":"Puppet_enterprise::Pg::Grant_connect","title":"pe-activity grant connect perms to pe-activity-write","tags":["puppet_enterprise::pg::grant_connect","puppet_enterprise","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":31,"exported":false,"parameters":{"database":"pe-activity","schema":"public","user":"pe-activity-write","require":"Pe_postgresql::Server::Role[pe-activity-write]"}},{"type":"Puppet_enterprise::Pg::Write_grant","title":"pe-activity grant write perms on existing objects to pe-activity-write","tags":["puppet_enterprise::pg::write_grant","puppet_enterprise","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":39,"exported":false,"parameters":{"table_writer":"pe-activity-write","database":"pe-activity","schema":"public","require":"Pe_postgresql::Server::Role[pe-activity-write]"}},{"type":"Puppet_enterprise::Pg::Default_write_grant","title":"pe-activity grant write perms on new objects from pe-activity to pe-activity-write","tags":["puppet_enterprise::pg::default_write_grant","puppet_enterprise","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":47,"exported":false,"parameters":{"table_creator":"pe-activity","table_writer":"pe-activity-write","database":"pe-activity","schema":"public","require":"Pe_postgresql::Server::Role[pe-activity-write]"}},{"type":"Puppet_enterprise::Pg::Default_write_grant","title":"pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write","tags":["puppet_enterprise::pg::default_write_grant","puppet_enterprise","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":47,"exported":false,"parameters":{"table_creator":"pe-ha-replication","table_writer":"pe-activity-write","database":"pe-activity","schema":"public","require":"Pe_postgresql::Server::Role[pe-activity-write]"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity/pg_repack/create-or-drop-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')","require":"Pe_postgresql::Server::Db[pe-activity]","db":"pe-activity","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity/pg_repack/update-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-activity]","Puppet_enterprise::Psql[pe-activity/pg_repack/create-or-drop-extension-pg_repack]"],"db":"pe-activity","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity/pglogical/create-or-drop-extension-pglogical","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pglogical\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pglogical')","require":"Pe_postgresql::Server::Db[pe-activity]","db":"pe-activity","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity/pglogical/update-extension-pglogical","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pglogical\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pglogical' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-activity]","Puppet_enterprise::Psql[pe-activity/pglogical/create-or-drop-extension-pglogical]"],"db":"pe-activity","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity/n6bad1349378221/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::node","pg","pglogical","node","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/node.pp","line":24,"exported":false,"parameters":{"command":"SELECT pglogical.create_node(\n      node_name := 'n6bad1349378221',\n      dsn := 'dbname=pe-activity host=pe-xl-core-0.puppet.vm port=5432 sslcert=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem sslkey=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem sslmode=verify-full sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem user=pe-ha-replication')","unless":"SELECT * from pglogical.node WHERE node_name='n6bad1349378221'","db":"pe-activity","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pglogical replication set pe-activity/default populate-sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::replication_set","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/replication_set.pp","line":13,"exported":false,"parameters":{"db":"pe-activity","command":"SELECT pglogical.replication_set_add_all_tables('default', ARRAY['public'])","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM (SELECT relname from pglogical.tables\n                                WHERE set_name='default'\n                                AND nspname='public') pgl\n                          RIGHT OUTER JOIN information_schema.tables pg\n                          ON pgl.relname=pg.table_name\n                          WHERE pg.table_schema='public'\n                          AND relname IS NULL) c\n                    WHERE c.count = 0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pglogical_subscription pe-activity/s6bad1349378221 drop-sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::subscription","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/subscription.pp","line":45,"exported":false,"parameters":{"db":"pe-activity","command":"SELECT pglogical.drop_subscription('s6bad1349378221', false)","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM pglogical.subscription\n                          WHERE sub_name='s6bad1349378221') c\n                    WHERE c.count = 0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-activity as pe-activity (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-activity-pe-activity-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-activity","description":"none","type":"hostssl","database":"pe-activity","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-activity as pe-activity (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-activity-pe-activity-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-activity","description":"none","type":"hostssl","database":"pe-activity","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-activity","ident_map_key":"pe-activity-pe-activity-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-activity","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-activity as pe-activity-read (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-activity-pe-activity-read-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-activity-read","description":"none","type":"hostssl","database":"pe-activity","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-activity as pe-activity-read (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-activity-pe-activity-read-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-activity-read","description":"none","type":"hostssl","database":"pe-activity","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-activity","ident_map_key":"pe-activity-pe-activity-read-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-activity-read","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-activity as pe-activity-write (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-activity-pe-activity-write-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-activity-write","description":"none","type":"hostssl","database":"pe-activity","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-activity as pe-activity-write (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-activity-pe-activity-write-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-activity-write","description":"none","type":"hostssl","database":"pe-activity","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-activity","ident_map_key":"pe-activity-pe-activity-write-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-activity-write","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-activity-pe-ha-replication-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"pe-activity","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-activity-pe-ha-replication-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"pe-activity","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-activity","ident_map_key":"pe-activity-pe-ha-replication-map","client_certname":"pe-xl-core-1.puppet.vm","user":"pe-ha-replication","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-activity","ident_map_key":"pe-activity-pe-ha-replication-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-ha-replication","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/orchestrator","tags":["file","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":28,"exported":false,"parameters":{"ensure":"directory","owner":"pe-postgres","group":"pe-postgres","mode":"0700"}},{"type":"Pe_postgresql_psql","title":"Create tablespace 'pe-orchestrator'","tags":["pe_postgresql_psql","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":36,"exported":false,"parameters":{"command":"CREATE TABLESPACE \"pe-orchestrator\"  LOCATION '/opt/puppetlabs/server/data/postgresql/orchestrator'","unless":"SELECT spcname FROM pg_tablespace WHERE spcname='pe-orchestrator'","require":["Class[Pe_postgresql::Server]","File[/opt/puppetlabs/server/data/postgresql/orchestrator]"],"db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-orchestrator\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator\" SUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator' and rolsuper=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql::Server::Database","title":"pe-orchestrator","tags":["pe_postgresql::server::database","pe_postgresql","server","database","pe-orchestrator","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":19,"exported":false,"parameters":{"encoding":"UTF8","tablespace":"pe-orchestrator","template":"template0","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","istemplate":false,"owner":"pe-postgres","dbname":"pe-orchestrator","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-orchestrator\" TO \"pe-orchestrator\"]"]}},{"type":"Pe_postgresql::Server::Database_grant","title":"GRANT pe-orchestrator - ALL - pe-orchestrator","tags":["pe_postgresql::server::database_grant","pe_postgresql","server","database_grant","pe_postgresql::server::db","db","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":38,"exported":false,"parameters":{"privilege":"ALL","db":"pe-orchestrator","role":"pe-orchestrator"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator revoke public table create perms","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false"}},{"type":"Pe_postgresql_psql","title":"grant table create to pe-orchestrator on pe-orchestrator","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"GRANT CREATE ON SCHEMA public TO \"pe-orchestrator\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-orchestrator', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator objects should be owned by pe-orchestrator/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/enforce_ownership.pp","line":13,"exported":false,"parameters":{"command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER TABLE \"public\".\"' || tablename || '\" OWNER TO \"pe-orchestrator\";'\n              AS a\n              FROM pg_tables\n              WHERE schemaname = 'public'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT COUNT(*) FROM pg_tables\n           WHERE schemaname = 'public'\n           AND tableowner != 'pe-orchestrator') a\n      WHERE a.count = 0\n    ","db":"pe-orchestrator","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator objects should be owned by pe-orchestrator/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/enforce_ownership.pp","line":42,"exported":false,"parameters":{"command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER FUNCTION \"public\".\"' || p.proname || '\"(' || pg_get_function_identity_arguments(p.oid) || ') OWNER TO \"pe-orchestrator\";'\n              AS a\n              FROM pg_proc p\n              JOIN pg_namespace n ON p.pronamespace = n.oid\n              JOIN pg_roles ON p.proowner = pg_roles.oid\n              WHERE n.nspname = 'public'\n              AND pg_roles.rolname != 'pe-postgres'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT count(*)\n         FROM pg_proc p\n         JOIN pg_roles r ON p.proowner = r.oid\n         JOIN pg_namespace n on p.pronamespace = n.oid\n         WHERE n.nspname = 'public'\n           AND r.rolname != 'pe-orchestrator'\n           AND r.rolname != 'pe-postgres') a\n      WHERE a.count = 0\n    ","db":"pe-orchestrator","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql::Server::Role","title":"pe-orchestrator-read","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":27,"exported":false,"parameters":{"password_hash":false,"createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"superuser":false,"replication":false,"connection_limit":"-1","username":"pe-orchestrator-read"}},{"type":"Puppet_enterprise::Pg::Grant_connect","title":"pe-orchestrator grant connect perms to pe-orchestrator-read","tags":["puppet_enterprise::pg::grant_connect","puppet_enterprise","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-read","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":31,"exported":false,"parameters":{"database":"pe-orchestrator","schema":"public","user":"pe-orchestrator-read","require":"Pe_postgresql::Server::Role[pe-orchestrator-read]"}},{"type":"Puppet_enterprise::Pg::Default_read_grant","title":"pe-orchestrator grant read perms on new objects from pe-orchestrator to pe-orchestrator-read","tags":["puppet_enterprise::pg::default_read_grant","puppet_enterprise","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-read","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":57,"exported":false,"parameters":{"table_creator":"pe-orchestrator","table_reader":"pe-orchestrator-read","database":"pe-orchestrator","schema":"public","require":"Pe_postgresql::Server::Role[pe-orchestrator-read]"}},{"type":"Puppet_enterprise::Pg::Default_read_grant","title":"pe-orchestrator grant read perms on new objects from pe-ha-replication to pe-orchestrator-read","tags":["puppet_enterprise::pg::default_read_grant","puppet_enterprise","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-read","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":57,"exported":false,"parameters":{"table_creator":"pe-ha-replication","table_reader":"pe-orchestrator-read","database":"pe-orchestrator","schema":"public","require":"Pe_postgresql::Server::Role[pe-orchestrator-read]"}},{"type":"Pe_postgresql::Server::Role","title":"pe-orchestrator-write","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":27,"exported":false,"parameters":{"password_hash":false,"createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"superuser":false,"replication":false,"connection_limit":"-1","username":"pe-orchestrator-write"}},{"type":"Puppet_enterprise::Pg::Grant_connect","title":"pe-orchestrator grant connect perms to pe-orchestrator-write","tags":["puppet_enterprise::pg::grant_connect","puppet_enterprise","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":31,"exported":false,"parameters":{"database":"pe-orchestrator","schema":"public","user":"pe-orchestrator-write","require":"Pe_postgresql::Server::Role[pe-orchestrator-write]"}},{"type":"Puppet_enterprise::Pg::Write_grant","title":"pe-orchestrator grant write perms on existing objects to pe-orchestrator-write","tags":["puppet_enterprise::pg::write_grant","puppet_enterprise","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":39,"exported":false,"parameters":{"table_writer":"pe-orchestrator-write","database":"pe-orchestrator","schema":"public","require":"Pe_postgresql::Server::Role[pe-orchestrator-write]"}},{"type":"Puppet_enterprise::Pg::Default_write_grant","title":"pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write","tags":["puppet_enterprise::pg::default_write_grant","puppet_enterprise","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":47,"exported":false,"parameters":{"table_creator":"pe-orchestrator","table_writer":"pe-orchestrator-write","database":"pe-orchestrator","schema":"public","require":"Pe_postgresql::Server::Role[pe-orchestrator-write]"}},{"type":"Puppet_enterprise::Pg::Default_write_grant","title":"pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write","tags":["puppet_enterprise::pg::default_write_grant","puppet_enterprise","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":47,"exported":false,"parameters":{"table_creator":"pe-ha-replication","table_writer":"pe-orchestrator-write","database":"pe-orchestrator","schema":"public","require":"Pe_postgresql::Server::Role[pe-orchestrator-write]"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator/pg_repack/create-or-drop-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')","require":"Pe_postgresql::Server::Db[pe-orchestrator]","db":"pe-orchestrator","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator/pg_repack/update-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-orchestrator]","Puppet_enterprise::Psql[pe-orchestrator/pg_repack/create-or-drop-extension-pg_repack]"],"db":"pe-orchestrator","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator/pglogical/create-or-drop-extension-pglogical","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pglogical\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pglogical')","require":"Pe_postgresql::Server::Db[pe-orchestrator]","db":"pe-orchestrator","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator/pglogical/update-extension-pglogical","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pglogical\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pglogical' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-orchestrator]","Puppet_enterprise::Psql[pe-orchestrator/pglogical/create-or-drop-extension-pglogical]"],"db":"pe-orchestrator","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator/n6bad1349378221/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::node","pg","pglogical","node","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/node.pp","line":24,"exported":false,"parameters":{"command":"SELECT pglogical.create_node(\n      node_name := 'n6bad1349378221',\n      dsn := 'dbname=pe-orchestrator host=pe-xl-core-0.puppet.vm port=5432 sslcert=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem sslkey=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem sslmode=verify-full sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem user=pe-ha-replication')","unless":"SELECT * from pglogical.node WHERE node_name='n6bad1349378221'","db":"pe-orchestrator","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pglogical replication set pe-orchestrator/default populate-sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::replication_set","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/replication_set.pp","line":13,"exported":false,"parameters":{"db":"pe-orchestrator","command":"SELECT pglogical.replication_set_add_all_tables('default', ARRAY['public'])","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM (SELECT relname from pglogical.tables\n                                WHERE set_name='default'\n                                AND nspname='public') pgl\n                          RIGHT OUTER JOIN information_schema.tables pg\n                          ON pgl.relname=pg.table_name\n                          WHERE pg.table_schema='public'\n                          AND relname IS NULL) c\n                    WHERE c.count = 0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pglogical_subscription pe-orchestrator/s6bad1349378221 drop-sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::subscription","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/subscription.pp","line":45,"exported":false,"parameters":{"db":"pe-orchestrator","command":"SELECT pglogical.drop_subscription('s6bad1349378221', false)","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM pglogical.subscription\n                          WHERE sub_name='s6bad1349378221') c\n                    WHERE c.count = 0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-orchestrator-pe-orchestrator-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-orchestrator","description":"none","type":"hostssl","database":"pe-orchestrator","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-orchestrator-pe-orchestrator-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-orchestrator","description":"none","type":"hostssl","database":"pe-orchestrator","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-orchestrator","ident_map_key":"pe-orchestrator-pe-orchestrator-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-orchestrator","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-orchestrator-pe-orchestrator-read-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-orchestrator-read","description":"none","type":"hostssl","database":"pe-orchestrator","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-orchestrator-pe-orchestrator-read-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-orchestrator-read","description":"none","type":"hostssl","database":"pe-orchestrator","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-orchestrator","ident_map_key":"pe-orchestrator-pe-orchestrator-read-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-orchestrator-read","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-orchestrator-pe-orchestrator-write-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-orchestrator-write","description":"none","type":"hostssl","database":"pe-orchestrator","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-orchestrator-pe-orchestrator-write-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-orchestrator-write","description":"none","type":"hostssl","database":"pe-orchestrator","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-orchestrator","ident_map_key":"pe-orchestrator-pe-orchestrator-write-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-orchestrator-write","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-orchestrator-pe-ha-replication-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"pe-orchestrator","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-orchestrator-pe-ha-replication-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"pe-orchestrator","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-orchestrator","ident_map_key":"pe-orchestrator-pe-ha-replication-map","client_certname":"pe-xl-core-1.puppet.vm","user":"pe-ha-replication","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-orchestrator","ident_map_key":"pe-orchestrator-pe-ha-replication-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-ha-replication","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"File","title":"/opt/puppetlabs/server/data/postgresql/inventory","tags":["file","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":28,"exported":false,"parameters":{"ensure":"directory","owner":"pe-postgres","group":"pe-postgres","mode":"0700"}},{"type":"Pe_postgresql_psql","title":"Create tablespace 'pe-inventory'","tags":["pe_postgresql_psql","pe_postgresql::server::tablespace","pe_postgresql","server","tablespace","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/tablespace.pp","line":36,"exported":false,"parameters":{"command":"CREATE TABLESPACE \"pe-inventory\"  LOCATION '/opt/puppetlabs/server/data/postgresql/inventory'","unless":"SELECT spcname FROM pg_tablespace WHERE spcname='pe-inventory'","require":["Class[Pe_postgresql::Server]","File[/opt/puppetlabs/server/data/postgresql/inventory]"],"db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-inventory\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory\" SUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory' and rolsuper=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql::Server::Database","title":"pe-inventory","tags":["pe_postgresql::server::database","pe_postgresql","server","database","pe-inventory","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":19,"exported":false,"parameters":{"encoding":"UTF8","tablespace":"pe-inventory","template":"template0","locale":"en_US.UTF-8","ctype":"en_US.UTF-8","collate":"en_US.UTF-8","istemplate":false,"owner":"pe-postgres","dbname":"pe-inventory","before":["Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-inventory\" TO \"pe-inventory\"]"]}},{"type":"Pe_postgresql::Server::Database_grant","title":"GRANT pe-inventory - ALL - pe-inventory","tags":["pe_postgresql::server::database_grant","pe_postgresql","server","database_grant","pe_postgresql::server::db","db","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/db.pp","line":38,"exported":false,"parameters":{"privilege":"ALL","db":"pe-inventory","role":"pe-inventory"}},{"type":"Pe_postgresql_psql","title":"pe-inventory revoke public table create perms","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"REVOKE CREATE ON SCHEMA public FROM public","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('public', 'public', 'create') can_create) privs\n                WHERE privs.can_create=false"}},{"type":"Pe_postgresql_psql","title":"grant table create to pe-inventory on pe-inventory","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"GRANT CREATE ON SCHEMA public TO \"pe-inventory\"","unless":"SELECT * FROM\n                  (SELECT has_schema_privilege('pe-inventory', 'public', 'create') can_create) privs\n                WHERE privs.can_create=true"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory objects should be owned by pe-inventory/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/enforce_ownership.pp","line":13,"exported":false,"parameters":{"command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER TABLE \"public\".\"' || tablename || '\" OWNER TO \"pe-inventory\";'\n              AS a\n              FROM pg_tables\n              WHERE schemaname = 'public'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT COUNT(*) FROM pg_tables\n           WHERE schemaname = 'public'\n           AND tableowner != 'pe-inventory') a\n      WHERE a.count = 0\n    ","db":"pe-inventory","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory objects should be owned by pe-inventory/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/enforce_ownership.pp","line":42,"exported":false,"parameters":{"command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER FUNCTION \"public\".\"' || p.proname || '\"(' || pg_get_function_identity_arguments(p.oid) || ') OWNER TO \"pe-inventory\";'\n              AS a\n              FROM pg_proc p\n              JOIN pg_namespace n ON p.pronamespace = n.oid\n              JOIN pg_roles ON p.proowner = pg_roles.oid\n              WHERE n.nspname = 'public'\n              AND pg_roles.rolname != 'pe-postgres'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT count(*)\n         FROM pg_proc p\n         JOIN pg_roles r ON p.proowner = r.oid\n         JOIN pg_namespace n on p.pronamespace = n.oid\n         WHERE n.nspname = 'public'\n           AND r.rolname != 'pe-inventory'\n           AND r.rolname != 'pe-postgres') a\n      WHERE a.count = 0\n    ","db":"pe-inventory","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql::Server::Role","title":"pe-inventory-read","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":27,"exported":false,"parameters":{"password_hash":false,"createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"superuser":false,"replication":false,"connection_limit":"-1","username":"pe-inventory-read"}},{"type":"Puppet_enterprise::Pg::Grant_connect","title":"pe-inventory grant connect perms to pe-inventory-read","tags":["puppet_enterprise::pg::grant_connect","puppet_enterprise","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-read","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":31,"exported":false,"parameters":{"database":"pe-inventory","schema":"public","user":"pe-inventory-read","require":"Pe_postgresql::Server::Role[pe-inventory-read]"}},{"type":"Puppet_enterprise::Pg::Default_read_grant","title":"pe-inventory grant read perms on new objects from pe-inventory to pe-inventory-read","tags":["puppet_enterprise::pg::default_read_grant","puppet_enterprise","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-read","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":57,"exported":false,"parameters":{"table_creator":"pe-inventory","table_reader":"pe-inventory-read","database":"pe-inventory","schema":"public","require":"Pe_postgresql::Server::Role[pe-inventory-read]"}},{"type":"Puppet_enterprise::Pg::Default_read_grant","title":"pe-inventory grant read perms on new objects from pe-ha-replication to pe-inventory-read","tags":["puppet_enterprise::pg::default_read_grant","puppet_enterprise","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-read","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":57,"exported":false,"parameters":{"table_creator":"pe-ha-replication","table_reader":"pe-inventory-read","database":"pe-inventory","schema":"public","require":"Pe_postgresql::Server::Role[pe-inventory-read]"}},{"type":"Pe_postgresql::Server::Role","title":"pe-inventory-write","tags":["pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":27,"exported":false,"parameters":{"password_hash":false,"createdb":false,"createrole":false,"db":"postgres","port":5432,"login":true,"inherit":true,"superuser":false,"replication":false,"connection_limit":"-1","username":"pe-inventory-write"}},{"type":"Puppet_enterprise::Pg::Grant_connect","title":"pe-inventory grant connect perms to pe-inventory-write","tags":["puppet_enterprise::pg::grant_connect","puppet_enterprise","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":31,"exported":false,"parameters":{"database":"pe-inventory","schema":"public","user":"pe-inventory-write","require":"Pe_postgresql::Server::Role[pe-inventory-write]"}},{"type":"Puppet_enterprise::Pg::Write_grant","title":"pe-inventory grant write perms on existing objects to pe-inventory-write","tags":["puppet_enterprise::pg::write_grant","puppet_enterprise","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":39,"exported":false,"parameters":{"table_writer":"pe-inventory-write","database":"pe-inventory","schema":"public","require":"Pe_postgresql::Server::Role[pe-inventory-write]"}},{"type":"Puppet_enterprise::Pg::Default_write_grant","title":"pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write","tags":["puppet_enterprise::pg::default_write_grant","puppet_enterprise","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":47,"exported":false,"parameters":{"table_creator":"pe-inventory","table_writer":"pe-inventory-write","database":"pe-inventory","schema":"public","require":"Pe_postgresql::Server::Role[pe-inventory-write]"}},{"type":"Puppet_enterprise::Pg::Default_write_grant","title":"pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write","tags":["puppet_enterprise::pg::default_write_grant","puppet_enterprise","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ordinary_user.pp","line":47,"exported":false,"parameters":{"table_creator":"pe-ha-replication","table_writer":"pe-inventory-write","database":"pe-inventory","schema":"public","require":"Pe_postgresql::Server::Role[pe-inventory-write]"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory/pg_repack/create-or-drop-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')","require":"Pe_postgresql::Server::Db[pe-inventory]","db":"pe-inventory","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory/pg_repack/update-extension-pg_repack","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-inventory]","Puppet_enterprise::Psql[pe-inventory/pg_repack/create-or-drop-extension-pg_repack]"],"db":"pe-inventory","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory/pgcrypto/create-or-drop-extension-pgcrypto","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pgcrypto\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pgcrypto')","require":"Pe_postgresql::Server::Db[pe-inventory]","db":"pe-inventory","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory/pgcrypto/update-extension-pgcrypto","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pgcrypto\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pgcrypto' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-inventory]","Puppet_enterprise::Psql[pe-inventory/pgcrypto/create-or-drop-extension-pgcrypto]"],"db":"pe-inventory","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory/pglogical/create-or-drop-extension-pglogical","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":18,"exported":false,"parameters":{"command":"CREATE EXTENSION \"pglogical\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pglogical')","require":"Pe_postgresql::Server::Db[pe-inventory]","db":"pe-inventory","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory/pglogical/update-extension-pglogical","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/extension.pp","line":36,"exported":false,"parameters":{"command":"ALTER EXTENSION \"pglogical\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pglogical' AND default_version = installed_version","require":["Pe_postgresql::Server::Db[pe-inventory]","Puppet_enterprise::Psql[pe-inventory/pglogical/create-or-drop-extension-pglogical]"],"db":"pe-inventory","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory/n6bad1349378221/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::node","pg","pglogical","node","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/node.pp","line":24,"exported":false,"parameters":{"command":"SELECT pglogical.create_node(\n      node_name := 'n6bad1349378221',\n      dsn := 'dbname=pe-inventory host=pe-xl-core-0.puppet.vm port=5432 sslcert=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem sslkey=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem sslmode=verify-full sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem user=pe-ha-replication')","unless":"SELECT * from pglogical.node WHERE node_name='n6bad1349378221'","db":"pe-inventory","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pglogical replication set pe-inventory/default populate-sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::replication_set","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/replication_set.pp","line":13,"exported":false,"parameters":{"db":"pe-inventory","command":"SELECT pglogical.replication_set_add_all_tables('default', ARRAY['public'])","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM (SELECT relname from pglogical.tables\n                                WHERE set_name='default'\n                                AND nspname='public') pgl\n                          RIGHT OUTER JOIN information_schema.tables pg\n                          ON pgl.relname=pg.table_name\n                          WHERE pg.table_schema='public'\n                          AND relname IS NULL) c\n                    WHERE c.count = 0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pglogical_subscription pe-inventory/s6bad1349378221 drop-sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::subscription","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/pglogical/subscription.pp","line":45,"exported":false,"parameters":{"db":"pe-inventory","command":"SELECT pglogical.drop_subscription('s6bad1349378221', false)","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM pglogical.subscription\n                          WHERE sub_name='s6bad1349378221') c\n                    WHERE c.count = 0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-inventory as pe-inventory (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-inventory-pe-inventory-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-inventory","description":"none","type":"hostssl","database":"pe-inventory","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-inventory as pe-inventory (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-inventory-pe-inventory-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-inventory","description":"none","type":"hostssl","database":"pe-inventory","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-inventory","ident_map_key":"pe-inventory-pe-inventory-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-inventory","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-inventory-pe-inventory-read-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-inventory-read","description":"none","type":"hostssl","database":"pe-inventory","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-inventory-pe-inventory-read-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-inventory-read","description":"none","type":"hostssl","database":"pe-inventory","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-inventory","ident_map_key":"pe-inventory-pe-inventory-read-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-inventory-read","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-inventory-pe-inventory-write-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-inventory-write","description":"none","type":"hostssl","database":"pe-inventory","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-inventory-pe-inventory-write-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-inventory-write","description":"none","type":"hostssl","database":"pe-inventory","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-inventory","ident_map_key":"pe-inventory-pe-inventory-write-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-inventory-write","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv4)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":25,"exported":false,"parameters":{"auth_option":"map=pe-inventory-pe-ha-replication-map clientcert=1","address":"0.0.0.0/0","order":"0","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"pe-inventory","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Pe_postgresql::Server::Pg_hba_rule","title":"Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv6)","tags":["pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":34,"exported":false,"parameters":{"auth_option":"map=pe-inventory-pe-ha-replication-map clientcert=1","address":"::/0","order":"1","notify":"Class[Pe_postgresql::Server::Service]","user":"pe-ha-replication","description":"none","type":"hostssl","database":"pe-inventory","auth_method":"cert","target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-inventory","ident_map_key":"pe-inventory-pe-ha-replication-map","client_certname":"pe-xl-core-1.puppet.vm","user":"pe-ha-replication","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"Puppet_enterprise::Pg::Ident_entry","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication","tags":["puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/cert_whitelist_entry.pp","line":42,"exported":false,"parameters":{"pg_ident_conf_path":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","database":"pe-inventory","ident_map_key":"pe-inventory-pe-ha-replication-map","client_certname":"pe-xl-core-0.puppet.vm","user":"pe-ha-replication","notify":"Class[Pe_postgresql::Server::Service]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","certificate-authority-service","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":144,"exported":false,"parameters":{"ensure":"directory","mode":"0750","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","certificate-authority-service","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":149,"exported":false,"parameters":{"ensure":"directory","mode":"0750","force":true,"ignore":[".svn",".git",".gitignore"],"notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","purge":true,"recurse":true,"backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments.concat","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","certificate-authority-service","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":159,"exported":false,"parameters":{"ensure":"present","mode":"0640","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments.concat.out","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","certificate-authority-service","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":164,"exported":false,"parameters":{"ensure":"present","mode":"0640","backup":false}},{"type":"File","title":"/etc/puppetlabs/puppetserver/bootstrap.cfg","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","certificate-authority-service","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":169,"exported":false,"parameters":{"ensure":"present","mode":"0644","replace":true,"alias":"pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg","source":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments.concat.out","backup":"puppet"}},{"type":"Exec","title":"pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg","tags":["exec","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","certificate-authority-service","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":187,"exported":false,"parameters":{"command":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg\"","alias":"pe_concat_/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg","notify":"File[/etc/puppetlabs/puppetserver/bootstrap.cfg]","subscribe":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg]","unless":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg\" -t","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","require":["File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg]","File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments]","File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments.concat]"]}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver certificate-authority-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","certificate-authority-service","class","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.services.ca.certificate-authority-service/certificate-authority-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver certificate-authority-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf","tags":["file","pe_concat","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":144,"exported":false,"parameters":{"ensure":"directory","mode":"0750","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments","tags":["file","pe_concat","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":149,"exported":false,"parameters":{"ensure":"directory","mode":"0750","force":true,"ignore":[".svn",".git",".gitignore"],"notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/conf.d/auth.conf]","purge":true,"recurse":true,"backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments.concat","tags":["file","pe_concat","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":159,"exported":false,"parameters":{"ensure":"present","mode":"0640","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments.concat.out","tags":["file","pe_concat","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":164,"exported":false,"parameters":{"ensure":"present","mode":"0640","backup":false}},{"type":"File","title":"/etc/puppetlabs/puppetserver/conf.d/auth.conf","tags":["file","pe_concat","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":169,"exported":false,"parameters":{"ensure":"present","mode":"0644","replace":false,"alias":"pe_concat_/etc/puppetlabs/puppetserver/conf.d/auth.conf","source":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments.concat.out","backup":"puppet"}},{"type":"Exec","title":"pe_concat_/etc/puppetlabs/puppetserver/conf.d/auth.conf","tags":["exec","pe_concat","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":187,"exported":false,"parameters":{"command":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf\"","alias":"pe_concat_/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf","notify":"File[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","subscribe":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf]","unless":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf\" -t","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","require":["File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf]","File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments]","File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments.concat]"]}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments/10_00_header__etc_puppetlabs_puppetserver_conf.d_auth.conf","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"authorization: {\n  rules: []\n","backup":false,"replace":true,"alias":"pe_concat_fragment_00_header_/etc/puppetlabs/puppetserver/conf.d/auth.conf","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/conf.d/auth.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments/10_99_footer__etc_puppetlabs_puppetserver_conf.d_auth.conf","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_puppet_authorization","class","puppet_enterprise::master::tk_authz","puppet_enterprise","master","tk_authz","puppet_enterprise::profile::master::auth_conf","profile","auth_conf","puppet_enterprise::profile::master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"}\n","backup":false,"replace":true,"alias":"pe_concat_fragment_99_footer_/etc/puppetlabs/puppetserver/conf.d/auth.conf","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/conf.d/auth.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver jetty9-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.webserver.jetty9-service/jetty9-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver jetty9-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver pe-master-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-master-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.enterprise.services.master.pe-master-service/pe-master-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver pe-master-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver old-pe-master-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","old-pe-master-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"absent","owner":"root","mode":"0640","content":"puppetlabs.enterprise.services.master.master-service/old-pe-master-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver old-pe-master-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver master-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","master-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.services.master.master-service/master-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver master-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver request-handler-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","request-handler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.services.request-handler.request-handler-service/request-handler-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver request-handler-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver jruby-puppet-pooled-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","jruby-puppet-pooled-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.services.jruby.jruby-puppet-service/jruby-puppet-pooled-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver jruby-puppet-pooled-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver jruby-pool-manager-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","jruby-pool-manager-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.services.jruby-pool-manager.jruby-pool-manager-service/jruby-pool-manager-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver jruby-pool-manager-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver metrics-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","metrics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver metrics-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver puppet-profiler-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet-profiler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.services.puppet-profiler.puppet-profiler-service/puppet-profiler-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver puppet-profiler-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver pe-metrics-puppet-profiler-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-metrics-puppet-profiler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.enterprise.services.puppet-profiler.pe-puppet-profiler-service/pe-metrics-puppet-profiler-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver pe-metrics-puppet-profiler-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver metrics-puppet-profiler-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","metrics-puppet-profiler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"absent","owner":"root","mode":"0640","content":"puppetlabs.enterprise.services.puppet-profiler.puppet-profiler-service/metrics-puppet-profiler-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver metrics-puppet-profiler-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver puppet-server-config-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet-server-config-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.services.config.puppet-server-config-service/puppet-server-config-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver puppet-server-config-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver puppet-admin-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet-admin-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.services.puppet-admin.puppet-admin-service/puppet-admin-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver puppet-admin-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver webrouting-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","webrouting-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.webrouting.webrouting-service/webrouting-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver webrouting-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver legacy-routes-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","legacy-routes-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.services.legacy-routes.legacy-routes-service/legacy-routes-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver legacy-routes-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver pe-legacy-routes-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-legacy-routes-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"absent","owner":"root","mode":"0640","content":"puppetlabs.enterprise.services.legacy-routes.pe-legacy-routes-service/pe-legacy-routes-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver pe-legacy-routes-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver status-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","status-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.status.status-service/status-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver status-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver authorization-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","authorization-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.authorization.authorization-service/authorization-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver authorization-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver scheduler-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","scheduler-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.scheduler.scheduler-service/scheduler-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver scheduler-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver pe-jruby-metrics-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","pe-jruby-metrics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.enterprise.services.jruby.pe-jruby-metrics-service/pe-jruby-metrics-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver pe-jruby-metrics-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver jruby-metrics-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","jruby-metrics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.services.jruby.jruby-metrics-service/jruby-metrics-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver jruby-metrics-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver puppetserver-analytics-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppetserver-analytics-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.enterprise.services.analytics.analytics-service/puppetserver-analytics-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver puppetserver-analytics-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver filesystem-watch-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","filesystem-watch-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.watcher.filesystem-watch-service/filesystem-watch-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver filesystem-watch-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver remote-rbac-consumer-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","remote-rbac-consumer-service","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac-client.services.rbac/remote-rbac-consumer-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver remote-rbac-consumer-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver metrics-webservice","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","metrics-webservice","class","puppet_enterprise::master::puppetserver","master","puppetserver","puppet_enterprise::master","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-webservice\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver metrics-webservice","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet","require":"Package[pe-puppetserver]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver code-manager-v1","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","code-manager-v1","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.code-manager.services/code-manager-v1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver code-manager-v1","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver remote-activity-reporter","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","remote-activity-reporter","class","puppet_enterprise::master::code_manager","master","code_manager","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac-client.services.activity/remote-activity-reporter\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver remote-activity-reporter","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver file-sync-client-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-client-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.enterprise.services.file-sync-client.file-sync-client-service/file-sync-client-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver file-sync-client-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver file-sync-web-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-web-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.enterprise.services.file-sync-web-service.file-sync-web-service/file-sync-web-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver file-sync-web-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver file-sync-versioned-code-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-versioned-code-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.enterprise.services.file-sync.file-sync-versioned-code-service/file-sync-versioned-code-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver file-sync-versioned-code-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver file-sync-storage-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","file-sync-storage-service","class","puppet_enterprise::master::file_sync","master","file_sync","puppet_enterprise::profile::master","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.enterprise.services.file-sync-storage.file-sync-storage-service/file-sync-storage-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver file-sync-storage-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]","group":"pe-puppet"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver analytics-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","analytics-service","class","puppet_enterprise::trapperkeeper::analytics","analytics","puppet_enterprise::profile::master","profile","master"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.analytics.service/analytics-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_puppetserver analytics-service","notify":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]"}},{"type":"Exec","title":"/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8","tags":["exec","puppet_enterprise::certs::pk8_cert","puppet_enterprise","certs","pk8_cert","puppet_enterprise::certs","pe-puppetdb","class","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/pk8_cert.pp","line":22,"exported":false,"parameters":{"command":"openssl pkcs8 -topk8 -inform PEM -outform DER -in /etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem -out /etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8 -nocrypt","path":["/opt/puppetlabs/puppet/bin","/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin"],"onlyif":"test ! -e '/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8' -o '/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8' -ot '/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem'","notify":"Service[pe-puppetdb]"}},{"type":"File","title":"/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8","tags":["file","puppet_enterprise::certs::pk8_cert","puppet_enterprise","certs","pk8_cert","puppet_enterprise::certs","pe-puppetdb","class","puppet_enterprise::profile::puppetdb","profile","puppetdb"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/pk8_cert.pp","line":32,"exported":false,"parameters":{"ensure":"present","owner":"pe-puppetdb","group":"pe-puppetdb","mode":"0400","before":"Exec[pe-puppetdb service full restart]","require":"Package[pe-puppetdb]","notify":"Service[pe-puppetdb]"}},{"type":"File","title":"/opt/puppetlabs/server/data/staging/pe_repo-puppet-agent-6.4.3","tags":["file","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/repo.pp","line":49,"exported":false,"parameters":{"ensure":"directory","mode":"0644","owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3","tags":["file","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/repo.pp","line":72,"exported":false,"parameters":{"ensure":"directory","mode":"0755","owner":"root","group":"root"}},{"type":"Pe_staging::Deploy","title":"puppet-agent-el-7-x86_64.tar.gz","tags":["pe_staging::deploy","pe_staging","deploy","puppet-agent-el-7-x86_64.tar.gz","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/repo.pp","line":78,"exported":false,"parameters":{"source":"https://pm.puppetlabs.com/puppet-agent/2019.1.1/6.4.3/repos/puppet-agent-el-7-x86_64.tar.gz","staging_path":"/opt/puppetlabs/server/data/staging/pe_repo-puppet-agent-6.4.3/puppet-agent-el-7-x86_64.tar.gz","target":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3","creates":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/repodata","strip":"5","require":["File[/opt/puppetlabs/server/data/packages/public]","File[/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3]"],"mode":"0755","curl_option":""}},{"type":"Puppet_enterprise::Set_owner_group_permissions","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3","tags":["puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/repo.pp","line":91,"exported":false,"parameters":{"file_mode":"0644","dir_mode":"0755","owner":"root","group":"root","target_type":"directory","target":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1","tags":["file","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/repo.pp","line":99,"exported":false,"parameters":{"ensure":"directory","mode":"0755","owner":"root","group":"root"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/install.bash","tags":["file","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/repo.pp","line":112,"exported":false,"parameters":{"ensure":"file","mode":"0644","owner":"root","group":"root","content":"#! /bin/bash\nset -u\nset -e\n\n\n#! /bin/bash\n\nPUPPET_CONF_DIR=\"/etc/puppetlabs/puppet\"\nPUPPET_BIN_DIR=\"/opt/puppetlabs/bin\"\nPUPPET_INTERNAL_BIN_DIR=\"/opt/puppetlabs/puppet/bin\"\nDEFAULT_CA_CERT=\"/etc/puppetlabs/puppet/ssl/certs/ca.pem\"\n\n# Create global variables to track the desired state of the puppet service.\n# Default state will be running and enabled unless changed in the\n# custom_puppet_configuration function. These variables are used in the\n# manage_puppet_agent function after installation.\nPUPPET_SERVICE_ENSURE='running'\nPUPPET_SERVICE_ENABLE='true'\nPUPPET_SERVICE_DEBUG=''\n\nfail() { echo >&2 \"$@\"; exit 1; }\ncmd()  { hash \"$1\" >&/dev/null; } # portable 'which'\n\nif [ -z \"${CLEANUP[*]+x}\" ]; then\n  declare -a CLEANUP\n  CLEANUP=()\nfi\n\ncleanup() {\n for cmd in \"${CLEANUP[@]}\"\n do\n   $cmd\n done\n}\n\ntrap cleanup EXIT\n\ncleanup_add_cmd() {\n  CLEANUP=(\"${CLEANUP[@]-}\" \"$1\")\n}\n\ntrace() {\n  ${FRICTIONLESS_TRACE:-false}\n}\n\npuppet_installed() {\n  if [ -x \"${PUPPET_BIN_DIR?}/puppet\" ]; then\n    return 0\n  else\n    return 1\n  fi\n}\n\npxp_present() {\n    if [ -x \"${PUPPET_INTERNAL_BIN_DIR}/pxp-agent\" ]; then\n        return 0\n    else\n        return 1\n    fi\n}\n\n# Echo back either the AIO puppet bin dir path, or PE 3.x pe-agent\n# puppet bin dir.\npuppet_bin_dir() {\n    if [ -e \"${PUPPET_BIN_DIR?}\" ]; then\n        t_puppet_bin_dir=\"${PUPPET_BIN_DIR?}\"\n    else\n        t_puppet_bin_dir=/opt/puppet/bin\n    fi\n    echo \"${t_puppet_bin_dir?}\"\n}\n\nmktempfile() {\n  if cmd mktemp; then\n    if [ \"osx\" = \"${PLATFORM_NAME}\" ]; then\n      mktemp -t installer\n    else\n      mktemp\n    fi\n  else\n    echo \"/tmp/puppet-enterprise-installer.XXX-${RANDOM}\"\n  fi\n}\n\ncustom_puppet_configuration() {\n  # Parse optional pre-installation configuration of Puppet settings via\n  # command-line arguments. Arguments should be one of the valid flags,\n  # or else a section/setting/value directive.\n  #\n  # Valid Flags:\n  #\n  # --puppet-service-ensure <value>\n  # --puppet-service-enable <value>\n  #\n  # Section / Setting / Value directives:\n  #\n  #   <section>:<setting>=<value>\n  #\n  # There are four valid section settings in puppet.conf: \"main\", \"master\",\n  # \"agent\", \"user\". If you provide valid setting and value for one of these\n  # four sections, it will end up in <confdir>/puppet.conf.\n  #\n  # There are two sections in csr_attributes.yaml: \"custom_attributes\" and\n  # \"extension_requests\". If you provide valid setting and value for one\n  # of these two sections, it will end up in <confdir>/csr_attributes.yaml.\n  #\n  # note:Custom Attributes are only present in the CSR, while Extension\n  # Requests are both in the CSR and included as X509 extensions in the\n  # signed certificate (and are thus available as \"trusted facts\" in Puppet).\n  #\n  # Regex is authoritative for valid sections, settings, and values.  Any\n  # non-flag input that fails regex will trigger this script to fail with error\n  # message.\n  regex='^(main|master|agent|user|custom_attributes|extension_requests):([^=]+)=(.*)$'\n  declare -a attr_array\n  declare -a extn_array\n\n  while (( \"$#\" )); do\n    if [[ $1 == '--puppet-service-ensure' ]]; then\n      shift; PUPPET_SERVICE_ENSURE=\"$1\"\n    elif [[ $1 == '--puppet-service-enable' ]]; then\n      shift; PUPPET_SERVICE_ENABLE=\"$1\"\n    elif [[ $1 == '--puppet-service-debug' ]]; then\n      PUPPET_SERVICE_DEBUG='--debug'\n    elif [[ $1 =~ $regex ]]; then\n      section=${BASH_REMATCH[1]}\n      setting=${BASH_REMATCH[2]}\n      value=${BASH_REMATCH[3]}\n      case $section in\n        custom_attributes)\n          # Store the entry in attr_array for later addition to csr_attributes.yaml\n          attr_array=(\"${attr_array[@]}\" \"${setting}: '${value}'\")\n          ;;\n        extension_requests)\n          # Store the entry in extn_array for later addition to csr_attributes.yaml\n          extn_array=(\"${extn_array[@]}\" \"${setting}: '${value}'\")\n          ;;\n        *)\n          # Set the specified entry in puppet.conf\n          \"${PUPPET_BIN_DIR?}/puppet\" config set \"$setting\" \"$value\" --section \"$section\"\n      esac\n    else\n      fail \"Unable to interpret argument: '${1}'. Expected flag or '<section>:<setting>=<value>' matching regex: '${regex}'\"\n    fi\n\n    shift\n  done\n\n  # If the the length of the attr_array or extn_array is greater than zero, it\n  # means we have settings, so we'll create the csr_attributes.yaml file.\n  if [[ ${#attr_array[@]} -gt 0 || ${#extn_array[@]} -gt 0 ]]; then\n    mkdir -p \"${PUPPET_CONF_DIR}\"\n    echo '---' > \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n\n    if [[ ${#attr_array[@]} -gt 0 ]]; then\n      echo 'custom_attributes:' >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      for ((i = 0; i < ${#attr_array[@]}; i++)); do\n        echo \"  ${attr_array[i]}\" >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      done\n    fi\n\n    if [[ ${#extn_array[@]} -gt 0 ]]; then\n      echo 'extension_requests:' >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      for ((i = 0; i < ${#extn_array[@]}; i++)); do\n        echo \"  ${extn_array[i]}\" >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      done\n    fi\n  fi\n}\n\nensure_link() {\n  \"${PUPPET_BIN_DIR?}/puppet\" resource file \"${1?}\" ensure=link target=\"${2?}\"\n}\n\nensure_agent_links() {\n  target_path=\"/usr/local/bin\"\n\n  if mkdir -p \"${target_path}\" && [ -w \"${target_path}\" ]; then\n    for bin in facter puppet pe-man hiera; do\n      ensure_link \"${target_path}/${bin}\" \"${PUPPET_BIN_DIR?}/${bin}\"\n    done\n  else\n    echo \"!!! WARNING: ${target_path} is inaccessible; unable to create convenience symlinks for puppet, hiera, facter and pe-man.  These executables may be found in ${pe_path?}.\" 1>&2\n  fi\n}\n\n# Detected existing installation? Return y if true, else n\nis_upgrade() {\n  if puppet_installed; then\n    echo \"y\"\n  else\n    echo \"n\"\n  fi\n}\n\n# Sets server, certname and any custom puppet.conf flags passed in to the script\npuppet_config_set() {\n  \"${PUPPET_BIN_DIR?}/puppet\" config set server pe-xl-core-0.puppet.vm --section main\n  \"${PUPPET_BIN_DIR?}/puppet\" config set certname \"$(\"${PUPPET_BIN_DIR?}/facter\" fqdn | \"${PUPPET_INTERNAL_BIN_DIR?}/ruby\" -e 'puts STDIN.read.downcase')\" --section main\n  custom_puppet_configuration \"$@\"\n\n  # To ensure the new config settings take place and to work around differing OS behaviors on recieving a service start command while running\n  # (on nix it triggers a puppet run, on osx it does nothing), stop the service before attempting to manage anything else.\n  stop_puppet_agent\n}\n\nrestart_puppet_agent() {\n  \"${PUPPET_BIN_DIR?}/puppet\" resource service puppet ensure=stopped\n  \"${PUPPET_BIN_DIR?}/puppet\" resource service puppet ensure=running enable=true\n}\n\nstart_puppet_agent() {\n  \"${PUPPET_BIN_DIR?}/puppet\" resource service puppet ensure=running enable=true\n}\n\nstop_puppet_agent() {\n  \"$(puppet_bin_dir)/puppet\" resource service puppet ensure=stopped\n  wait_for_puppet_lock\n}\n\nmanage_puppet_agent() {\n  # If the state of the puppet service should be changed from its default of running and enabled,\n  # print a message that indicates we will be doing so.\n  if [[ $PUPPET_SERVICE_ENSURE != \"running\" ]] || [[ $PUPPET_SERVICE_ENABLE != \"true\" ]]; then\n    echo \"Setting the puppet service to ensure=$PUPPET_SERVICE_ENSURE and enable=$PUPPET_SERVICE_ENABLE\"\n  fi\n\n  \"$(puppet_bin_dir)/puppet\" resource ${PUPPET_SERVICE_DEBUG} service puppet ensure=\"$PUPPET_SERVICE_ENSURE\" enable=\"$PUPPET_SERVICE_ENABLE\"\n}\n\npxp_agent_status() {\n  output=$(\"$(puppet_bin_dir)/puppet\" resource service pxp-agent 2> /dev/null)\n  case ${output?} in\n    *ensure*=\\>*running*)\n      echo \"running\";;\n    *)\n      echo \"stopped\";;\n  esac\n}\n\nensure_service() {\n    pkg=${1?}\n    state=${2?}\n    \"$(puppet_bin_dir)/puppet\" resource service \"${pkg?}\" ensure=\"${state?}\"\n    return $?\n}\n\nwait_for_puppet_lock() {\n  t_puppet_run_lock=$(\"$(puppet_bin_dir)/puppet\" agent --configprint agent_catalog_run_lockfile)\n  while [ -f \"${t_puppet_run_lock?}\" ]; do\n      echo \"Waiting for Agent run lock ${t_puppet_run_lock?} to clear...\"\n      sleep 10\n  done\n}\n\nrequire_tlsv1() {\n  if [[ \"$PLATFORM_RELEASE\" == \"5\" && (\"$PLATFORM_NAME\" == \"rhel\" || \"$PLATFORM_NAME\" == \"centos\") ]]; then\n    return\n  elif [[ \"$PLATFORM_RELEASE\" == \"10\" && ($PLATFORM_NAME =~ solaris) ]]; then\n    return\n  fi\n  false\n}\n\n# Returns 0 if the script has been explicitly flagged to use a local Puppet CA\n# cert, or if we can find the Puppet master server's ca cert on disk at\n# /etc/puppetlabs/puppet/ssl/certs/ca.pem\nuse_puppet_master_ca_cert() {\n  [ \"${FRICTIONLESS_USE_PUPPET_CA:-false}\" = \"true\" ] || [ -f $DEFAULT_CA_CERT ]\n}\n\n# Use curl to download the requested url and store it in the given file.\n# Fallback to wget if curl is not present\n# Raise an error if neither is present.\n#\n# tlsv1 is enforced.\n#\n# If /etc/puppetlabs/puppet/ssl/certs/ca.pem is present, this certificate will\n# be used to verify the connection with the Puppet master server. Otherwise\n# validity of the server certificate will not be checked.\n#\n# Arguments:\n#   1. source_url to download (required)\n#   2. output_file to store it in locally.\n#      *If not given, streams to stdout.*\n#   3. additional_options to be expanded into the argument list\ncurl_or_wget() {\n  local t_source_url=${1?}\n  local t_output_file=$2\n  local t_additional_options=$3\n  local t_cmd\n  local t_ssl_options\n  local t_output_option\n\n  declare -a t_options\n\n  if cmd curl; then\n    t_cmd='curl'\n\n    if use_puppet_master_ca_cert; then\n      t_ssl_options=\"--cacert $DEFAULT_CA_CERT\"\n    elif curl_has_peer_verify_by_default; then\n      # we need to disable it\n      t_ssl_options=\"-k\"\n    else\n      # older curl on AIX doesn't support -k, but running without peer\n      # verification is the default behavior\n      t_ssl_options=\"--tlsv1\"\n    fi\n    if require_tlsv1; then\n      t_ssl_options+=\" --tlsv1\"\n    fi\n\n    if [ -n \"$t_output_file\" ]; then\n      t_output_option=\"-o ${t_output_file}\"\n    fi\n  elif cmd wget; then\n    # wget on AIX doesn't support SSL\n    [ \"$PLATFORM_NAME\" = \"aix\" ] && fail \"Unable to download installation materials without curl\"\n\n    t_cmd='wget'\n\n    if use_puppet_master_ca_cert; then\n      t_ssl_options=\"--ca-certificate=$DEFAULT_CA_CERT\"\n    else\n      t_ssl_options=\"--no-check-certificate\"\n    fi\n    if require_tlsv1; then\n      t_ssl_options+=\" --secure-protocol=TLSv1\"\n    fi\n\n    if [ -n \"$t_output_file\" ]; then\n      t_output_option=\"-O ${t_output_file}\"\n    else\n      # to stdout\n      t_output_option=\"-O -\"\n    fi\n  else\n    fail \"Couldn't find curl or wget; unable to continue.\"\n  fi\n\n  # options are intentionaly unquoted so that they break into elements in the\n  # options array\n  # shellcheck disable=SC2206\n  local t_options=($t_ssl_options $t_output_option $t_additional_options \"$t_source_url\" )\n\n  trace && echo >&2 \"+ $t_cmd\" \"${t_options[@]}\"\n  \"$t_cmd\" \"${t_options[@]}\"\n  local t_err_code=$?\n\n  if [ $t_err_code -ne 0 ]; then\n    echo >&2 \"E: '$t_cmd\" \"${t_options[@]}\" \"' failed (exit_code: $t_err_code)\"\n  fi\n\n  return $t_err_code\n}\n\n# Makes a curl_or_wget call with the appropriate flag to silence output\n# added in.\ncurl_or_wget_quietly() {\n  local t_additional_options=$3\n\n  if cmd curl; then\n    t_additional_options=\"${t_additional_options} -s\"\n  else\n    t_additional_options=\"${t_additional_options} --quiet\"\n  fi\n\n  curl_or_wget \"$1\" \"$2\" \"${t_additional_options?}\"\n}\n\n# In version 7.10.0 curl introduced the -k flag and performs peer\n# certificate validation by default. If peer validation is performed by\n# default the -k flag is necessary for this script to work. However, if curl\n# is older than 7.10.0 the -k flag does not exist.\n#\n# Return 0 if the -k flag should be used.\ncurl_has_peer_verify_by_default() {\n  curl_ver_regex='curl ([0-9]+)\\.([0-9]+)\\.([0-9]+)'\n  [[ \"$(curl -V 2>/dev/null)\" =~ $curl_ver_regex ]]\n  curl_majv=\"${BASH_REMATCH[1]-7}\"  # Default to 7  if no match\n  curl_minv=\"${BASH_REMATCH[2]-10}\" # Default to 10 if no match\n  if [[ \"$curl_majv\" -eq 7 && \"$curl_minv\" -le 9 ]] || [[ \"$curl_majv\" -lt 7 ]]; then\n    return 1\n  else\n    return 0\n  fi\n}\n\n# XXX Remove -- still used by aix template\ncurl_no_peer_verify() {\n  curl_ver_regex='curl ([0-9]+)\\.([0-9]+)\\.([0-9]+)'\n  [[ \"$(curl -V 2>/dev/null)\" =~ $curl_ver_regex ]]\n  curl_majv=\"${BASH_REMATCH[1]-7}\"  # Default to 7  if no match\n  curl_minv=\"${BASH_REMATCH[2]-10}\" # Default to 10 if no match\n  if [[ \"$curl_majv\" -eq 7 && \"$curl_minv\" -le 9 ]] || [[ \"$curl_majv\" -lt 7 ]]; then\n    curl_invocation=\"curl\"\n  else\n    curl_invocation=\"curl -k\"\n  fi\n\n  $curl_invocation \"$@\"\n}\n\n# Returns the http code returned by curl or wget attempting to reach the given url.\n# (The file itself is not downloaded)\n#\n# Arguments:\n#     1. t_url to touch (Required)\ncheck_http_code() {\n  local t_url=\"${1?}\"\n\n  if cmd curl; then\n    t_http_code=$(curl_or_wget \"${t_url?}\" /dev/null \"-s --head --write-out %{http_code}\")\n  elif cmd wget; then\n    # Run wget and use awk to figure out the HTTP status.\n    t_http_code=$(curl_or_wget \"${t_url?}\" /dev/null '-S' 2>&1 | awk '/HTTP\\/1.1/ { printf $2 }')\n  fi\n  echo \"$t_http_code\"\n}\n\n# Uses curl, or if not present, wget to download file from passed http url to a\n# temporary location.\n#\n# Arguments\n# 1. The url to download\n# 2. The file to save it as\n#\n# Returns 0 for 200 http exit code, 1 for all other http exit codes\n#\n# May exit early if the underlying command fails.\ndownload_from_url() {\n    local t_url=\"${1?}\"\n    local t_file=\"${2?}\"\n\n    if cmd curl; then\n        t_http_code=\"$(curl_or_wget_quietly \"${t_url?}\" \"${t_file?}\" \"-L --write-out %{http_code}\")\"\n    elif cmd wget; then\n        # Run wget and use awk to figure out the HTTP status.\n        # (Note that this unfortunately has the side effect of swallowing trace\n        # of the wget command issued in curl_or_wget(), since wget sends http\n        # info to stderr as well)\n        t_http_code=$(curl_or_wget_quietly \"${t_url?}\" \"${t_file?}\" '-S' 2>&1 | awk '/HTTP\\/1.1/ { printf $2 }')\n    fi\n\n    local t_err_code=$?\n    if [ $t_err_code -ne 0 ]; then\n        fail \"Error code ${t_err_code} attempting to reach ${t_url}\"\n    fi\n\n    if [ \"${t_http_code?}\" == \"200\" ]; then\n        return 0\n    else\n        return 1\n    fi\n}\n\nsupported_platform() {\n  # Because of differences between how regex works between bash versions this\n  # regex MUST be in a variable and passed into the test below UNQUOTED.\n  t_supported_platform_regex='(el-(5|6|7|8)-(i386|x86_64|s390x|ppc64le|aarch64))|(redhatfips-7-x86_64)|(debian-(8|9)-(i386|amd64))|(ubuntu-(14\\.04|16\\.04)-(i386|amd64|ppc64el))|(ubuntu-18\\.04-amd64)|(sles-(11|12|15)-(i386|x86_64|s390x|ppc64le))|(fedora-(26|27|28|29|30)-(x86_64))|(solaris-(10|11)-(i386|sparc))|(aix-(6\\.1|7\\.1)-power)|(osx-10\\.(12|13|14)-x86_64)'\n  [[ \"${1?}\" =~ ${t_supported_platform_regex:?} ]]\n}\n\nbulk_pluginsync() {\n  t_bulk_pluginsync_url=\"${1?}\"\n  t_bulk_pluginsync_file=$(mktempfile)\n\n  echo \"bulk downloading plugins\"\n  download_from_url \"${t_bulk_pluginsync_url?}\" \"${t_bulk_pluginsync_file?}\"\n\n  echo \"extracting plugins\"\n  mkdir -p /opt/puppetlabs/puppet/cache\n  cd /opt/puppetlabs/puppet/cache || exit\n  gunzip -c \"${t_bulk_pluginsync_file}\" | tar -xf -\n}\n\nrun_agent_install_from_url() {\n    t_agent_install_url=\"${1?}\"\n\n    t_install_file=$(mktempfile)\n\n    cleanup_add_cmd 'rm '\"${t_install_file}\"\n\n    if ! download_from_url \"${t_agent_install_url?}\" \"${t_install_file?}\"; then\n        if supported_platform \"${PLATFORM_TAG?}\"; then\n            fail \"The agent packages needed to support ${PLATFORM_TAG} are not present on your master. \\\n    To add them, apply the pe_repo::platform::$(echo \"${PLATFORM_TAG?}\" | tr - _ | tr -dc '[a-z][A-Z][0-9]_') class to your master node and then run Puppet. \\\n    The required agent packages should be retrieved when puppet runs on the master, after which you can run the install.bash script again.\"\n        else\n            fail \"This method of agent installation is not supported for ${PLATFORM_TAG?} in Puppet Enterprise v2019.1.1\"\n        fi\n    fi\n\n    bash \"${t_install_file?}\" \"${@: 2}\" || fail \"Error running install script ${t_install_file?}\"\n}\n\n# vim: ft=sh\n\n#! /bin/bash\n\n# Sets PLATFORM_NAME to a value that PE expects\n#\n# Arguments:\n# PLATFORM_NAME\n# RELEASE_FILE\n#\n# Side-effect:\n# Modifies PLATFORM_NAME\nfunction sanitize_platform_name() {\n    # Sanitize name for unusual platforms\n    case \"${PLATFORM_NAME?}\" in\n        redhatenterpriseserver | redhatenterpriseclient | redhatenterpriseas | redhatenterprisees | enterpriseenterpriseserver | redhatenterpriseworkstation | redhatenterprisecomputenode | oracleserver)\n            PLATFORM_NAME=rhel\n            ;;\n        enterprise*)\n            PLATFORM_NAME=centos\n            ;;\n        scientific | scientifics | scientificsl)\n            PLATFORM_NAME=rhel\n            ;;\n        oracle | ol)\n            PLATFORM_NAME=rhel\n            ;;\n        'suse linux' | sles_sap )\n            PLATFORM_NAME=sles\n            ;;\n        amazonami | amzn)\n            PLATFORM_NAME=amazon\n            ;;\n    esac\n\n    if [ -r \"${RELEASE_FILE:-}\" ] && grep -E \"Cumulus Linux\" \"${RELEASE_FILE}\" &> /dev/null; then\n        PLATFORM_NAME=cumulus\n    fi\n}\n\n# Sets PLATFORM_RELEASE to a value that PE expects\n#\n# Arguments:\n# PLATFORM_NAME\n# PLATFORM_RELEASE\n#\n# Side-effect:\n# Modifies PLATFORM_RELEASE\nfunction sanitize_platform_release() {\n    # Sanitize release for unusual platforms\n    case \"${PLATFORM_NAME?}\" in\n        centos | rhel | sles | solaris)\n            # Platform uses only number before period as the release,\n            # e.g. \"CentOS 5.5\" is release \"5\"\n            PLATFORM_RELEASE=$(echo -n \"${PLATFORM_RELEASE?}\" | cut -d. -f1)\n            ;;\n        amazon)\n            # This line will parse the image_name: image_name=\"amzn2-ami-hvm\"\n            # Amazon linux v1 will be similar to: image_name=\"amzn-ami-hvm\"\n            t_image_name=$(grep image_name /etc/image-id | cut -d\\\" -f2 | cut -d- -f1)\n            if [ -z \"$t_image_name\" ]; then\n                fail \"Unable to parse Amazon Linux version info from /etc/image-id\"\n            else\n                if [ \"$t_image_name\" == \"amzn2\" ]; then\n                    PLATFORM_RELEASE=7\n                else\n                    PLATFORM_RELEASE=6\n                fi\n            fi\n            ;;\n        debian)\n            # Platform uses only number before period as the release,\n            # e.g. \"Debian 6.0.1\" is release \"6\"\n            PLATFORM_RELEASE=$(echo -n \"${PLATFORM_RELEASE?}\" | cut -d. -f1)\n            if [ \"${PLATFORM_RELEASE}\" = \"testing\" ] ; then\n                PLATFORM_RELEASE=7\n            fi\n            ;;\n        cumulus)\n            PLATFORM_RELEASE=$(echo -n \"${PLATFORM_RELEASE?}\" | cut -d'.' -f'1,2')\n            ;;\n    esac\n}\n\n##############################################################################\n# We need to know what the PE platform tag is for this node, which requires\n# digging through a bunch of data to extract it.  This is currently the best\n# mechanism available to do this, which is copied from the PE\n# installer itself.\n\n# shellcheck source=/dev/null\nif [ -z \"${PLATFORM_NAME:-\"\"}\" ] || [ -z \"${PLATFORM_RELEASE:-\"\"}\" ]; then\n    # https://www.freedesktop.org/software/systemd/man/os-release.html#Description\n    # Try /etc/os-release first, then /usr/lib/os-release, then legacy pre-systemd methods\n    if [ -f \"/etc/os-release\" ] || [ -f \"/usr/lib/os-release\" ]; then\n        if [ -f \"/etc/os-release\" ]; then\n            RELEASE_FILE=\"/etc/os-release\"\n        else\n            RELEASE_FILE=\"/usr/lib/os-release\"\n        fi\n        PLATFORM_NAME=$(source \"${RELEASE_FILE}\"; echo -n \"${ID}\")\n        sanitize_platform_name\n        PLATFORM_RELEASE=$(source \"${RELEASE_FILE}\"; echo -n \"${VERSION_ID}\")\n        sanitize_platform_release\n\n        # For el-7 platforms we also support FIPS mode, which changes the platform name\n        if [[ \"$PLATFORM_RELEASE\" == \"7\" && (\"$PLATFORM_NAME\" == \"rhel\" || \"$PLATFORM_NAME\" == \"centos\") ]]; then\n            if [ -f \"/proc/sys/crypto/fips_enabled\" ]; then\n                t_fips_status=\"$(cat /proc/sys/crypto/fips_enabled)\"\n                if [ \"$t_fips_status\" == \"1\" ]; then\n                    PLATFORM_NAME='redhatfips'\n                fi\n            fi\n        fi\n    # Try identifying using lsb_release.  This takes care of Ubuntu\n    # (lsb-release is part of ubuntu-minimal).\n    elif type lsb_release > /dev/null 2>&1; then\n        t_prepare_platform=$(lsb_release -icr 2>&1)\n\n        PLATFORM_NAME=\"$(echo -n \"${t_prepare_platform?}\" | grep -E '^Distributor ID:' | cut -s -d: -f2 | sed 's/[[:space:]]//' | tr '[:upper:]' '[:lower:]')\"\n        sanitize_platform_name\n\n        # Release\n        PLATFORM_RELEASE=\"$(echo -n \"${t_prepare_platform?}\" | grep -E '^Release:' | cut -s -d: -f2 | sed 's/[[:space:]]//g')\"\n        sanitize_platform_release\n    elif [ \"x$(uname -s)\" = \"xDarwin\" ]; then\n        PLATFORM_NAME=\"osx\"\n        # sw_vers returns something like 10.9.2, but we only want 10.9 so chop off the end\n        t_platform_release=\"$(/usr/bin/sw_vers -productVersion | cut -d'.' -f1,2)\"\n        PLATFORM_RELEASE=\"${t_platform_release?}\"\n    # Test for Solaris.\n    elif [ \"x$(uname -s)\" = \"xSunOS\" ]; then\n        PLATFORM_NAME=\"solaris\"\n        t_platform_release=\"$(uname -r)\"\n        # JJM We get back 5.10 but we only care about the right side of the decimal.\n        PLATFORM_RELEASE=\"${t_platform_release##*.}\"\n    elif [ \"x$(uname -s)\" = \"xAIX\" ] ; then\n        # All versions of AIX use aix 6.1 packages\n        PLATFORM_NAME=\"aix\"\n        PLATFORM_RELEASE=\"6.1\"\n\n    # Test for RHEL variant. RHEL, CentOS, OEL\n    elif [ -f /etc/redhat-release ] && [ -r /etc/redhat-release ] && [ -s /etc/redhat-release ]; then\n        # Oracle Enterprise Linux 5.3 and higher identify the same as RHEL\n        if grep -qi 'red hat enterprise' /etc/redhat-release; then\n            PLATFORM_NAME=rhel\n        elif grep -qi 'centos' /etc/redhat-release; then\n            PLATFORM_NAME=centos\n        elif grep -qi 'scientific' /etc/redhat-release; then\n            PLATFORM_NAME=rhel\n        elif grep -qi 'fedora' /etc/redhat-release; then\n            PLATFORM_NAME='fedora'\n        fi\n        # Release - take first digits after ' release ' only.\n        PLATFORM_RELEASE=\"$(sed 's/.*\\ release\\ \\([[:digit:]]\\+\\).*/\\1/g;q' /etc/redhat-release)\"\n\n    # Test for Debian releases\n    elif [ -f /etc/debian_version ] && [ -r /etc/debian_version ] && [ -s /etc/debian_version ]; then\n        t_prepare_platform__debian_version_file=\"/etc/debian_version\"\n\n        if grep -qE '^[[:digit:]]' \"${t_prepare_platform__debian_version_file?}\"; then\n            PLATFORM_NAME=debian\n            PLATFORM_RELEASE=\"$(sed 's/\\..*//' \"${t_platform_release__debian_version_file?}\")\"\n        elif grep -qE '^wheezy' \"${t_prepare_platform__debian_version_file?}\"; then\n            PLATFORM_NAME=debian\n            PLATFORM_RELEASE=\"7\"\n        fi\n    elif [ -f /etc/SuSE-release ] && [ -r /etc/SuSE-release ]; then\n        t_prepare_platform__suse_version=$(cat /etc/SuSE-release)\n\n        if echo -n \"${t_prepare_platform__suse_version?}\" | grep -E 'Enterprise Server'; then\n            PLATFORM_NAME=sles\n            t_version=$(grep VERSION /etc/SuSE-release | sed 's/^VERSION = \\(\\d*\\)/\\1/')\n            PLATFORM_RELEASE=\"${t_version}\"\n        fi\n    elif [ -f /etc/system-release ]; then\n        if grep -qi 'amazon linux' /etc/system-release; then\n          PLATFORM_NAME=amazon\n          sanitize_platform_release\n        else\n            fail \"$(cat /etc/system-release) is not a supported platform for Puppet Enterprise v2019.1.1\n                    Please visit http://links.puppetlabs.com/puppet_enterprise_${PE_LINK_VER?}_platform_support to request support for this platform.\"\n\n        fi\n    elif [ -z \"${PLATFORM_NAME:-\"\"}\" ]; then\n        fail \"$(uname -s) is not a supported platform for Puppet Enterprise v2019.1.1\n            Please visit http://links.puppetlabs.com/puppet_enterprise_${PE_LINK_VER?}_platform_support to request support for this platform.\"\n    fi\nfi\n\nif [ -z \"${PLATFORM_NAME:-\"\"}\" ] || [ -z \"${PLATFORM_RELEASE:-\"\"}\" ]; then\n    fail \"Unknown platform\"\nfi\n\n# Architecture\nif [ -z \"${PLATFORM_ARCHITECTURE:-\"\"}\" ]; then\n    case \"${PLATFORM_NAME?}\" in\n        solaris | aix )\n            PLATFORM_ARCHITECTURE=\"$(uname -p)\"\n            if [ \"${PLATFORM_ARCHITECTURE}\" = \"powerpc\" ] ; then\n                PLATFORM_ARCHITECTURE='power'\n            fi\n            ;;\n        debian | ubuntu )\n            PLATFORM_ARCHITECTURE=\"$(uname -m)\"\n            if [ \"${PLATFORM_ARCHITECTURE}\" = \"ppc64le\" ] ; then\n                # Debian/Ubuntu name their package arch for Power8 as 'ppc64el'\n                PLATFORM_ARCHITECTURE='ppc64el'\n            fi\n            ;;\n        *)\n            PLATFORM_ARCHITECTURE=\"$(uname -m)\"\n            ;;\n    esac\n\n    case \"${PLATFORM_ARCHITECTURE?}\" in\n        x86_64)\n            case \"${PLATFORM_NAME?}\" in\n                ubuntu | debian )\n                    PLATFORM_ARCHITECTURE=amd64\n                    ;;\n            esac\n            ;;\n        i686)\n            PLATFORM_ARCHITECTURE=i386\n            ;;\n        ppc)\n            PLATFORM_ARCHITECTURE=powerpc\n            ;;\n    esac\nfi\n\n# Tag\nif [ -z \"${PLATFORM_TAG:-\"\"}\" ]; then\n    case \"${PLATFORM_NAME?}\" in\n        # Enterprise linux (centos & rhel) share the same packaging\n        # Amazon linux is similar enough for our packages\n        rhel | centos | amazon )\n            PLATFORM_TAG=\"el-${PLATFORM_RELEASE?}-${PLATFORM_ARCHITECTURE?}\"\n            ;;\n        *)\n            PLATFORM_TAG=\"${PLATFORM_NAME?}-${PLATFORM_RELEASE?}-${PLATFORM_ARCHITECTURE?}\"\n            ;;\n    esac\nfi\n\n# This is the end of the code copied from the upstream installer.\n##############################################################################\n\n# vim: ft=sh\n\n\n\nbulk_pluginsync \"https://pe-xl-core-0.puppet.vm:8140/packages/bulk_pluginsync.tar.gz\"\n\nrun_agent_install_from_url \"https://pe-xl-core-0.puppet.vm:8140/packages/2019.1.1/${PLATFORM_TAG}.bash\" \"$@\"\n\n# ...and we should be good.\nexit 0\n\n# vim: ft=sh\n"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/upgrade.bash","tags":["file","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/repo.pp","line":120,"exported":false,"parameters":{"ensure":"file","mode":"0644","owner":"root","group":"root","content":"#! /bin/bash\nset -u\nset -e\n\n\n#! /bin/bash\n\nPUPPET_CONF_DIR=\"/etc/puppetlabs/puppet\"\nPUPPET_BIN_DIR=\"/opt/puppetlabs/bin\"\nPUPPET_INTERNAL_BIN_DIR=\"/opt/puppetlabs/puppet/bin\"\nDEFAULT_CA_CERT=\"/etc/puppetlabs/puppet/ssl/certs/ca.pem\"\n\n# Create global variables to track the desired state of the puppet service.\n# Default state will be running and enabled unless changed in the\n# custom_puppet_configuration function. These variables are used in the\n# manage_puppet_agent function after installation.\nPUPPET_SERVICE_ENSURE='running'\nPUPPET_SERVICE_ENABLE='true'\nPUPPET_SERVICE_DEBUG=''\n\nfail() { echo >&2 \"$@\"; exit 1; }\ncmd()  { hash \"$1\" >&/dev/null; } # portable 'which'\n\nif [ -z \"${CLEANUP[*]+x}\" ]; then\n  declare -a CLEANUP\n  CLEANUP=()\nfi\n\ncleanup() {\n for cmd in \"${CLEANUP[@]}\"\n do\n   $cmd\n done\n}\n\ntrap cleanup EXIT\n\ncleanup_add_cmd() {\n  CLEANUP=(\"${CLEANUP[@]-}\" \"$1\")\n}\n\ntrace() {\n  ${FRICTIONLESS_TRACE:-false}\n}\n\npuppet_installed() {\n  if [ -x \"${PUPPET_BIN_DIR?}/puppet\" ]; then\n    return 0\n  else\n    return 1\n  fi\n}\n\npxp_present() {\n    if [ -x \"${PUPPET_INTERNAL_BIN_DIR}/pxp-agent\" ]; then\n        return 0\n    else\n        return 1\n    fi\n}\n\n# Echo back either the AIO puppet bin dir path, or PE 3.x pe-agent\n# puppet bin dir.\npuppet_bin_dir() {\n    if [ -e \"${PUPPET_BIN_DIR?}\" ]; then\n        t_puppet_bin_dir=\"${PUPPET_BIN_DIR?}\"\n    else\n        t_puppet_bin_dir=/opt/puppet/bin\n    fi\n    echo \"${t_puppet_bin_dir?}\"\n}\n\nmktempfile() {\n  if cmd mktemp; then\n    if [ \"osx\" = \"${PLATFORM_NAME}\" ]; then\n      mktemp -t installer\n    else\n      mktemp\n    fi\n  else\n    echo \"/tmp/puppet-enterprise-installer.XXX-${RANDOM}\"\n  fi\n}\n\ncustom_puppet_configuration() {\n  # Parse optional pre-installation configuration of Puppet settings via\n  # command-line arguments. Arguments should be one of the valid flags,\n  # or else a section/setting/value directive.\n  #\n  # Valid Flags:\n  #\n  # --puppet-service-ensure <value>\n  # --puppet-service-enable <value>\n  #\n  # Section / Setting / Value directives:\n  #\n  #   <section>:<setting>=<value>\n  #\n  # There are four valid section settings in puppet.conf: \"main\", \"master\",\n  # \"agent\", \"user\". If you provide valid setting and value for one of these\n  # four sections, it will end up in <confdir>/puppet.conf.\n  #\n  # There are two sections in csr_attributes.yaml: \"custom_attributes\" and\n  # \"extension_requests\". If you provide valid setting and value for one\n  # of these two sections, it will end up in <confdir>/csr_attributes.yaml.\n  #\n  # note:Custom Attributes are only present in the CSR, while Extension\n  # Requests are both in the CSR and included as X509 extensions in the\n  # signed certificate (and are thus available as \"trusted facts\" in Puppet).\n  #\n  # Regex is authoritative for valid sections, settings, and values.  Any\n  # non-flag input that fails regex will trigger this script to fail with error\n  # message.\n  regex='^(main|master|agent|user|custom_attributes|extension_requests):([^=]+)=(.*)$'\n  declare -a attr_array\n  declare -a extn_array\n\n  while (( \"$#\" )); do\n    if [[ $1 == '--puppet-service-ensure' ]]; then\n      shift; PUPPET_SERVICE_ENSURE=\"$1\"\n    elif [[ $1 == '--puppet-service-enable' ]]; then\n      shift; PUPPET_SERVICE_ENABLE=\"$1\"\n    elif [[ $1 == '--puppet-service-debug' ]]; then\n      PUPPET_SERVICE_DEBUG='--debug'\n    elif [[ $1 =~ $regex ]]; then\n      section=${BASH_REMATCH[1]}\n      setting=${BASH_REMATCH[2]}\n      value=${BASH_REMATCH[3]}\n      case $section in\n        custom_attributes)\n          # Store the entry in attr_array for later addition to csr_attributes.yaml\n          attr_array=(\"${attr_array[@]}\" \"${setting}: '${value}'\")\n          ;;\n        extension_requests)\n          # Store the entry in extn_array for later addition to csr_attributes.yaml\n          extn_array=(\"${extn_array[@]}\" \"${setting}: '${value}'\")\n          ;;\n        *)\n          # Set the specified entry in puppet.conf\n          \"${PUPPET_BIN_DIR?}/puppet\" config set \"$setting\" \"$value\" --section \"$section\"\n      esac\n    else\n      fail \"Unable to interpret argument: '${1}'. Expected flag or '<section>:<setting>=<value>' matching regex: '${regex}'\"\n    fi\n\n    shift\n  done\n\n  # If the the length of the attr_array or extn_array is greater than zero, it\n  # means we have settings, so we'll create the csr_attributes.yaml file.\n  if [[ ${#attr_array[@]} -gt 0 || ${#extn_array[@]} -gt 0 ]]; then\n    mkdir -p \"${PUPPET_CONF_DIR}\"\n    echo '---' > \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n\n    if [[ ${#attr_array[@]} -gt 0 ]]; then\n      echo 'custom_attributes:' >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      for ((i = 0; i < ${#attr_array[@]}; i++)); do\n        echo \"  ${attr_array[i]}\" >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      done\n    fi\n\n    if [[ ${#extn_array[@]} -gt 0 ]]; then\n      echo 'extension_requests:' >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      for ((i = 0; i < ${#extn_array[@]}; i++)); do\n        echo \"  ${extn_array[i]}\" >> \"${PUPPET_CONF_DIR}/csr_attributes.yaml\"\n      done\n    fi\n  fi\n}\n\nensure_link() {\n  \"${PUPPET_BIN_DIR?}/puppet\" resource file \"${1?}\" ensure=link target=\"${2?}\"\n}\n\nensure_agent_links() {\n  target_path=\"/usr/local/bin\"\n\n  if mkdir -p \"${target_path}\" && [ -w \"${target_path}\" ]; then\n    for bin in facter puppet pe-man hiera; do\n      ensure_link \"${target_path}/${bin}\" \"${PUPPET_BIN_DIR?}/${bin}\"\n    done\n  else\n    echo \"!!! WARNING: ${target_path} is inaccessible; unable to create convenience symlinks for puppet, hiera, facter and pe-man.  These executables may be found in ${pe_path?}.\" 1>&2\n  fi\n}\n\n# Detected existing installation? Return y if true, else n\nis_upgrade() {\n  if puppet_installed; then\n    echo \"y\"\n  else\n    echo \"n\"\n  fi\n}\n\n# Sets server, certname and any custom puppet.conf flags passed in to the script\npuppet_config_set() {\n  \"${PUPPET_BIN_DIR?}/puppet\" config set server pe-xl-core-0.puppet.vm --section main\n  \"${PUPPET_BIN_DIR?}/puppet\" config set certname \"$(\"${PUPPET_BIN_DIR?}/facter\" fqdn | \"${PUPPET_INTERNAL_BIN_DIR?}/ruby\" -e 'puts STDIN.read.downcase')\" --section main\n  custom_puppet_configuration \"$@\"\n\n  # To ensure the new config settings take place and to work around differing OS behaviors on recieving a service start command while running\n  # (on nix it triggers a puppet run, on osx it does nothing), stop the service before attempting to manage anything else.\n  stop_puppet_agent\n}\n\nrestart_puppet_agent() {\n  \"${PUPPET_BIN_DIR?}/puppet\" resource service puppet ensure=stopped\n  \"${PUPPET_BIN_DIR?}/puppet\" resource service puppet ensure=running enable=true\n}\n\nstart_puppet_agent() {\n  \"${PUPPET_BIN_DIR?}/puppet\" resource service puppet ensure=running enable=true\n}\n\nstop_puppet_agent() {\n  \"$(puppet_bin_dir)/puppet\" resource service puppet ensure=stopped\n  wait_for_puppet_lock\n}\n\nmanage_puppet_agent() {\n  # If the state of the puppet service should be changed from its default of running and enabled,\n  # print a message that indicates we will be doing so.\n  if [[ $PUPPET_SERVICE_ENSURE != \"running\" ]] || [[ $PUPPET_SERVICE_ENABLE != \"true\" ]]; then\n    echo \"Setting the puppet service to ensure=$PUPPET_SERVICE_ENSURE and enable=$PUPPET_SERVICE_ENABLE\"\n  fi\n\n  \"$(puppet_bin_dir)/puppet\" resource ${PUPPET_SERVICE_DEBUG} service puppet ensure=\"$PUPPET_SERVICE_ENSURE\" enable=\"$PUPPET_SERVICE_ENABLE\"\n}\n\npxp_agent_status() {\n  output=$(\"$(puppet_bin_dir)/puppet\" resource service pxp-agent 2> /dev/null)\n  case ${output?} in\n    *ensure*=\\>*running*)\n      echo \"running\";;\n    *)\n      echo \"stopped\";;\n  esac\n}\n\nensure_service() {\n    pkg=${1?}\n    state=${2?}\n    \"$(puppet_bin_dir)/puppet\" resource service \"${pkg?}\" ensure=\"${state?}\"\n    return $?\n}\n\nwait_for_puppet_lock() {\n  t_puppet_run_lock=$(\"$(puppet_bin_dir)/puppet\" agent --configprint agent_catalog_run_lockfile)\n  while [ -f \"${t_puppet_run_lock?}\" ]; do\n      echo \"Waiting for Agent run lock ${t_puppet_run_lock?} to clear...\"\n      sleep 10\n  done\n}\n\nrequire_tlsv1() {\n  if [[ \"$PLATFORM_RELEASE\" == \"5\" && (\"$PLATFORM_NAME\" == \"rhel\" || \"$PLATFORM_NAME\" == \"centos\") ]]; then\n    return\n  elif [[ \"$PLATFORM_RELEASE\" == \"10\" && ($PLATFORM_NAME =~ solaris) ]]; then\n    return\n  fi\n  false\n}\n\n# Returns 0 if the script has been explicitly flagged to use a local Puppet CA\n# cert, or if we can find the Puppet master server's ca cert on disk at\n# /etc/puppetlabs/puppet/ssl/certs/ca.pem\nuse_puppet_master_ca_cert() {\n  [ \"${FRICTIONLESS_USE_PUPPET_CA:-false}\" = \"true\" ] || [ -f $DEFAULT_CA_CERT ]\n}\n\n# Use curl to download the requested url and store it in the given file.\n# Fallback to wget if curl is not present\n# Raise an error if neither is present.\n#\n# tlsv1 is enforced.\n#\n# If /etc/puppetlabs/puppet/ssl/certs/ca.pem is present, this certificate will\n# be used to verify the connection with the Puppet master server. Otherwise\n# validity of the server certificate will not be checked.\n#\n# Arguments:\n#   1. source_url to download (required)\n#   2. output_file to store it in locally.\n#      *If not given, streams to stdout.*\n#   3. additional_options to be expanded into the argument list\ncurl_or_wget() {\n  local t_source_url=${1?}\n  local t_output_file=$2\n  local t_additional_options=$3\n  local t_cmd\n  local t_ssl_options\n  local t_output_option\n\n  declare -a t_options\n\n  if cmd curl; then\n    t_cmd='curl'\n\n    if use_puppet_master_ca_cert; then\n      t_ssl_options=\"--cacert $DEFAULT_CA_CERT\"\n    elif curl_has_peer_verify_by_default; then\n      # we need to disable it\n      t_ssl_options=\"-k\"\n    else\n      # older curl on AIX doesn't support -k, but running without peer\n      # verification is the default behavior\n      t_ssl_options=\"--tlsv1\"\n    fi\n    if require_tlsv1; then\n      t_ssl_options+=\" --tlsv1\"\n    fi\n\n    if [ -n \"$t_output_file\" ]; then\n      t_output_option=\"-o ${t_output_file}\"\n    fi\n  elif cmd wget; then\n    # wget on AIX doesn't support SSL\n    [ \"$PLATFORM_NAME\" = \"aix\" ] && fail \"Unable to download installation materials without curl\"\n\n    t_cmd='wget'\n\n    if use_puppet_master_ca_cert; then\n      t_ssl_options=\"--ca-certificate=$DEFAULT_CA_CERT\"\n    else\n      t_ssl_options=\"--no-check-certificate\"\n    fi\n    if require_tlsv1; then\n      t_ssl_options+=\" --secure-protocol=TLSv1\"\n    fi\n\n    if [ -n \"$t_output_file\" ]; then\n      t_output_option=\"-O ${t_output_file}\"\n    else\n      # to stdout\n      t_output_option=\"-O -\"\n    fi\n  else\n    fail \"Couldn't find curl or wget; unable to continue.\"\n  fi\n\n  # options are intentionaly unquoted so that they break into elements in the\n  # options array\n  # shellcheck disable=SC2206\n  local t_options=($t_ssl_options $t_output_option $t_additional_options \"$t_source_url\" )\n\n  trace && echo >&2 \"+ $t_cmd\" \"${t_options[@]}\"\n  \"$t_cmd\" \"${t_options[@]}\"\n  local t_err_code=$?\n\n  if [ $t_err_code -ne 0 ]; then\n    echo >&2 \"E: '$t_cmd\" \"${t_options[@]}\" \"' failed (exit_code: $t_err_code)\"\n  fi\n\n  return $t_err_code\n}\n\n# Makes a curl_or_wget call with the appropriate flag to silence output\n# added in.\ncurl_or_wget_quietly() {\n  local t_additional_options=$3\n\n  if cmd curl; then\n    t_additional_options=\"${t_additional_options} -s\"\n  else\n    t_additional_options=\"${t_additional_options} --quiet\"\n  fi\n\n  curl_or_wget \"$1\" \"$2\" \"${t_additional_options?}\"\n}\n\n# In version 7.10.0 curl introduced the -k flag and performs peer\n# certificate validation by default. If peer validation is performed by\n# default the -k flag is necessary for this script to work. However, if curl\n# is older than 7.10.0 the -k flag does not exist.\n#\n# Return 0 if the -k flag should be used.\ncurl_has_peer_verify_by_default() {\n  curl_ver_regex='curl ([0-9]+)\\.([0-9]+)\\.([0-9]+)'\n  [[ \"$(curl -V 2>/dev/null)\" =~ $curl_ver_regex ]]\n  curl_majv=\"${BASH_REMATCH[1]-7}\"  # Default to 7  if no match\n  curl_minv=\"${BASH_REMATCH[2]-10}\" # Default to 10 if no match\n  if [[ \"$curl_majv\" -eq 7 && \"$curl_minv\" -le 9 ]] || [[ \"$curl_majv\" -lt 7 ]]; then\n    return 1\n  else\n    return 0\n  fi\n}\n\n# XXX Remove -- still used by aix template\ncurl_no_peer_verify() {\n  curl_ver_regex='curl ([0-9]+)\\.([0-9]+)\\.([0-9]+)'\n  [[ \"$(curl -V 2>/dev/null)\" =~ $curl_ver_regex ]]\n  curl_majv=\"${BASH_REMATCH[1]-7}\"  # Default to 7  if no match\n  curl_minv=\"${BASH_REMATCH[2]-10}\" # Default to 10 if no match\n  if [[ \"$curl_majv\" -eq 7 && \"$curl_minv\" -le 9 ]] || [[ \"$curl_majv\" -lt 7 ]]; then\n    curl_invocation=\"curl\"\n  else\n    curl_invocation=\"curl -k\"\n  fi\n\n  $curl_invocation \"$@\"\n}\n\n# Returns the http code returned by curl or wget attempting to reach the given url.\n# (The file itself is not downloaded)\n#\n# Arguments:\n#     1. t_url to touch (Required)\ncheck_http_code() {\n  local t_url=\"${1?}\"\n\n  if cmd curl; then\n    t_http_code=$(curl_or_wget \"${t_url?}\" /dev/null \"-s --head --write-out %{http_code}\")\n  elif cmd wget; then\n    # Run wget and use awk to figure out the HTTP status.\n    t_http_code=$(curl_or_wget \"${t_url?}\" /dev/null '-S' 2>&1 | awk '/HTTP\\/1.1/ { printf $2 }')\n  fi\n  echo \"$t_http_code\"\n}\n\n# Uses curl, or if not present, wget to download file from passed http url to a\n# temporary location.\n#\n# Arguments\n# 1. The url to download\n# 2. The file to save it as\n#\n# Returns 0 for 200 http exit code, 1 for all other http exit codes\n#\n# May exit early if the underlying command fails.\ndownload_from_url() {\n    local t_url=\"${1?}\"\n    local t_file=\"${2?}\"\n\n    if cmd curl; then\n        t_http_code=\"$(curl_or_wget_quietly \"${t_url?}\" \"${t_file?}\" \"-L --write-out %{http_code}\")\"\n    elif cmd wget; then\n        # Run wget and use awk to figure out the HTTP status.\n        # (Note that this unfortunately has the side effect of swallowing trace\n        # of the wget command issued in curl_or_wget(), since wget sends http\n        # info to stderr as well)\n        t_http_code=$(curl_or_wget_quietly \"${t_url?}\" \"${t_file?}\" '-S' 2>&1 | awk '/HTTP\\/1.1/ { printf $2 }')\n    fi\n\n    local t_err_code=$?\n    if [ $t_err_code -ne 0 ]; then\n        fail \"Error code ${t_err_code} attempting to reach ${t_url}\"\n    fi\n\n    if [ \"${t_http_code?}\" == \"200\" ]; then\n        return 0\n    else\n        return 1\n    fi\n}\n\nsupported_platform() {\n  # Because of differences between how regex works between bash versions this\n  # regex MUST be in a variable and passed into the test below UNQUOTED.\n  t_supported_platform_regex='(el-(5|6|7|8)-(i386|x86_64|s390x|ppc64le|aarch64))|(redhatfips-7-x86_64)|(debian-(8|9)-(i386|amd64))|(ubuntu-(14\\.04|16\\.04)-(i386|amd64|ppc64el))|(ubuntu-18\\.04-amd64)|(sles-(11|12|15)-(i386|x86_64|s390x|ppc64le))|(fedora-(26|27|28|29|30)-(x86_64))|(solaris-(10|11)-(i386|sparc))|(aix-(6\\.1|7\\.1)-power)|(osx-10\\.(12|13|14)-x86_64)'\n  [[ \"${1?}\" =~ ${t_supported_platform_regex:?} ]]\n}\n\nbulk_pluginsync() {\n  t_bulk_pluginsync_url=\"${1?}\"\n  t_bulk_pluginsync_file=$(mktempfile)\n\n  echo \"bulk downloading plugins\"\n  download_from_url \"${t_bulk_pluginsync_url?}\" \"${t_bulk_pluginsync_file?}\"\n\n  echo \"extracting plugins\"\n  mkdir -p /opt/puppetlabs/puppet/cache\n  cd /opt/puppetlabs/puppet/cache || exit\n  gunzip -c \"${t_bulk_pluginsync_file}\" | tar -xf -\n}\n\nrun_agent_install_from_url() {\n    t_agent_install_url=\"${1?}\"\n\n    t_install_file=$(mktempfile)\n\n    cleanup_add_cmd 'rm '\"${t_install_file}\"\n\n    if ! download_from_url \"${t_agent_install_url?}\" \"${t_install_file?}\"; then\n        if supported_platform \"${PLATFORM_TAG?}\"; then\n            fail \"The agent packages needed to support ${PLATFORM_TAG} are not present on your master. \\\n    To add them, apply the pe_repo::platform::$(echo \"${PLATFORM_TAG?}\" | tr - _ | tr -dc '[a-z][A-Z][0-9]_') class to your master node and then run Puppet. \\\n    The required agent packages should be retrieved when puppet runs on the master, after which you can run the install.bash script again.\"\n        else\n            fail \"This method of agent installation is not supported for ${PLATFORM_TAG?} in Puppet Enterprise v2019.1.1\"\n        fi\n    fi\n\n    bash \"${t_install_file?}\" \"${@: 2}\" || fail \"Error running install script ${t_install_file?}\"\n}\n\n# vim: ft=sh\n\n#! /bin/bash\n\n# Sets PLATFORM_NAME to a value that PE expects\n#\n# Arguments:\n# PLATFORM_NAME\n# RELEASE_FILE\n#\n# Side-effect:\n# Modifies PLATFORM_NAME\nfunction sanitize_platform_name() {\n    # Sanitize name for unusual platforms\n    case \"${PLATFORM_NAME?}\" in\n        redhatenterpriseserver | redhatenterpriseclient | redhatenterpriseas | redhatenterprisees | enterpriseenterpriseserver | redhatenterpriseworkstation | redhatenterprisecomputenode | oracleserver)\n            PLATFORM_NAME=rhel\n            ;;\n        enterprise*)\n            PLATFORM_NAME=centos\n            ;;\n        scientific | scientifics | scientificsl)\n            PLATFORM_NAME=rhel\n            ;;\n        oracle | ol)\n            PLATFORM_NAME=rhel\n            ;;\n        'suse linux' | sles_sap )\n            PLATFORM_NAME=sles\n            ;;\n        amazonami | amzn)\n            PLATFORM_NAME=amazon\n            ;;\n    esac\n\n    if [ -r \"${RELEASE_FILE:-}\" ] && grep -E \"Cumulus Linux\" \"${RELEASE_FILE}\" &> /dev/null; then\n        PLATFORM_NAME=cumulus\n    fi\n}\n\n# Sets PLATFORM_RELEASE to a value that PE expects\n#\n# Arguments:\n# PLATFORM_NAME\n# PLATFORM_RELEASE\n#\n# Side-effect:\n# Modifies PLATFORM_RELEASE\nfunction sanitize_platform_release() {\n    # Sanitize release for unusual platforms\n    case \"${PLATFORM_NAME?}\" in\n        centos | rhel | sles | solaris)\n            # Platform uses only number before period as the release,\n            # e.g. \"CentOS 5.5\" is release \"5\"\n            PLATFORM_RELEASE=$(echo -n \"${PLATFORM_RELEASE?}\" | cut -d. -f1)\n            ;;\n        amazon)\n            # This line will parse the image_name: image_name=\"amzn2-ami-hvm\"\n            # Amazon linux v1 will be similar to: image_name=\"amzn-ami-hvm\"\n            t_image_name=$(grep image_name /etc/image-id | cut -d\\\" -f2 | cut -d- -f1)\n            if [ -z \"$t_image_name\" ]; then\n                fail \"Unable to parse Amazon Linux version info from /etc/image-id\"\n            else\n                if [ \"$t_image_name\" == \"amzn2\" ]; then\n                    PLATFORM_RELEASE=7\n                else\n                    PLATFORM_RELEASE=6\n                fi\n            fi\n            ;;\n        debian)\n            # Platform uses only number before period as the release,\n            # e.g. \"Debian 6.0.1\" is release \"6\"\n            PLATFORM_RELEASE=$(echo -n \"${PLATFORM_RELEASE?}\" | cut -d. -f1)\n            if [ \"${PLATFORM_RELEASE}\" = \"testing\" ] ; then\n                PLATFORM_RELEASE=7\n            fi\n            ;;\n        cumulus)\n            PLATFORM_RELEASE=$(echo -n \"${PLATFORM_RELEASE?}\" | cut -d'.' -f'1,2')\n            ;;\n    esac\n}\n\n##############################################################################\n# We need to know what the PE platform tag is for this node, which requires\n# digging through a bunch of data to extract it.  This is currently the best\n# mechanism available to do this, which is copied from the PE\n# installer itself.\n\n# shellcheck source=/dev/null\nif [ -z \"${PLATFORM_NAME:-\"\"}\" ] || [ -z \"${PLATFORM_RELEASE:-\"\"}\" ]; then\n    # https://www.freedesktop.org/software/systemd/man/os-release.html#Description\n    # Try /etc/os-release first, then /usr/lib/os-release, then legacy pre-systemd methods\n    if [ -f \"/etc/os-release\" ] || [ -f \"/usr/lib/os-release\" ]; then\n        if [ -f \"/etc/os-release\" ]; then\n            RELEASE_FILE=\"/etc/os-release\"\n        else\n            RELEASE_FILE=\"/usr/lib/os-release\"\n        fi\n        PLATFORM_NAME=$(source \"${RELEASE_FILE}\"; echo -n \"${ID}\")\n        sanitize_platform_name\n        PLATFORM_RELEASE=$(source \"${RELEASE_FILE}\"; echo -n \"${VERSION_ID}\")\n        sanitize_platform_release\n\n        # For el-7 platforms we also support FIPS mode, which changes the platform name\n        if [[ \"$PLATFORM_RELEASE\" == \"7\" && (\"$PLATFORM_NAME\" == \"rhel\" || \"$PLATFORM_NAME\" == \"centos\") ]]; then\n            if [ -f \"/proc/sys/crypto/fips_enabled\" ]; then\n                t_fips_status=\"$(cat /proc/sys/crypto/fips_enabled)\"\n                if [ \"$t_fips_status\" == \"1\" ]; then\n                    PLATFORM_NAME='redhatfips'\n                fi\n            fi\n        fi\n    # Try identifying using lsb_release.  This takes care of Ubuntu\n    # (lsb-release is part of ubuntu-minimal).\n    elif type lsb_release > /dev/null 2>&1; then\n        t_prepare_platform=$(lsb_release -icr 2>&1)\n\n        PLATFORM_NAME=\"$(echo -n \"${t_prepare_platform?}\" | grep -E '^Distributor ID:' | cut -s -d: -f2 | sed 's/[[:space:]]//' | tr '[:upper:]' '[:lower:]')\"\n        sanitize_platform_name\n\n        # Release\n        PLATFORM_RELEASE=\"$(echo -n \"${t_prepare_platform?}\" | grep -E '^Release:' | cut -s -d: -f2 | sed 's/[[:space:]]//g')\"\n        sanitize_platform_release\n    elif [ \"x$(uname -s)\" = \"xDarwin\" ]; then\n        PLATFORM_NAME=\"osx\"\n        # sw_vers returns something like 10.9.2, but we only want 10.9 so chop off the end\n        t_platform_release=\"$(/usr/bin/sw_vers -productVersion | cut -d'.' -f1,2)\"\n        PLATFORM_RELEASE=\"${t_platform_release?}\"\n    # Test for Solaris.\n    elif [ \"x$(uname -s)\" = \"xSunOS\" ]; then\n        PLATFORM_NAME=\"solaris\"\n        t_platform_release=\"$(uname -r)\"\n        # JJM We get back 5.10 but we only care about the right side of the decimal.\n        PLATFORM_RELEASE=\"${t_platform_release##*.}\"\n    elif [ \"x$(uname -s)\" = \"xAIX\" ] ; then\n        # All versions of AIX use aix 6.1 packages\n        PLATFORM_NAME=\"aix\"\n        PLATFORM_RELEASE=\"6.1\"\n\n    # Test for RHEL variant. RHEL, CentOS, OEL\n    elif [ -f /etc/redhat-release ] && [ -r /etc/redhat-release ] && [ -s /etc/redhat-release ]; then\n        # Oracle Enterprise Linux 5.3 and higher identify the same as RHEL\n        if grep -qi 'red hat enterprise' /etc/redhat-release; then\n            PLATFORM_NAME=rhel\n        elif grep -qi 'centos' /etc/redhat-release; then\n            PLATFORM_NAME=centos\n        elif grep -qi 'scientific' /etc/redhat-release; then\n            PLATFORM_NAME=rhel\n        elif grep -qi 'fedora' /etc/redhat-release; then\n            PLATFORM_NAME='fedora'\n        fi\n        # Release - take first digits after ' release ' only.\n        PLATFORM_RELEASE=\"$(sed 's/.*\\ release\\ \\([[:digit:]]\\+\\).*/\\1/g;q' /etc/redhat-release)\"\n\n    # Test for Debian releases\n    elif [ -f /etc/debian_version ] && [ -r /etc/debian_version ] && [ -s /etc/debian_version ]; then\n        t_prepare_platform__debian_version_file=\"/etc/debian_version\"\n\n        if grep -qE '^[[:digit:]]' \"${t_prepare_platform__debian_version_file?}\"; then\n            PLATFORM_NAME=debian\n            PLATFORM_RELEASE=\"$(sed 's/\\..*//' \"${t_platform_release__debian_version_file?}\")\"\n        elif grep -qE '^wheezy' \"${t_prepare_platform__debian_version_file?}\"; then\n            PLATFORM_NAME=debian\n            PLATFORM_RELEASE=\"7\"\n        fi\n    elif [ -f /etc/SuSE-release ] && [ -r /etc/SuSE-release ]; then\n        t_prepare_platform__suse_version=$(cat /etc/SuSE-release)\n\n        if echo -n \"${t_prepare_platform__suse_version?}\" | grep -E 'Enterprise Server'; then\n            PLATFORM_NAME=sles\n            t_version=$(grep VERSION /etc/SuSE-release | sed 's/^VERSION = \\(\\d*\\)/\\1/')\n            PLATFORM_RELEASE=\"${t_version}\"\n        fi\n    elif [ -f /etc/system-release ]; then\n        if grep -qi 'amazon linux' /etc/system-release; then\n          PLATFORM_NAME=amazon\n          sanitize_platform_release\n        else\n            fail \"$(cat /etc/system-release) is not a supported platform for Puppet Enterprise v2019.1.1\n                    Please visit http://links.puppetlabs.com/puppet_enterprise_${PE_LINK_VER?}_platform_support to request support for this platform.\"\n\n        fi\n    elif [ -z \"${PLATFORM_NAME:-\"\"}\" ]; then\n        fail \"$(uname -s) is not a supported platform for Puppet Enterprise v2019.1.1\n            Please visit http://links.puppetlabs.com/puppet_enterprise_${PE_LINK_VER?}_platform_support to request support for this platform.\"\n    fi\nfi\n\nif [ -z \"${PLATFORM_NAME:-\"\"}\" ] || [ -z \"${PLATFORM_RELEASE:-\"\"}\" ]; then\n    fail \"Unknown platform\"\nfi\n\n# Architecture\nif [ -z \"${PLATFORM_ARCHITECTURE:-\"\"}\" ]; then\n    case \"${PLATFORM_NAME?}\" in\n        solaris | aix )\n            PLATFORM_ARCHITECTURE=\"$(uname -p)\"\n            if [ \"${PLATFORM_ARCHITECTURE}\" = \"powerpc\" ] ; then\n                PLATFORM_ARCHITECTURE='power'\n            fi\n            ;;\n        debian | ubuntu )\n            PLATFORM_ARCHITECTURE=\"$(uname -m)\"\n            if [ \"${PLATFORM_ARCHITECTURE}\" = \"ppc64le\" ] ; then\n                # Debian/Ubuntu name their package arch for Power8 as 'ppc64el'\n                PLATFORM_ARCHITECTURE='ppc64el'\n            fi\n            ;;\n        *)\n            PLATFORM_ARCHITECTURE=\"$(uname -m)\"\n            ;;\n    esac\n\n    case \"${PLATFORM_ARCHITECTURE?}\" in\n        x86_64)\n            case \"${PLATFORM_NAME?}\" in\n                ubuntu | debian )\n                    PLATFORM_ARCHITECTURE=amd64\n                    ;;\n            esac\n            ;;\n        i686)\n            PLATFORM_ARCHITECTURE=i386\n            ;;\n        ppc)\n            PLATFORM_ARCHITECTURE=powerpc\n            ;;\n    esac\nfi\n\n# Tag\nif [ -z \"${PLATFORM_TAG:-\"\"}\" ]; then\n    case \"${PLATFORM_NAME?}\" in\n        # Enterprise linux (centos & rhel) share the same packaging\n        # Amazon linux is similar enough for our packages\n        rhel | centos | amazon )\n            PLATFORM_TAG=\"el-${PLATFORM_RELEASE?}-${PLATFORM_ARCHITECTURE?}\"\n            ;;\n        *)\n            PLATFORM_TAG=\"${PLATFORM_NAME?}-${PLATFORM_RELEASE?}-${PLATFORM_ARCHITECTURE?}\"\n            ;;\n    esac\nfi\n\n# This is the end of the code copied from the upstream installer.\n##############################################################################\n\n# vim: ft=sh\n\n\ncheck_package() {\n    pkg=\"${1?}\"\n    output=$(\"$(puppet_bin_dir)/puppet\" resource package \"${pkg?}\" 2> /dev/null)\n    case ${output?} in\n        *ensure*=\\>*purged*)\n            return 1;;\n        *ensure*=\\>*absent*)\n            return 1;;\n        *)\n            return 0;;\n    esac\n}\n\n# If you need to force the code migration during a compile master upgrade (say on\n# a second running of the upgrade script, if puppet-agent has already been installed), then you\n# can supply FORCE_PE_CODE_MIGRATION=1 in your environment to ensure that the\n# code migration script runs to update puppet.conf and hiera.yaml.\nrun_pe_code_migration() {\n    t_code_migration_url=\"${1?}\"\n\n    if [ \"${FORCE_PE_CODE_MIGRATION:-false}\" != \"false\" ]; then\n        echo \" * Preparing to run script to update puppet.conf and hiera.yaml\"\n        t_install_file=$(mktempfile)\n        if ! download_from_url \"${t_code_migration_url?}\" \"${t_install_file?}\"; then\n            fail \"Unable to retrieve code migration script from '${t_code_migration_url?}'\"\n        fi\n\n        \"${PUPPET_BIN_DIR?}/ruby\" \"${t_install_file?}\" || fail \"Error running code migration script: ${t_install_file?}\"\n    else\n        return 0\n    fi\n}\n\n# Discover services\nt_pe_services=(pe-puppetserver pe-console-services pe-puppetdb pe-orchestration-services pe-postgresql)\nt_puppet_agent_services=(puppet pxp-agent)\nt_shutdown_services=()\n\nif [ -e \"$(puppet_bin_dir)/puppet\" ]; then\n    t_pg_resource=\"$(\"$(puppet_bin_dir)\"/puppet resource package pe-postgresql-server)\"\n    if [ -z \"${t_pg_resource}\" ]; then\n      t_pg_resource=\"$(\"$(puppet_bin_dir)\"/puppet resource package pe-postgresql96-server)\"\n    fi\n    # NOTE: Awk pattern matches any line that starts with ensure and contains\n    #       four runs of digits separated with decimals. E.g: 2019.1.11.2\n    t_pg_ver=$(echo \"${t_pg_resource}\" | awk '/^.*ensure/ && /([[:digit:]]+\\.){3}[[:digit:]]+/ {split($3,a,\".\"); print a[3]}')\n\n    # Pull master postgres version for comparison to replica\n    t_pg_primary_ver=$(echo \"9.6\" | cut -d'.' -f 1)\n\n    # A PE HA Replica shouldn't be updated from PG 9.6 to later major PG\n    # versions (11) without careful consideration.  If the upgrade is allowed\n    # to start, the HA deployment would be rendered ineffective for the\n    # duration of the upgrade. It is possible to override this safety by using\n    # the '--force' flag but be aware that failover will Not be possible during\n    # the upgrade window.\n    set +o nounset  \n    if [ \"${1}\" != \"--force\" ]; then\n        if [ -n \"${t_pg_ver}\" ]; then\n            if [ \"${t_pg_ver}\" -lt \"${t_pg_primary_ver}\" ]; then\n                fail \"Warning: Replicas are unavailable for failover during upgrade of major Postgresql versions. Forget the existing replica, finish the upgrade on the master, and then provision and enable a new replica.\"\n            fi\n        fi\n    fi\n    set -u\n\n    for service in \"${t_pe_services[@]?}\"; do\n        if [ \"${service}\" == 'pe-postgresql' ]; then\n          if check_package 'pe-postgresql-server' || check_package \"pe-postgresql96-server\" || check_package \"pe-postgresql${t_pg_ver}-server\"; then\n              t_shutdown_services+=(\"${service?}\")\n          fi\n        else\n          if check_package \"${service?}\"; then\n              t_shutdown_services+=(\"${service?}\")\n          fi\n        fi\n    done\n\n    for service in \"${t_puppet_agent_services[@]?}\"; do\n        if [ \"${service?}\" == \"puppet\" ]; then\n            stop_puppet_agent\n        elif [ \"${service?}\" == \"pxp-agent\" ]; then\n            if pxp_present; then\n                ensure_service \"${service?}\" stopped\n            fi\n        else\n            ensure_service \"${service?}\" stopped\n        fi\n    done\n\n    # This magic guards against t_shutdown_services being an empty array,\n    # because with set -u the script aborts on unbound variable otherwise.\n    if [[ ${t_shutdown_services[*]:+${t_shutdown_services[*]}} ]]; then\n      for service in \"${t_shutdown_services[@]}\"; do\n          ensure_service \"${service?}\" stopped\n      done\n    fi\nfi\n\nt_remote_installer_url=\"https://pe-xl-core-0.puppet.vm:8140/packages/2019.1.1\"\n\nrun_agent_install_from_url \"${t_remote_installer_url?}/install.bash\" \"$@\"\n\n# Package installation may have re-started the service\nstop_puppet_agent\n\n# Run puppet to get most up to date version of the node.  Do not use -t,\n# because there will be changes, and we don't want to halt the script here\n# because Puppet returns a 2 (we are running set -e)\nFACTER_pe_build=2019.1.1 \"${PUPPET_BIN_DIR?}/puppet\" agent --onetime --verbose --no-use_cached_catalog --no-daemonize --no-usecacheonfailure --no-splay --show_diff\n\n# Expects:\n# * HIERA_YAML_BACKUP\nrun_pe_code_migration \"${t_remote_installer_url?}/pe-code-migration.rb\"\n\n# Remove unnecessary logrotate.d configuration\nrm -f /etc/logrotate.d/pe-puppetserver\n\n# Restart puppet; other services will have been started by the prior agent run\nstart_puppet_agent\n\n# ...and we should be good.\nexit 0\n\n# vim: ft=sh\n"}},{"type":"File","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64","tags":["file","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_repo/manifests/repo.pp","line":131,"exported":false,"parameters":{"ensure":"link","target":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3","mode":"0644","owner":"root","group":"root"}},{"type":"Class","title":"Pe_staging","tags":["class","pe_staging","pe_staging::file","file","puppet-agent-x64.msi","pe_repo::windows","pe_repo","windows","windows-x86_64","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"exported":false,"parameters":{"path":"/opt/puppetlabs/server/data/staging","owner":"0","group":"0","mode":"0755"}},{"type":"File","title":"/opt/puppetlabs/server/data/staging","tags":["file","class","pe_staging","pe_staging::file","puppet-agent-x64.msi","pe_repo::windows","pe_repo","windows","windows-x86_64","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_staging/manifests/init.pp","line":20,"exported":false,"parameters":{"ensure":"directory","owner":"0","group":"0","mode":"0755"}},{"type":"Exec","title":"/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/puppet-agent-x64.msi","tags":["exec","pe_staging::file","pe_staging","file","puppet-agent-x64.msi","pe_repo::windows","pe_repo","windows","windows-x86_64","class","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_staging/manifests/file.pp","line":101,"exported":false,"parameters":{"command":"curl  -f -L -o puppet-agent-x64.msi https://pm.puppetlabs.com/puppet-agent/2019.1.1/6.4.3/repos/windows/puppet-agent-x64.msi","path":"/opt/puppetlabs/puppet/bin:/usr/local/bin:/usr/bin:/bin","cwd":"/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3","creates":"/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/puppet-agent-x64.msi","logoutput":"on_failure"}},{"type":"Exec","title":"Set perms of /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ directories to 0755","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","pe_repo::windows","pe_repo","windows","windows-x86_64","class","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":22,"exported":false,"parameters":{"command":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ -type d ! -perm 0755 -exec chmod -c 0755 {} \\;","onlyif":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ -type d ! -perm 0755 | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Exec","title":"Set perms of /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ contents to 0644","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","pe_repo::windows","pe_repo","windows","windows-x86_64","class","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":31,"exported":false,"parameters":{"command":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ -type f ! -perm 0644 -exec chmod -c 0644 {} \\;","onlyif":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ -type f ! -perm 0644 | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Exec","title":"Set user/group of /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ contents to root:root","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","pe_repo::windows","pe_repo","windows","windows-x86_64","class","pe_repo::platform::windows_x86_64","platform","windows_x86_64"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":36,"exported":false,"parameters":{"command":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ \\( ! -user root -or ! -group root \\) -exec chown root:root -c {} \\;","onlyif":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ \\( ! -user root -or ! -group root \\) | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-dispatch: allow pcp-brokers","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","value":{"match-request":{"path":"/server","type":"path","query-params":{}},"allow":["pe-xl-core-0.puppet.vm","pe-xl-compiler-0.puppet.vm"],"name":"dispatch: allow pcp-brokers","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-orchestrator simple status endpoint","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","value":{"match-request":{"path":"/status/v1/simple","type":"path","query-params":{},"method":"get"},"allow-unauthenticated":true,"name":"orchestrator simple status endpoint","sort-order":500}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-orchestrator status service","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::orchestrator","puppet_enterprise","trapperkeeper","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","value":{"match-request":{"path":"/status/v1/services","type":"path","query-params":{},"method":"get"},"allow-unauthenticated":true,"name":"orchestrator status service","sort-order":500}}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/conf.d/analytics.conf","tags":["file","puppet_enterprise::trapperkeeper::analytics_client_settings","puppet_enterprise","trapperkeeper","analytics_client_settings","orchestration-services","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics_client_settings.pp","line":10,"exported":false,"parameters":{"ensure":"present","owner":"pe-orchestration-services","group":"pe-orchestration-services","mode":"0640"}},{"type":"Pe_hocon_setting","title":"orchestration-services.analytics.url","tags":["pe_hocon_setting","orchestration-services.analytics.url","puppet_enterprise::trapperkeeper::analytics_client_settings","puppet_enterprise","trapperkeeper","analytics_client_settings","orchestration-services","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/analytics_client_settings.pp","line":17,"exported":false,"parameters":{"setting":"analytics.url","path":"/etc/puppetlabs/orchestration-services/conf.d/analytics.conf","value":"https://pe-xl-core-0.puppet.vm:8140/analytics/v1","ensure":"present","notify":"Service[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services orchestrator-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.orchestrator.service/orchestrator-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services orchestrator-dispatch-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.orchestrator.dispatch/orchestrator-dispatch-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services jetty9-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.webserver.jetty9-service/jetty9-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services remote-rbac-consumer-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.rbac-client.services.rbac/remote-rbac-consumer-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services remote-activity-reporter","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.rbac-client.services.activity/remote-activity-reporter\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services jruby-pool-manager-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.services.jruby-pool-manager.jruby-pool-manager-service/jruby-pool-manager-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-pxp commands","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","value":{"match-request":{"path":"/pcp-broker/send","type":"path","query-params":{"message_type":["http://puppetlabs.com/rpc_non_blocking_request","http://puppetlabs.com/rpc_blocking_request"]}},"allow":["pe-xl-core-0.puppet.vm","pe-xl-core-0.puppet.vm"],"name":"pxp commands","sort-order":400}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-inventory request","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","value":{"match-request":{"path":"/pcp-broker/send","type":"path","query-params":{"message_type":["http://puppetlabs.com/inventory_request"]}},"allow":["pe-xl-core-0.puppet.vm","pe-xl-core-0.puppet.vm"],"name":"inventory request","sort-order":400}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-multi-cast with destination_report","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","value":{"match-request":{"path":"/pcp-broker/send","type":"path","query-params":{"targets":["pcp://*/agent","pcp://*/*"],"destination_report":"true"}},"allow":[],"name":"multi-cast with destination_report","sort-order":399}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-pcp-broker message","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"present","path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","value":{"match-request":{"path":"/pcp-broker/send","type":"path","query-params":{"message_type":["http://puppetlabs.com/associate_request","http://puppetlabs.com/rpc_provisional_response","http://puppetlabs.com/rpc_blocking_response","http://puppetlabs.com/rpc_non_blocking_response","http://puppetlabs.com/rpc_error_message"]}},"allow":"*","name":"pcp-broker message","sort-order":420}}},{"type":"Pe_puppet_authorization_hocon_rule","title":"rule-pcp messages","tags":["pe_puppet_authorization_hocon_rule","pe_puppet_authorization::rule","pe_puppet_authorization","rule","puppet_enterprise::trapperkeeper::pcp_broker","puppet_enterprise","trapperkeeper","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_puppet_authorization/manifests/rule.pp","line":80,"exported":false,"parameters":{"ensure":"absent","path":"/etc/puppetlabs/orchestration-services/conf.d/auth.conf","value":{"match-request":{"path":"/pcp-broker/send","type":null,"query-params":{}},"allow-unauthenticated":false,"name":"pcp messages","sort-order":200}}},{"type":"Pe_concat::Fragment","title":"orchestration-services broker-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::pcp_broker","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.pcp.broker.service/broker-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"Pe_concat::Fragment","title":"orchestration-services authorization-service","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::pcp_broker","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/trapperkeeper/bootstrap_cfg.pp","line":28,"exported":false,"parameters":{"ensure":"present","target":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","content":"puppetlabs.trapperkeeper.services.authorization.authorization-service/authorization-service\n","order":"10","notify":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::trapperkeeper::inventory","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":144,"exported":false,"parameters":{"ensure":"directory","mode":"0750","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::trapperkeeper::inventory","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":149,"exported":false,"parameters":{"ensure":"directory","mode":"0750","force":true,"ignore":[".svn",".git",".gitignore"],"notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]","purge":true,"recurse":true,"backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments.concat","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::trapperkeeper::inventory","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":159,"exported":false,"parameters":{"ensure":"present","mode":"0640","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments.concat.out","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::trapperkeeper::inventory","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":164,"exported":false,"parameters":{"ensure":"present","mode":"0640","backup":false}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/bootstrap.cfg","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::trapperkeeper::inventory","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":169,"exported":false,"parameters":{"ensure":"present","mode":"0644","replace":true,"alias":"pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg","source":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments.concat.out","backup":"puppet"}},{"type":"Exec","title":"pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg","tags":["exec","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::trapperkeeper::inventory","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":187,"exported":false,"parameters":{"command":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg\"","alias":"pe_concat_/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg","notify":"File[/etc/puppetlabs/orchestration-services/bootstrap.cfg]","subscribe":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg]","unless":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg\" -t","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","require":["File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg]","File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments]","File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments.concat]"]}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services inventory-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::trapperkeeper::inventory","inventory","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.inventory.service/inventory-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services inventory-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services webrouting-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.webrouting.webrouting-service/webrouting-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services webrouting-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services metrics-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services metrics-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services metrics-webservice","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-webservice\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services metrics-webservice","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services scheduler-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.scheduler.scheduler-service/scheduler-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services scheduler-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services status-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.status.status-service/status-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services status-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"Exec","title":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8","tags":["exec","puppet_enterprise::certs::pk8_cert","puppet_enterprise","certs","pk8_cert","puppet_enterprise::certs","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/pk8_cert.pp","line":22,"exported":false,"parameters":{"command":"openssl pkcs8 -topk8 -inform PEM -outform DER -in /etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem -out /etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8 -nocrypt","path":["/opt/puppetlabs/puppet/bin","/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin"],"onlyif":"test ! -e '/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8' -o '/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8' -ot '/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem'","notify":"Service[pe-orchestration-services]"}},{"type":"File","title":"/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8","tags":["file","puppet_enterprise::certs::pk8_cert","puppet_enterprise","certs","pk8_cert","puppet_enterprise::certs","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs/pk8_cert.pp","line":32,"exported":false,"parameters":{"ensure":"present","owner":"pe-orchestration-services","group":"pe-orchestration-services","mode":"0400","before":"Exec[pe-orchestration-services service full restart]","require":"Package[pe-orchestration-services]","notify":"Service[pe-orchestration-services]"}},{"type":"File","title":"/etc/puppetlabs/bolt-server/ssl","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","bolt-server","puppet_enterprise::orchestrator::ruby_service","orchestrator","ruby_service","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":37,"exported":false,"parameters":{"ensure":"directory","mode":"0600","owner":"pe-bolt-server","group":"pe-bolt-server","before":[],"require":"Package[pe-bolt-server]","notify":"Service[pe-bolt-server]"}},{"type":"File","title":"/etc/puppetlabs/bolt-server/ssl/pe-xl-core-0.puppet.vm.cert.pem","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","bolt-server","puppet_enterprise::orchestrator::ruby_service","orchestrator","ruby_service","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":68,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","mode":"0400","owner":"pe-bolt-server","group":"pe-bolt-server","before":[],"require":"Package[pe-bolt-server]","notify":"Service[pe-bolt-server]"}},{"type":"File","title":"/etc/puppetlabs/bolt-server/ssl/pe-xl-core-0.puppet.vm.private_key.pem","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","bolt-server","puppet_enterprise::orchestrator::ruby_service","orchestrator","ruby_service","class","puppet_enterprise::profile::bolt_server","profile","bolt_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":73,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","show_diff":false,"mode":"0400","owner":"pe-bolt-server","group":"pe-bolt-server","before":[],"require":"Package[pe-bolt-server]","notify":"Service[pe-bolt-server]"}},{"type":"File","title":"/etc/puppetlabs/ace-server/ssl","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","ace-server","puppet_enterprise::orchestrator::ruby_service","orchestrator","ruby_service","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":37,"exported":false,"parameters":{"ensure":"directory","mode":"0600","owner":"pe-ace-server","group":"pe-ace-server","before":[],"require":"Package[pe-ace-server]","notify":"Service[pe-ace-server]"}},{"type":"File","title":"/etc/puppetlabs/ace-server/ssl/pe-xl-core-0.puppet.vm.cert.pem","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","ace-server","puppet_enterprise::orchestrator::ruby_service","orchestrator","ruby_service","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":68,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/certs/pe-xl-core-0.puppet.vm.pem","mode":"0400","owner":"pe-ace-server","group":"pe-ace-server","before":[],"require":"Package[pe-ace-server]","notify":"Service[pe-ace-server]"}},{"type":"File","title":"/etc/puppetlabs/ace-server/ssl/pe-xl-core-0.puppet.vm.private_key.pem","tags":["file","puppet_enterprise::certs","puppet_enterprise","certs","ace-server","puppet_enterprise::orchestrator::ruby_service","orchestrator","ruby_service","class","puppet_enterprise::profile::ace_server","profile","ace_server","puppet_enterprise::profile::orchestrator"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/certs.pp","line":73,"exported":false,"parameters":{"source":"/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem","show_diff":false,"mode":"0400","owner":"pe-ace-server","group":"pe-ace-server","before":[],"require":"Package[pe-ace-server]","notify":"Service[pe-ace-server]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":144,"exported":false,"parameters":{"ensure":"directory","mode":"0750","owner":"pe-console-services","group":"pe-console-services","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":149,"exported":false,"parameters":{"ensure":"directory","mode":"0750","force":true,"ignore":[".svn",".git",".gitignore"],"notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]","purge":true,"recurse":true,"owner":"pe-console-services","group":"pe-console-services","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments.concat","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":159,"exported":false,"parameters":{"ensure":"present","mode":"0640","owner":"pe-console-services","group":"pe-console-services","backup":false}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments.concat.out","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":164,"exported":false,"parameters":{"ensure":"present","mode":"0640","owner":"pe-console-services","group":"pe-console-services","backup":false}},{"type":"File","title":"/etc/puppetlabs/console-services/bootstrap.cfg","tags":["file","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":169,"exported":false,"parameters":{"ensure":"present","mode":"0644","replace":true,"alias":"pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg","source":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments.concat.out","backup":"puppet"}},{"type":"Exec","title":"pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg","tags":["exec","pe_concat","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/init.pp","line":187,"exported":false,"parameters":{"command":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg\"","alias":"pe_concat_/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg","notify":"File[/etc/puppetlabs/console-services/bootstrap.cfg]","subscribe":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg]","unless":"/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh -o \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments.concat.out\" -d \"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg\" -t","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","require":["File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg]","File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments]","File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments.concat]"]}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services activity-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.activity.services/activity-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services activity-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]","group":"pe-console-services"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services jetty9-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::activity","activity","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.webserver.jetty9-service/jetty9-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services jetty9-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]","group":"pe-console-services"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac.services.rbac/rbac-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services rbac-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]","group":"pe-console-services"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-storage-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac.services.storage.permissioned/rbac-storage-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services rbac-storage-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]","group":"pe-console-services"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-http-api-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac.services.http.api/rbac-http-api-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services rbac-http-api-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]","group":"pe-console-services"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-authn-middleware","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"absent","owner":"root","mode":"0640","content":"puppetlabs.rbac.services.http.middleware/rbac-authn-middleware\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services rbac-authn-middleware","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]","group":"pe-console-services"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services activity-reporting-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.activity.services/activity-reporting-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services activity-reporting-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]","group":"pe-console-services"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services audit-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::rbac","rbac","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac.services.audit/audit-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services audit-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]","group":"pe-console-services"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services classifier-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::classifier","classifier","console-services","class","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.classifier.main/classifier-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services classifier-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]","group":"pe-console-services"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services webrouting-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.webrouting.webrouting-service/webrouting-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services webrouting-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-consumer-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac.services.consumer/rbac-consumer-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services rbac-consumer-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-status-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac.services.status/rbac-status-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services rbac-status-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-authn-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac.services.authn/rbac-authn-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services rbac-authn-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-authz-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac.services.authz/rbac-authz-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services rbac-authz-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services pe-console-ui-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.pe-console-ui.service/pe-console-ui-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services pe-console-ui-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services pe-console-auth-ui-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.pe-console-auth-ui.service/pe-console-auth-ui-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services pe-console-auth-ui-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services status-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.status.status-service/status-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services status-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services scheduler-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.scheduler.scheduler-service/scheduler-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services scheduler-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services metrics-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services metrics-service","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services metrics-webservice","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::console_services","console_services","console-services","class","puppet_enterprise::console_services","puppet_enterprise::profile::console","profile","console"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-webservice\n","backup":false,"replace":true,"alias":"pe_concat_fragment_console-services metrics-webservice","notify":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to replication as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\treplication\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=replication-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to replication as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\treplication\tpe-ha-replication\t::/0\tcert\tmap=replication-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"replication-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"Pe_postgresql_psql","title":"Check for existence of db 'pe-puppetdb'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-puppetdb","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":69,"exported":false,"parameters":{"command":"SELECT 1","unless":"SELECT datname FROM pg_database WHERE datname='pe-puppetdb'","db":"postgres","port":5432,"require":"Class[Pe_postgresql::Server::Service]","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","notify":["Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-puppetdb'  'pe-puppetdb']"]}},{"type":"Exec","title":"/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-puppetdb'  'pe-puppetdb'","tags":["exec","pe_postgresql::server::database","pe_postgresql","server","database","pe-puppetdb","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":76,"exported":false,"parameters":{"refreshonly":true,"user":"pe-postgres","logoutput":"on_failure","notify":["Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-puppetdb\" FROM public]"],"before":["Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-puppetdb']"]}},{"type":"Pe_postgresql_psql","title":"REVOKE CONNECT ON DATABASE \"pe-puppetdb\" FROM public","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-puppetdb","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":84,"exported":false,"parameters":{"db":"postgres","port":5432,"refreshonly":true,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-puppetdb'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-puppetdb","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":91,"exported":false,"parameters":{"unless":"SELECT datname FROM pg_database WHERE datname = 'pe-puppetdb' AND datistemplate = false","db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql::Server::Grant","title":"database:GRANT pe-puppetdb - ALL - pe-puppetdb","tags":["pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database_grant.pp","line":9,"exported":false,"parameters":{"role":"pe-puppetdb","db":"pe-puppetdb","privilege":"ALL","object_type":"DATABASE","object_name":"pe-puppetdb","psql_db":"postgres","psql_user":"pe-postgres","port":5432}},{"type":"Pe_postgresql_psql","title":"pe-puppetdb/pg_repack/create-or-drop-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-puppetdb","command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')"}},{"type":"Pe_postgresql_psql","title":"pe-puppetdb/pg_repack/update-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-puppetdb","command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-puppetdb/pg_trgm/create-or-drop-extension-pg_trgm","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-puppetdb","command":"CREATE EXTENSION \"pg_trgm\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_trgm')"}},{"type":"Pe_postgresql_psql","title":"pe-puppetdb/pg_trgm/update-extension-pg_trgm","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-puppetdb","command":"ALTER EXTENSION \"pg_trgm\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_trgm' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-puppetdb/pgcrypto/create-or-drop-extension-pgcrypto","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-puppetdb","command":"CREATE EXTENSION \"pgcrypto\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pgcrypto')"}},{"type":"Pe_postgresql_psql","title":"pe-puppetdb/pgcrypto/update-extension-pgcrypto","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-puppetdb","command":"ALTER EXTENSION \"pgcrypto\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pgcrypto' AND default_version = installed_version"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-puppetdb\tpe-puppetdb\t0.0.0.0/0\tcert\tmap=pe-puppetdb-pe-puppetdb-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-puppetdb\tpe-puppetdb\t::/0\tcert\tmap=pe-puppetdb-pe-puppetdb-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-puppetdb-pe-puppetdb-map pe-xl-core-0.puppet.vm pe-puppetdb","order":"10"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-puppetdb-pe-puppetdb-map pe-xl-compiler-0.puppet.vm pe-puppetdb","order":"10"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-puppetdb-pe-puppetdb-map pe-xl-core-1.puppet.vm pe-puppetdb","order":"10"}},{"type":"Pe_postgresql_psql","title":"Check for existence of db 'pe-classifier'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-classifier","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":69,"exported":false,"parameters":{"command":"SELECT 1","unless":"SELECT datname FROM pg_database WHERE datname='pe-classifier'","db":"postgres","port":5432,"require":"Class[Pe_postgresql::Server::Service]","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","notify":["Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-classifier'  'pe-classifier']"]}},{"type":"Exec","title":"/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-classifier'  'pe-classifier'","tags":["exec","pe_postgresql::server::database","pe_postgresql","server","database","pe-classifier","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":76,"exported":false,"parameters":{"refreshonly":true,"user":"pe-postgres","logoutput":"on_failure","notify":["Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-classifier\" FROM public]"],"before":["Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-classifier']"]}},{"type":"Pe_postgresql_psql","title":"REVOKE CONNECT ON DATABASE \"pe-classifier\" FROM public","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-classifier","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":84,"exported":false,"parameters":{"db":"postgres","port":5432,"refreshonly":true,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-classifier'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-classifier","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":91,"exported":false,"parameters":{"unless":"SELECT datname FROM pg_database WHERE datname = 'pe-classifier' AND datistemplate = false","db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql::Server::Grant","title":"database:GRANT pe-classifier - ALL - pe-classifier","tags":["pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database_grant.pp","line":9,"exported":false,"parameters":{"role":"pe-classifier","db":"pe-classifier","privilege":"ALL","object_type":"DATABASE","object_name":"pe-classifier","psql_db":"postgres","psql_user":"pe-postgres","port":5432}},{"type":"Pe_postgresql_psql","title":"pe-classifier objects should be owned by pe-classifier/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER TABLE \"public\".\"' || tablename || '\" OWNER TO \"pe-classifier\";'\n              AS a\n              FROM pg_tables\n              WHERE schemaname = 'public'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT COUNT(*) FROM pg_tables\n           WHERE schemaname = 'public'\n           AND tableowner != 'pe-classifier') a\n      WHERE a.count = 0\n    "}},{"type":"Pe_postgresql_psql","title":"pe-classifier objects should be owned by pe-classifier/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER FUNCTION \"public\".\"' || p.proname || '\"(' || pg_get_function_identity_arguments(p.oid) || ') OWNER TO \"pe-classifier\";'\n              AS a\n              FROM pg_proc p\n              JOIN pg_namespace n ON p.pronamespace = n.oid\n              JOIN pg_roles ON p.proowner = pg_roles.oid\n              WHERE n.nspname = 'public'\n              AND pg_roles.rolname != 'pe-postgres'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT count(*)\n         FROM pg_proc p\n         JOIN pg_roles r ON p.proowner = r.oid\n         JOIN pg_namespace n on p.pronamespace = n.oid\n         WHERE n.nspname = 'public'\n           AND r.rolname != 'pe-classifier'\n           AND r.rolname != 'pe-postgres') a\n      WHERE a.count = 0\n    "}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-classifier-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-read'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-read\" NOSUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-read' and rolsuper=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-read\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-read' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-read\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-read' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-read\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-read' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-read\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-read' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-read\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-read' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-read\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-read' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant connect perms to pe-classifier-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-read","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/grant_connect.pp","line":6,"exported":false,"parameters":{"db":"pe-classifier","command":"GRANT CONNECT ON DATABASE \"pe-classifier\"\n                TO \"pe-classifier-read\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-classifier-read',\n                 'pe-classifier',\n                 'connect')\n               WHERE has_database_privilege = true","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant read perms on new objects from pe-classifier to pe-classifier-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-read","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_read_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-classifier\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-classifier-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-read\\\\\"=r/\\\\\"pe-classifier\\\\\".*'\n                AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant read perms on new objects from pe-ha-replication to pe-classifier-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-read","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_read_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-classifier-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-read\\\\\"=r/\\\\\"pe-ha-replication\\\\\".*'\n                AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-classifier-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-write'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-write\" NOSUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-write' and rolsuper=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-write\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-write' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-write\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-write' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-write\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-write' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-write\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-write' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-write\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-write' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-classifier-write\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-classifier-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-classifier-write' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-classifier-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant connect perms to pe-classifier-write/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/grant_connect.pp","line":6,"exported":false,"parameters":{"db":"pe-classifier","command":"GRANT CONNECT ON DATABASE \"pe-classifier\"\n                TO \"pe-classifier-write\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-classifier-write',\n                 'pe-classifier',\n                 'connect')\n               WHERE has_database_privilege = true","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant write perms on existing objects to pe-classifier-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":8,"exported":false,"parameters":{"db":"pe-classifier","command":"GRANT ALL PRIVILEGES\n                ON ALL TABLES IN SCHEMA \"public\"\n                TO \"pe-classifier-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_tables\n                  WHERE schemaname='public'\n                    AND has_table_privilege('pe-classifier-write', schemaname || '.' || tablename, 'INSERT')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant write perms on existing objects to pe-classifier-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":24,"exported":false,"parameters":{"db":"pe-classifier","command":"GRANT ALL PRIVILEGES\n                ON ALL SEQUENCES IN SCHEMA \"public\"\n                TO \"pe-classifier-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM information_schema.sequences\n                  WHERE sequence_schema='public'\n                    AND has_sequence_privilege('pe-classifier-write', sequence_schema || '.' || sequence_name, 'UPDATE')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant write perms on existing objects to pe-classifier-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":38,"exported":false,"parameters":{"db":"pe-classifier","command":"GRANT ALL PRIVILEGES\n                ON ALL FUNCTIONS IN SCHEMA \"public\"\n                TO \"pe-classifier-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_catalog.pg_proc p\n                  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n                  WHERE n.nspname='public'\n                    AND has_function_privilege('pe-classifier-write', p.oid, 'execute')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-classifier\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=arwdDxt/\\\\\"pe-classifier\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":31,"exported":false,"parameters":{"db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-classifier\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=rwU/\\\\\"pe-classifier\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":53,"exported":false,"parameters":{"db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-classifier\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=X/\\\\\"pe-classifier\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-ha-replication\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=arwdDxt/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":31,"exported":false,"parameters":{"db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=rwU/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":53,"exported":false,"parameters":{"db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=X/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"pe-classifier/pg_repack/create-or-drop-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')"}},{"type":"Pe_postgresql_psql","title":"pe-classifier/pg_repack/update-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-classifier/pglogical/create-or-drop-extension-pglogical","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"CREATE EXTENSION \"pglogical\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pglogical')"}},{"type":"Pe_postgresql_psql","title":"pe-classifier/pglogical/update-extension-pglogical","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"ALTER EXTENSION \"pglogical\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pglogical' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-classifier/n6bad1349378221/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::node","pg","pglogical","node","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"SELECT pglogical.create_node(\n      node_name := 'n6bad1349378221',\n      dsn := 'dbname=pe-classifier host=pe-xl-core-0.puppet.vm port=5432 sslcert=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem sslkey=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem sslmode=verify-full sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem user=pe-ha-replication')","unless":"SELECT * from pglogical.node WHERE node_name='n6bad1349378221'"}},{"type":"Pe_postgresql_psql","title":"pglogical replication set pe-classifier/default populate-sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::replication_set","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"SELECT pglogical.replication_set_add_all_tables('default', ARRAY['public'])","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM (SELECT relname from pglogical.tables\n                                WHERE set_name='default'\n                                AND nspname='public') pgl\n                          RIGHT OUTER JOIN information_schema.tables pg\n                          ON pgl.relname=pg.table_name\n                          WHERE pg.table_schema='public'\n                          AND relname IS NULL) c\n                    WHERE c.count = 0"}},{"type":"Pe_postgresql_psql","title":"pglogical_subscription pe-classifier/s6bad1349378221 drop-sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::subscription","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"SELECT pglogical.drop_subscription('s6bad1349378221', false)","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM pglogical.subscription\n                          WHERE sub_name='s6bad1349378221') c\n                    WHERE c.count = 0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-classifier\tpe-classifier\t0.0.0.0/0\tcert\tmap=pe-classifier-pe-classifier-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-classifier\tpe-classifier\t::/0\tcert\tmap=pe-classifier-pe-classifier-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-classifier-pe-classifier-map pe-xl-core-0.puppet.vm pe-classifier","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-classifier\tpe-classifier-read\t0.0.0.0/0\tcert\tmap=pe-classifier-pe-classifier-read-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-classifier\tpe-classifier-read\t::/0\tcert\tmap=pe-classifier-pe-classifier-read-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-classifier-pe-classifier-read-map pe-xl-core-0.puppet.vm pe-classifier-read","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-classifier\tpe-classifier-write\t0.0.0.0/0\tcert\tmap=pe-classifier-pe-classifier-write-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-classifier\tpe-classifier-write\t::/0\tcert\tmap=pe-classifier-pe-classifier-write-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-classifier-pe-classifier-write-map pe-xl-core-0.puppet.vm pe-classifier-write","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-classifier\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=pe-classifier-pe-ha-replication-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-classifier\tpe-ha-replication\t::/0\tcert\tmap=pe-classifier-pe-ha-replication-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-classifier-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","order":"10"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-classifier-pe-ha-replication-map pe-xl-core-0.puppet.vm pe-ha-replication","order":"10"}},{"type":"Pe_postgresql_psql","title":"Check for existence of db 'pe-rbac'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-rbac","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":69,"exported":false,"parameters":{"command":"SELECT 1","unless":"SELECT datname FROM pg_database WHERE datname='pe-rbac'","db":"postgres","port":5432,"require":"Class[Pe_postgresql::Server::Service]","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","notify":["Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-rbac'  'pe-rbac']"]}},{"type":"Exec","title":"/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-rbac'  'pe-rbac'","tags":["exec","pe_postgresql::server::database","pe_postgresql","server","database","pe-rbac","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":76,"exported":false,"parameters":{"refreshonly":true,"user":"pe-postgres","logoutput":"on_failure","notify":["Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-rbac\" FROM public]"],"before":["Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-rbac']"]}},{"type":"Pe_postgresql_psql","title":"REVOKE CONNECT ON DATABASE \"pe-rbac\" FROM public","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-rbac","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":84,"exported":false,"parameters":{"db":"postgres","port":5432,"refreshonly":true,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-rbac'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-rbac","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":91,"exported":false,"parameters":{"unless":"SELECT datname FROM pg_database WHERE datname = 'pe-rbac' AND datistemplate = false","db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql::Server::Grant","title":"database:GRANT pe-rbac - ALL - pe-rbac","tags":["pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database_grant.pp","line":9,"exported":false,"parameters":{"role":"pe-rbac","db":"pe-rbac","privilege":"ALL","object_type":"DATABASE","object_name":"pe-rbac","psql_db":"postgres","psql_user":"pe-postgres","port":5432}},{"type":"Pe_postgresql_psql","title":"pe-rbac objects should be owned by pe-rbac/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER TABLE \"public\".\"' || tablename || '\" OWNER TO \"pe-rbac\";'\n              AS a\n              FROM pg_tables\n              WHERE schemaname = 'public'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT COUNT(*) FROM pg_tables\n           WHERE schemaname = 'public'\n           AND tableowner != 'pe-rbac') a\n      WHERE a.count = 0\n    "}},{"type":"Pe_postgresql_psql","title":"pe-rbac objects should be owned by pe-rbac/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER FUNCTION \"public\".\"' || p.proname || '\"(' || pg_get_function_identity_arguments(p.oid) || ') OWNER TO \"pe-rbac\";'\n              AS a\n              FROM pg_proc p\n              JOIN pg_namespace n ON p.pronamespace = n.oid\n              JOIN pg_roles ON p.proowner = pg_roles.oid\n              WHERE n.nspname = 'public'\n              AND pg_roles.rolname != 'pe-postgres'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT count(*)\n         FROM pg_proc p\n         JOIN pg_roles r ON p.proowner = r.oid\n         JOIN pg_namespace n on p.pronamespace = n.oid\n         WHERE n.nspname = 'public'\n           AND r.rolname != 'pe-rbac'\n           AND r.rolname != 'pe-postgres') a\n      WHERE a.count = 0\n    "}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-rbac-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-read'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-read\" NOSUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-read' and rolsuper=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-read\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-read' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-read\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-read' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-read\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-read' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-read\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-read' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-read\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-read' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-read\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-read' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant connect perms to pe-rbac-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-read","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/grant_connect.pp","line":6,"exported":false,"parameters":{"db":"pe-rbac","command":"GRANT CONNECT ON DATABASE \"pe-rbac\"\n                TO \"pe-rbac-read\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-rbac-read',\n                 'pe-rbac',\n                 'connect')\n               WHERE has_database_privilege = true","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant read perms on new objects from pe-rbac to pe-rbac-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-read","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_read_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-rbac\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-rbac-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-read\\\\\"=r/\\\\\"pe-rbac\\\\\".*'\n                AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant read perms on new objects from pe-ha-replication to pe-rbac-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-read","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_read_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-rbac-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-read\\\\\"=r/\\\\\"pe-ha-replication\\\\\".*'\n                AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-rbac-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-write'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-write\" NOSUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-write' and rolsuper=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-write\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-write' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-write\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-write' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-write\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-write' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-write\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-write' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-write\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-write' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-rbac-write\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-rbac-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-rbac-write' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-rbac-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant connect perms to pe-rbac-write/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/grant_connect.pp","line":6,"exported":false,"parameters":{"db":"pe-rbac","command":"GRANT CONNECT ON DATABASE \"pe-rbac\"\n                TO \"pe-rbac-write\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-rbac-write',\n                 'pe-rbac',\n                 'connect')\n               WHERE has_database_privilege = true","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant write perms on existing objects to pe-rbac-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":8,"exported":false,"parameters":{"db":"pe-rbac","command":"GRANT ALL PRIVILEGES\n                ON ALL TABLES IN SCHEMA \"public\"\n                TO \"pe-rbac-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_tables\n                  WHERE schemaname='public'\n                    AND has_table_privilege('pe-rbac-write', schemaname || '.' || tablename, 'INSERT')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant write perms on existing objects to pe-rbac-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":24,"exported":false,"parameters":{"db":"pe-rbac","command":"GRANT ALL PRIVILEGES\n                ON ALL SEQUENCES IN SCHEMA \"public\"\n                TO \"pe-rbac-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM information_schema.sequences\n                  WHERE sequence_schema='public'\n                    AND has_sequence_privilege('pe-rbac-write', sequence_schema || '.' || sequence_name, 'UPDATE')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant write perms on existing objects to pe-rbac-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":38,"exported":false,"parameters":{"db":"pe-rbac","command":"GRANT ALL PRIVILEGES\n                ON ALL FUNCTIONS IN SCHEMA \"public\"\n                TO \"pe-rbac-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_catalog.pg_proc p\n                  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n                  WHERE n.nspname='public'\n                    AND has_function_privilege('pe-rbac-write', p.oid, 'execute')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-rbac\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=arwdDxt/\\\\\"pe-rbac\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":31,"exported":false,"parameters":{"db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-rbac\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=rwU/\\\\\"pe-rbac\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":53,"exported":false,"parameters":{"db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-rbac\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=X/\\\\\"pe-rbac\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-ha-replication\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=arwdDxt/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":31,"exported":false,"parameters":{"db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=rwU/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":53,"exported":false,"parameters":{"db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=X/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"pe-rbac/pg_repack/create-or-drop-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')"}},{"type":"Pe_postgresql_psql","title":"pe-rbac/pg_repack/update-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-rbac/citext/create-or-drop-extension-citext","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"CREATE EXTENSION \"citext\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'citext')"}},{"type":"Pe_postgresql_psql","title":"pe-rbac/citext/update-extension-citext","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER EXTENSION \"citext\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'citext' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-rbac/pgcrypto/create-or-drop-extension-pgcrypto","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"CREATE EXTENSION \"pgcrypto\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pgcrypto')"}},{"type":"Pe_postgresql_psql","title":"pe-rbac/pgcrypto/update-extension-pgcrypto","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER EXTENSION \"pgcrypto\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pgcrypto' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-rbac/pglogical/create-or-drop-extension-pglogical","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"CREATE EXTENSION \"pglogical\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pglogical')"}},{"type":"Pe_postgresql_psql","title":"pe-rbac/pglogical/update-extension-pglogical","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER EXTENSION \"pglogical\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pglogical' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-rbac/n6bad1349378221/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::node","pg","pglogical","node","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"SELECT pglogical.create_node(\n      node_name := 'n6bad1349378221',\n      dsn := 'dbname=pe-rbac host=pe-xl-core-0.puppet.vm port=5432 sslcert=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem sslkey=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem sslmode=verify-full sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem user=pe-ha-replication')","unless":"SELECT * from pglogical.node WHERE node_name='n6bad1349378221'"}},{"type":"Pe_postgresql_psql","title":"pglogical replication set pe-rbac/default populate-sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::replication_set","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"SELECT pglogical.replication_set_add_all_tables('default', ARRAY['public'])","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM (SELECT relname from pglogical.tables\n                                WHERE set_name='default'\n                                AND nspname='public') pgl\n                          RIGHT OUTER JOIN information_schema.tables pg\n                          ON pgl.relname=pg.table_name\n                          WHERE pg.table_schema='public'\n                          AND relname IS NULL) c\n                    WHERE c.count = 0"}},{"type":"Pe_postgresql_psql","title":"pglogical_subscription pe-rbac/s6bad1349378221 drop-sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::subscription","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"SELECT pglogical.drop_subscription('s6bad1349378221', false)","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM pglogical.subscription\n                          WHERE sub_name='s6bad1349378221') c\n                    WHERE c.count = 0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-rbac\tpe-rbac\t0.0.0.0/0\tcert\tmap=pe-rbac-pe-rbac-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-rbac\tpe-rbac\t::/0\tcert\tmap=pe-rbac-pe-rbac-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-rbac-pe-rbac-map pe-xl-core-0.puppet.vm pe-rbac","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-rbac\tpe-rbac-read\t0.0.0.0/0\tcert\tmap=pe-rbac-pe-rbac-read-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-rbac\tpe-rbac-read\t::/0\tcert\tmap=pe-rbac-pe-rbac-read-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-rbac-pe-rbac-read-map pe-xl-core-0.puppet.vm pe-rbac-read","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-rbac\tpe-rbac-write\t0.0.0.0/0\tcert\tmap=pe-rbac-pe-rbac-write-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-rbac\tpe-rbac-write\t::/0\tcert\tmap=pe-rbac-pe-rbac-write-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-rbac-pe-rbac-write-map pe-xl-core-0.puppet.vm pe-rbac-write","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-rbac\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=pe-rbac-pe-ha-replication-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-rbac\tpe-ha-replication\t::/0\tcert\tmap=pe-rbac-pe-ha-replication-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-rbac-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","order":"10"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-rbac-pe-ha-replication-map pe-xl-core-0.puppet.vm pe-ha-replication","order":"10"}},{"type":"Pe_postgresql_psql","title":"Check for existence of db 'pe-activity'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-activity","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":69,"exported":false,"parameters":{"command":"SELECT 1","unless":"SELECT datname FROM pg_database WHERE datname='pe-activity'","db":"postgres","port":5432,"require":"Class[Pe_postgresql::Server::Service]","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","notify":["Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-activity'  'pe-activity']"]}},{"type":"Exec","title":"/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-activity'  'pe-activity'","tags":["exec","pe_postgresql::server::database","pe_postgresql","server","database","pe-activity","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":76,"exported":false,"parameters":{"refreshonly":true,"user":"pe-postgres","logoutput":"on_failure","notify":["Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-activity\" FROM public]"],"before":["Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-activity']"]}},{"type":"Pe_postgresql_psql","title":"REVOKE CONNECT ON DATABASE \"pe-activity\" FROM public","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-activity","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":84,"exported":false,"parameters":{"db":"postgres","port":5432,"refreshonly":true,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-activity'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-activity","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":91,"exported":false,"parameters":{"unless":"SELECT datname FROM pg_database WHERE datname = 'pe-activity' AND datistemplate = false","db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql::Server::Grant","title":"database:GRANT pe-activity - ALL - pe-activity","tags":["pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database_grant.pp","line":9,"exported":false,"parameters":{"role":"pe-activity","db":"pe-activity","privilege":"ALL","object_type":"DATABASE","object_name":"pe-activity","psql_db":"postgres","psql_user":"pe-postgres","port":5432}},{"type":"Pe_postgresql_psql","title":"pe-activity objects should be owned by pe-activity/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER TABLE \"public\".\"' || tablename || '\" OWNER TO \"pe-activity\";'\n              AS a\n              FROM pg_tables\n              WHERE schemaname = 'public'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT COUNT(*) FROM pg_tables\n           WHERE schemaname = 'public'\n           AND tableowner != 'pe-activity') a\n      WHERE a.count = 0\n    "}},{"type":"Pe_postgresql_psql","title":"pe-activity objects should be owned by pe-activity/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER FUNCTION \"public\".\"' || p.proname || '\"(' || pg_get_function_identity_arguments(p.oid) || ') OWNER TO \"pe-activity\";'\n              AS a\n              FROM pg_proc p\n              JOIN pg_namespace n ON p.pronamespace = n.oid\n              JOIN pg_roles ON p.proowner = pg_roles.oid\n              WHERE n.nspname = 'public'\n              AND pg_roles.rolname != 'pe-postgres'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT count(*)\n         FROM pg_proc p\n         JOIN pg_roles r ON p.proowner = r.oid\n         JOIN pg_namespace n on p.pronamespace = n.oid\n         WHERE n.nspname = 'public'\n           AND r.rolname != 'pe-activity'\n           AND r.rolname != 'pe-postgres') a\n      WHERE a.count = 0\n    "}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-activity-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-read'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-read\" NOSUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-read' and rolsuper=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-read\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-read' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-read\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-read' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-read\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-read' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-read\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-read' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-read\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-read' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-read\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-read' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant connect perms to pe-activity-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-read","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/grant_connect.pp","line":6,"exported":false,"parameters":{"db":"pe-activity","command":"GRANT CONNECT ON DATABASE \"pe-activity\"\n                TO \"pe-activity-read\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-activity-read',\n                 'pe-activity',\n                 'connect')\n               WHERE has_database_privilege = true","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant read perms on new objects from pe-activity to pe-activity-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-read","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_read_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-activity\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-activity-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-read\\\\\"=r/\\\\\"pe-activity\\\\\".*'\n                AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant read perms on new objects from pe-ha-replication to pe-activity-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-read","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_read_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-activity-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-read\\\\\"=r/\\\\\"pe-ha-replication\\\\\".*'\n                AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-activity-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-write'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-write\" NOSUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-write' and rolsuper=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-write\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-write' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-write\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-write' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-write\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-write' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-write\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-write' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-write\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-write' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-activity-write\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-activity-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-activity-write' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-activity-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant connect perms to pe-activity-write/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/grant_connect.pp","line":6,"exported":false,"parameters":{"db":"pe-activity","command":"GRANT CONNECT ON DATABASE \"pe-activity\"\n                TO \"pe-activity-write\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-activity-write',\n                 'pe-activity',\n                 'connect')\n               WHERE has_database_privilege = true","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant write perms on existing objects to pe-activity-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":8,"exported":false,"parameters":{"db":"pe-activity","command":"GRANT ALL PRIVILEGES\n                ON ALL TABLES IN SCHEMA \"public\"\n                TO \"pe-activity-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_tables\n                  WHERE schemaname='public'\n                    AND has_table_privilege('pe-activity-write', schemaname || '.' || tablename, 'INSERT')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant write perms on existing objects to pe-activity-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":24,"exported":false,"parameters":{"db":"pe-activity","command":"GRANT ALL PRIVILEGES\n                ON ALL SEQUENCES IN SCHEMA \"public\"\n                TO \"pe-activity-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM information_schema.sequences\n                  WHERE sequence_schema='public'\n                    AND has_sequence_privilege('pe-activity-write', sequence_schema || '.' || sequence_name, 'UPDATE')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant write perms on existing objects to pe-activity-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":38,"exported":false,"parameters":{"db":"pe-activity","command":"GRANT ALL PRIVILEGES\n                ON ALL FUNCTIONS IN SCHEMA \"public\"\n                TO \"pe-activity-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_catalog.pg_proc p\n                  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n                  WHERE n.nspname='public'\n                    AND has_function_privilege('pe-activity-write', p.oid, 'execute')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant write perms on new objects from pe-activity to pe-activity-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-activity\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=arwdDxt/\\\\\"pe-activity\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant write perms on new objects from pe-activity to pe-activity-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":31,"exported":false,"parameters":{"db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-activity\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=rwU/\\\\\"pe-activity\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant write perms on new objects from pe-activity to pe-activity-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":53,"exported":false,"parameters":{"db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-activity\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=X/\\\\\"pe-activity\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-ha-replication\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=arwdDxt/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":31,"exported":false,"parameters":{"db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=rwU/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":53,"exported":false,"parameters":{"db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=X/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"pe-activity/pg_repack/create-or-drop-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')"}},{"type":"Pe_postgresql_psql","title":"pe-activity/pg_repack/update-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-activity/pglogical/create-or-drop-extension-pglogical","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"CREATE EXTENSION \"pglogical\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pglogical')"}},{"type":"Pe_postgresql_psql","title":"pe-activity/pglogical/update-extension-pglogical","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"ALTER EXTENSION \"pglogical\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pglogical' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-activity/n6bad1349378221/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::node","pg","pglogical","node","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"SELECT pglogical.create_node(\n      node_name := 'n6bad1349378221',\n      dsn := 'dbname=pe-activity host=pe-xl-core-0.puppet.vm port=5432 sslcert=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem sslkey=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem sslmode=verify-full sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem user=pe-ha-replication')","unless":"SELECT * from pglogical.node WHERE node_name='n6bad1349378221'"}},{"type":"Pe_postgresql_psql","title":"pglogical replication set pe-activity/default populate-sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::replication_set","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"SELECT pglogical.replication_set_add_all_tables('default', ARRAY['public'])","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM (SELECT relname from pglogical.tables\n                                WHERE set_name='default'\n                                AND nspname='public') pgl\n                          RIGHT OUTER JOIN information_schema.tables pg\n                          ON pgl.relname=pg.table_name\n                          WHERE pg.table_schema='public'\n                          AND relname IS NULL) c\n                    WHERE c.count = 0"}},{"type":"Pe_postgresql_psql","title":"pglogical_subscription pe-activity/s6bad1349378221 drop-sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::subscription","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"SELECT pglogical.drop_subscription('s6bad1349378221', false)","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM pglogical.subscription\n                          WHERE sub_name='s6bad1349378221') c\n                    WHERE c.count = 0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-activity\tpe-activity\t0.0.0.0/0\tcert\tmap=pe-activity-pe-activity-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-activity\tpe-activity\t::/0\tcert\tmap=pe-activity-pe-activity-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-activity-pe-activity-map pe-xl-core-0.puppet.vm pe-activity","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity-read (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-activity\tpe-activity-read\t0.0.0.0/0\tcert\tmap=pe-activity-pe-activity-read-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity-read (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-activity\tpe-activity-read\t::/0\tcert\tmap=pe-activity-pe-activity-read-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-activity-pe-activity-read-map pe-xl-core-0.puppet.vm pe-activity-read","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity-write (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-activity\tpe-activity-write\t0.0.0.0/0\tcert\tmap=pe-activity-pe-activity-write-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity-write (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-activity\tpe-activity-write\t::/0\tcert\tmap=pe-activity-pe-activity-write-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-activity-pe-activity-write-map pe-xl-core-0.puppet.vm pe-activity-write","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-activity\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=pe-activity-pe-ha-replication-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-activity\tpe-ha-replication\t::/0\tcert\tmap=pe-activity-pe-ha-replication-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-activity-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","order":"10"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-activity-pe-ha-replication-map pe-xl-core-0.puppet.vm pe-ha-replication","order":"10"}},{"type":"Pe_postgresql_psql","title":"Check for existence of db 'pe-orchestrator'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-orchestrator","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":69,"exported":false,"parameters":{"command":"SELECT 1","unless":"SELECT datname FROM pg_database WHERE datname='pe-orchestrator'","db":"postgres","port":5432,"require":"Class[Pe_postgresql::Server::Service]","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","notify":["Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-orchestrator'  'pe-orchestrator']"]}},{"type":"Exec","title":"/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-orchestrator'  'pe-orchestrator'","tags":["exec","pe_postgresql::server::database","pe_postgresql","server","database","pe-orchestrator","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":76,"exported":false,"parameters":{"refreshonly":true,"user":"pe-postgres","logoutput":"on_failure","notify":["Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-orchestrator\" FROM public]"],"before":["Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-orchestrator']"]}},{"type":"Pe_postgresql_psql","title":"REVOKE CONNECT ON DATABASE \"pe-orchestrator\" FROM public","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-orchestrator","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":84,"exported":false,"parameters":{"db":"postgres","port":5432,"refreshonly":true,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-orchestrator'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-orchestrator","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":91,"exported":false,"parameters":{"unless":"SELECT datname FROM pg_database WHERE datname = 'pe-orchestrator' AND datistemplate = false","db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql::Server::Grant","title":"database:GRANT pe-orchestrator - ALL - pe-orchestrator","tags":["pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database_grant.pp","line":9,"exported":false,"parameters":{"role":"pe-orchestrator","db":"pe-orchestrator","privilege":"ALL","object_type":"DATABASE","object_name":"pe-orchestrator","psql_db":"postgres","psql_user":"pe-postgres","port":5432}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator objects should be owned by pe-orchestrator/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER TABLE \"public\".\"' || tablename || '\" OWNER TO \"pe-orchestrator\";'\n              AS a\n              FROM pg_tables\n              WHERE schemaname = 'public'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT COUNT(*) FROM pg_tables\n           WHERE schemaname = 'public'\n           AND tableowner != 'pe-orchestrator') a\n      WHERE a.count = 0\n    "}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator objects should be owned by pe-orchestrator/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER FUNCTION \"public\".\"' || p.proname || '\"(' || pg_get_function_identity_arguments(p.oid) || ') OWNER TO \"pe-orchestrator\";'\n              AS a\n              FROM pg_proc p\n              JOIN pg_namespace n ON p.pronamespace = n.oid\n              JOIN pg_roles ON p.proowner = pg_roles.oid\n              WHERE n.nspname = 'public'\n              AND pg_roles.rolname != 'pe-postgres'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT count(*)\n         FROM pg_proc p\n         JOIN pg_roles r ON p.proowner = r.oid\n         JOIN pg_namespace n on p.pronamespace = n.oid\n         WHERE n.nspname = 'public'\n           AND r.rolname != 'pe-orchestrator'\n           AND r.rolname != 'pe-postgres') a\n      WHERE a.count = 0\n    "}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-orchestrator-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-read'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-read\" NOSUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-read' and rolsuper=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-read\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-read' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-read\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-read' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-read\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-read' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-read\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-read' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-read\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-read' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-read\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-read' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant connect perms to pe-orchestrator-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-read","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/grant_connect.pp","line":6,"exported":false,"parameters":{"db":"pe-orchestrator","command":"GRANT CONNECT ON DATABASE \"pe-orchestrator\"\n                TO \"pe-orchestrator-read\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-orchestrator-read',\n                 'pe-orchestrator',\n                 'connect')\n               WHERE has_database_privilege = true","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant read perms on new objects from pe-orchestrator to pe-orchestrator-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-read","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_read_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-orchestrator\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-orchestrator-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-read\\\\\"=r/\\\\\"pe-orchestrator\\\\\".*'\n                AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant read perms on new objects from pe-ha-replication to pe-orchestrator-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-read","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_read_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-orchestrator-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-read\\\\\"=r/\\\\\"pe-ha-replication\\\\\".*'\n                AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-orchestrator-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-write'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-write\" NOSUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-write' and rolsuper=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-write\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-write' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-write\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-write' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-write\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-write' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-write\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-write' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-write\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-write' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-orchestrator-write\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-orchestrator-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-orchestrator-write' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant connect perms to pe-orchestrator-write/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/grant_connect.pp","line":6,"exported":false,"parameters":{"db":"pe-orchestrator","command":"GRANT CONNECT ON DATABASE \"pe-orchestrator\"\n                TO \"pe-orchestrator-write\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-orchestrator-write',\n                 'pe-orchestrator',\n                 'connect')\n               WHERE has_database_privilege = true","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":8,"exported":false,"parameters":{"db":"pe-orchestrator","command":"GRANT ALL PRIVILEGES\n                ON ALL TABLES IN SCHEMA \"public\"\n                TO \"pe-orchestrator-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_tables\n                  WHERE schemaname='public'\n                    AND has_table_privilege('pe-orchestrator-write', schemaname || '.' || tablename, 'INSERT')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":24,"exported":false,"parameters":{"db":"pe-orchestrator","command":"GRANT ALL PRIVILEGES\n                ON ALL SEQUENCES IN SCHEMA \"public\"\n                TO \"pe-orchestrator-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM information_schema.sequences\n                  WHERE sequence_schema='public'\n                    AND has_sequence_privilege('pe-orchestrator-write', sequence_schema || '.' || sequence_name, 'UPDATE')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":38,"exported":false,"parameters":{"db":"pe-orchestrator","command":"GRANT ALL PRIVILEGES\n                ON ALL FUNCTIONS IN SCHEMA \"public\"\n                TO \"pe-orchestrator-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_catalog.pg_proc p\n                  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n                  WHERE n.nspname='public'\n                    AND has_function_privilege('pe-orchestrator-write', p.oid, 'execute')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-orchestrator\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=arwdDxt/\\\\\"pe-orchestrator\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":31,"exported":false,"parameters":{"db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-orchestrator\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=rwU/\\\\\"pe-orchestrator\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":53,"exported":false,"parameters":{"db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-orchestrator\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=X/\\\\\"pe-orchestrator\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-ha-replication\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=arwdDxt/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":31,"exported":false,"parameters":{"db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=rwU/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":53,"exported":false,"parameters":{"db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=X/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator/pg_repack/create-or-drop-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator/pg_repack/update-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator/pglogical/create-or-drop-extension-pglogical","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"CREATE EXTENSION \"pglogical\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pglogical')"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator/pglogical/update-extension-pglogical","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"ALTER EXTENSION \"pglogical\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pglogical' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator/n6bad1349378221/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::node","pg","pglogical","node","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"SELECT pglogical.create_node(\n      node_name := 'n6bad1349378221',\n      dsn := 'dbname=pe-orchestrator host=pe-xl-core-0.puppet.vm port=5432 sslcert=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem sslkey=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem sslmode=verify-full sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem user=pe-ha-replication')","unless":"SELECT * from pglogical.node WHERE node_name='n6bad1349378221'"}},{"type":"Pe_postgresql_psql","title":"pglogical replication set pe-orchestrator/default populate-sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::replication_set","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"SELECT pglogical.replication_set_add_all_tables('default', ARRAY['public'])","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM (SELECT relname from pglogical.tables\n                                WHERE set_name='default'\n                                AND nspname='public') pgl\n                          RIGHT OUTER JOIN information_schema.tables pg\n                          ON pgl.relname=pg.table_name\n                          WHERE pg.table_schema='public'\n                          AND relname IS NULL) c\n                    WHERE c.count = 0"}},{"type":"Pe_postgresql_psql","title":"pglogical_subscription pe-orchestrator/s6bad1349378221 drop-sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::subscription","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"SELECT pglogical.drop_subscription('s6bad1349378221', false)","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM pglogical.subscription\n                          WHERE sub_name='s6bad1349378221') c\n                    WHERE c.count = 0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-orchestrator\tpe-orchestrator\t0.0.0.0/0\tcert\tmap=pe-orchestrator-pe-orchestrator-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-orchestrator\tpe-orchestrator\t::/0\tcert\tmap=pe-orchestrator-pe-orchestrator-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-orchestrator-pe-orchestrator-map pe-xl-core-0.puppet.vm pe-orchestrator","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-orchestrator\tpe-orchestrator-read\t0.0.0.0/0\tcert\tmap=pe-orchestrator-pe-orchestrator-read-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-orchestrator\tpe-orchestrator-read\t::/0\tcert\tmap=pe-orchestrator-pe-orchestrator-read-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-orchestrator-pe-orchestrator-read-map pe-xl-core-0.puppet.vm pe-orchestrator-read","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-orchestrator\tpe-orchestrator-write\t0.0.0.0/0\tcert\tmap=pe-orchestrator-pe-orchestrator-write-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-orchestrator\tpe-orchestrator-write\t::/0\tcert\tmap=pe-orchestrator-pe-orchestrator-write-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-orchestrator-pe-orchestrator-write-map pe-xl-core-0.puppet.vm pe-orchestrator-write","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-orchestrator\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=pe-orchestrator-pe-ha-replication-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-orchestrator\tpe-ha-replication\t::/0\tcert\tmap=pe-orchestrator-pe-ha-replication-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-orchestrator-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","order":"10"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-orchestrator-pe-ha-replication-map pe-xl-core-0.puppet.vm pe-ha-replication","order":"10"}},{"type":"Pe_postgresql_psql","title":"Check for existence of db 'pe-inventory'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-inventory","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":69,"exported":false,"parameters":{"command":"SELECT 1","unless":"SELECT datname FROM pg_database WHERE datname='pe-inventory'","db":"postgres","port":5432,"require":"Class[Pe_postgresql::Server::Service]","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","notify":["Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-inventory'  'pe-inventory']"]}},{"type":"Exec","title":"/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-inventory'  'pe-inventory'","tags":["exec","pe_postgresql::server::database","pe_postgresql","server","database","pe-inventory","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":76,"exported":false,"parameters":{"refreshonly":true,"user":"pe-postgres","logoutput":"on_failure","notify":["Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-inventory\" FROM public]"],"before":["Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-inventory']"]}},{"type":"Pe_postgresql_psql","title":"REVOKE CONNECT ON DATABASE \"pe-inventory\" FROM public","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-inventory","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":84,"exported":false,"parameters":{"db":"postgres","port":5432,"refreshonly":true,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-inventory'","tags":["pe_postgresql_psql","pe_postgresql::server::database","pe_postgresql","server","database","pe-inventory","pe_postgresql::server::db","db","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database.pp","line":91,"exported":false,"parameters":{"unless":"SELECT datname FROM pg_database WHERE datname = 'pe-inventory' AND datistemplate = false","db":"postgres","psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","port":5432}},{"type":"Pe_postgresql::Server::Grant","title":"database:GRANT pe-inventory - ALL - pe-inventory","tags":["pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/database_grant.pp","line":9,"exported":false,"parameters":{"role":"pe-inventory","db":"pe-inventory","privilege":"ALL","object_type":"DATABASE","object_name":"pe-inventory","psql_db":"postgres","psql_user":"pe-postgres","port":5432}},{"type":"Pe_postgresql_psql","title":"pe-inventory objects should be owned by pe-inventory/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER TABLE \"public\".\"' || tablename || '\" OWNER TO \"pe-inventory\";'\n              AS a\n              FROM pg_tables\n              WHERE schemaname = 'public'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT COUNT(*) FROM pg_tables\n           WHERE schemaname = 'public'\n           AND tableowner != 'pe-inventory') a\n      WHERE a.count = 0\n    "}},{"type":"Pe_postgresql_psql","title":"pe-inventory objects should be owned by pe-inventory/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::enforce_ownership","pg","enforce_ownership","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"\n      DO $$\n        DECLARE r record;\n        BEGIN\n          FOR r IN\n            SELECT 'ALTER FUNCTION \"public\".\"' || p.proname || '\"(' || pg_get_function_identity_arguments(p.oid) || ') OWNER TO \"pe-inventory\";'\n              AS a\n              FROM pg_proc p\n              JOIN pg_namespace n ON p.pronamespace = n.oid\n              JOIN pg_roles ON p.proowner = pg_roles.oid\n              WHERE n.nspname = 'public'\n              AND pg_roles.rolname != 'pe-postgres'\n          LOOP\n            EXECUTE r.a;\n          END LOOP;\n        END\n      $$;\n    ","unless":"\n      SELECT * FROM\n        (SELECT count(*)\n         FROM pg_proc p\n         JOIN pg_roles r ON p.proowner = r.oid\n         JOIN pg_namespace n on p.pronamespace = n.oid\n         WHERE n.nspname = 'public'\n           AND r.rolname != 'pe-inventory'\n           AND r.rolname != 'pe-postgres') a\n      WHERE a.count = 0\n    "}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-inventory-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-read'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-read\" NOSUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-read' and rolsuper=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-read\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-read' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-read\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-read' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-read\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-read' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-read\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-read' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-read\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-read' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-read\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-read","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-read' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant connect perms to pe-inventory-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-read","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/grant_connect.pp","line":6,"exported":false,"parameters":{"db":"pe-inventory","command":"GRANT CONNECT ON DATABASE \"pe-inventory\"\n                TO \"pe-inventory-read\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-inventory-read',\n                 'pe-inventory',\n                 'connect')\n               WHERE has_database_privilege = true","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant read perms on new objects from pe-inventory to pe-inventory-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-read","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_read_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-inventory\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-inventory-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-read\\\\\"=r/\\\\\"pe-inventory\\\\\".*'\n                AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant read perms on new objects from pe-ha-replication to pe-inventory-read/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-read","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_read_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-inventory-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-read\\\\\"=r/\\\\\"pe-ha-replication\\\\\".*'\n                AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"CREATE ROLE \"pe-inventory-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":41,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-write'","require":"Class[Pe_postgresql::Server]","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-write\" NOSUPERUSER","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":46,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-write' and rolsuper=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-write\" NOCREATEDB","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":50,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-write' and rolcreatedb=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-write\" NOCREATEROLE","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":54,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-write' and rolcreaterole=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-write\" LOGIN","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":58,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-write' and rolcanlogin=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-write\" INHERIT","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":62,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-write' and rolinherit=true","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-write\" NOREPLICATION","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":68,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-write' and rolreplication=false","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Pe_postgresql_psql","title":"ALTER ROLE \"pe-inventory-write\" CONNECTION LIMIT -1","tags":["pe_postgresql_psql","pe_postgresql::server::role","pe_postgresql","server","role","pe-inventory-write","puppet_enterprise::pg::ordinary_user","puppet_enterprise","pg","ordinary_user","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/role.pp","line":78,"exported":false,"parameters":{"unless":"SELECT rolname FROM pg_roles WHERE rolname='pe-inventory-write' and rolconnlimit=-1","db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","require":["Pe_postgresql_psql[CREATE ROLE \"pe-inventory-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]","Class[Pe_postgresql::Server]"]}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant connect perms to pe-inventory-write/sql","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/grant_connect.pp","line":6,"exported":false,"parameters":{"db":"pe-inventory","command":"GRANT CONNECT ON DATABASE \"pe-inventory\"\n                TO \"pe-inventory-write\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-inventory-write',\n                 'pe-inventory',\n                 'connect')\n               WHERE has_database_privilege = true","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant write perms on existing objects to pe-inventory-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":8,"exported":false,"parameters":{"db":"pe-inventory","command":"GRANT ALL PRIVILEGES\n                ON ALL TABLES IN SCHEMA \"public\"\n                TO \"pe-inventory-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_tables\n                  WHERE schemaname='public'\n                    AND has_table_privilege('pe-inventory-write', schemaname || '.' || tablename, 'INSERT')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant write perms on existing objects to pe-inventory-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":24,"exported":false,"parameters":{"db":"pe-inventory","command":"GRANT ALL PRIVILEGES\n                ON ALL SEQUENCES IN SCHEMA \"public\"\n                TO \"pe-inventory-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM information_schema.sequences\n                  WHERE sequence_schema='public'\n                    AND has_sequence_privilege('pe-inventory-write', sequence_schema || '.' || sequence_name, 'UPDATE')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant write perms on existing objects to pe-inventory-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/write_grant.pp","line":38,"exported":false,"parameters":{"db":"pe-inventory","command":"GRANT ALL PRIVILEGES\n                ON ALL FUNCTIONS IN SCHEMA \"public\"\n                TO \"pe-inventory-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_catalog.pg_proc p\n                  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n                  WHERE n.nspname='public'\n                    AND has_function_privilege('pe-inventory-write', p.oid, 'execute')=false\n                ) x\n                WHERE x.count=0","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-inventory\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=arwdDxt/\\\\\"pe-inventory\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":31,"exported":false,"parameters":{"db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-inventory\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=rwU/\\\\\"pe-inventory\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":53,"exported":false,"parameters":{"db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-inventory\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=X/\\\\\"pe-inventory\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/tables","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":9,"exported":false,"parameters":{"db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-ha-replication\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=arwdDxt/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/sequences","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":31,"exported":false,"parameters":{"db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=rwU/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Puppet_enterprise::Psql","title":"pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/functions","tags":["puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/default_write_grant.pp","line":53,"exported":false,"parameters":{"db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=X/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql"}},{"type":"Pe_postgresql_psql","title":"pe-inventory/pg_repack/create-or-drop-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"CREATE EXTENSION \"pg_repack\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pg_repack')"}},{"type":"Pe_postgresql_psql","title":"pe-inventory/pg_repack/update-extension-pg_repack","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"ALTER EXTENSION \"pg_repack\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pg_repack' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-inventory/pgcrypto/create-or-drop-extension-pgcrypto","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"CREATE EXTENSION \"pgcrypto\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pgcrypto')"}},{"type":"Pe_postgresql_psql","title":"pe-inventory/pgcrypto/update-extension-pgcrypto","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"ALTER EXTENSION \"pgcrypto\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pgcrypto' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-inventory/pglogical/create-or-drop-extension-pglogical","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"CREATE EXTENSION \"pglogical\"","unless":"SELECT 1 WHERE EXISTS (SELECT 1 FROM pg_extension WHERE extname = 'pglogical')"}},{"type":"Pe_postgresql_psql","title":"pe-inventory/pglogical/update-extension-pglogical","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::extension","pg","extension","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"ALTER EXTENSION \"pglogical\" UPDATE","unless":"SELECT 1 FROM pg_available_extensions WHERE name = 'pglogical' AND default_version = installed_version"}},{"type":"Pe_postgresql_psql","title":"pe-inventory/n6bad1349378221/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::node","pg","pglogical","node","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"SELECT pglogical.create_node(\n      node_name := 'n6bad1349378221',\n      dsn := 'dbname=pe-inventory host=pe-xl-core-0.puppet.vm port=5432 sslcert=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem sslkey=/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem sslmode=verify-full sslrootcert=/etc/puppetlabs/puppet/ssl/certs/ca.pem user=pe-ha-replication')","unless":"SELECT * from pglogical.node WHERE node_name='n6bad1349378221'"}},{"type":"Pe_postgresql_psql","title":"pglogical replication set pe-inventory/default populate-sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::replication_set","pg","pglogical","replication_set","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"SELECT pglogical.replication_set_add_all_tables('default', ARRAY['public'])","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM (SELECT relname from pglogical.tables\n                                WHERE set_name='default'\n                                AND nspname='public') pgl\n                          RIGHT OUTER JOIN information_schema.tables pg\n                          ON pgl.relname=pg.table_name\n                          WHERE pg.table_schema='public'\n                          AND relname IS NULL) c\n                    WHERE c.count = 0"}},{"type":"Pe_postgresql_psql","title":"pglogical_subscription pe-inventory/s6bad1349378221 drop-sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::pglogical::subscription","pg","pglogical","subscription","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"SELECT pglogical.drop_subscription('s6bad1349378221', false)","unless":"SELECT *\n                    FROM (SELECT COUNT(*)\n                          FROM pglogical.subscription\n                          WHERE sub_name='s6bad1349378221') c\n                    WHERE c.count = 0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-inventory\tpe-inventory\t0.0.0.0/0\tcert\tmap=pe-inventory-pe-inventory-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-inventory\tpe-inventory\t::/0\tcert\tmap=pe-inventory-pe-inventory-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-inventory-pe-inventory-map pe-xl-core-0.puppet.vm pe-inventory","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-inventory\tpe-inventory-read\t0.0.0.0/0\tcert\tmap=pe-inventory-pe-inventory-read-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-inventory\tpe-inventory-read\t::/0\tcert\tmap=pe-inventory-pe-inventory-read-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-inventory-pe-inventory-read-map pe-xl-core-0.puppet.vm pe-inventory-read","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-inventory\tpe-inventory-write\t0.0.0.0/0\tcert\tmap=pe-inventory-pe-inventory-write-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-inventory\tpe-inventory-write\t::/0\tcert\tmap=pe-inventory-pe-inventory-write-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-inventory-pe-inventory-write-map pe-xl-core-0.puppet.vm pe-inventory-write","order":"10"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv4)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-inventory\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=pe-inventory-pe-ha-replication-map clientcert=1\n","order":"0"}},{"type":"Pe_concat::Fragment","title":"pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv6)","tags":["pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/pg_hba_rule.pp","line":46,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-inventory\tpe-ha-replication\t::/0\tcert\tmap=pe-inventory-pe-ha-replication-map clientcert=1\n","order":"1"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-inventory-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","order":"10"}},{"type":"Pe_concat::Fragment","title":"Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment","tags":["pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/pg/ident_entry.pp","line":9,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf","content":"pe-inventory-pe-ha-replication-map pe-xl-core-0.puppet.vm pe-ha-replication","order":"10"}},{"type":"Pe_staging::File","title":"puppet-agent-el-7-x86_64.tar.gz","tags":["pe_staging::file","pe_staging","file","puppet-agent-el-7-x86_64.tar.gz","pe_staging::deploy","deploy","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_staging/manifests/deploy.pp","line":22,"exported":false,"parameters":{"source":"https://pm.puppetlabs.com/puppet-agent/2019.1.1/6.4.3/repos/puppet-agent-el-7-x86_64.tar.gz","target":"/opt/puppetlabs/server/data/staging/pe_repo-puppet-agent-6.4.3/puppet-agent-el-7-x86_64.tar.gz","subdir":"pe_repo","curl_option":"","unless":"[ -e '/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/repodata' ]"}},{"type":"Pe_staging::Extract","title":"puppet-agent-el-7-x86_64.tar.gz","tags":["pe_staging::extract","pe_staging","extract","puppet-agent-el-7-x86_64.tar.gz","pe_staging::deploy","deploy","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_staging/manifests/deploy.pp","line":36,"exported":false,"parameters":{"target":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3","source":"/opt/puppetlabs/server/data/staging/pe_repo-puppet-agent-6.4.3/puppet-agent-el-7-x86_64.tar.gz","mode":"0755","subdir":"pe_repo","strip":"5","creates":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/repodata","require":"Pe_staging::File[puppet-agent-el-7-x86_64.tar.gz]"}},{"type":"Exec","title":"Set perms of /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ directories to 0755","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":22,"exported":false,"parameters":{"command":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ -type d ! -perm 0755 -exec chmod -c 0755 {} \\;","onlyif":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ -type d ! -perm 0755 | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Exec","title":"Set perms of /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ contents to 0644","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":31,"exported":false,"parameters":{"command":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ -type f ! -perm 0644 -exec chmod -c 0644 {} \\;","onlyif":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ -type f ! -perm 0644 | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"Exec","title":"Set user/group of /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ contents to root:root","tags":["exec","puppet_enterprise::set_owner_group_permissions","puppet_enterprise","set_owner_group_permissions","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/set_owner_group_permissions.pp","line":36,"exported":false,"parameters":{"command":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ \\( ! -user root -or ! -group root \\) -exec chown root:root -c {} \\;","onlyif":"find /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ \\( ! -user root -or ! -group root \\) | grep '.*'","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","logoutput":true,"loglevel":"notice"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services orchestrator-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.orchestrator.service/orchestrator-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services orchestrator-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services orchestrator-dispatch-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.orchestrator.dispatch/orchestrator-dispatch-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services orchestrator-dispatch-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services jetty9-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.webserver.jetty9-service/jetty9-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services jetty9-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services remote-rbac-consumer-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac-client.services.rbac/remote-rbac-consumer-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services remote-rbac-consumer-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services remote-activity-reporter","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.rbac-client.services.activity/remote-activity-reporter\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services remote-activity-reporter","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services jruby-pool-manager-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::orchestrator","orchestrator","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.services.jruby-pool-manager.jruby-pool-manager-service/jruby-pool-manager-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services jruby-pool-manager-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services broker-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::pcp_broker","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.pcp.broker.service/broker-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services broker-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services authorization-service","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::trapperkeeper::bootstrap_cfg","puppet_enterprise","trapperkeeper","bootstrap_cfg","puppet_enterprise::trapperkeeper::pcp_broker","pcp_broker","orchestration-services","class","puppet_enterprise::profile::orchestrator","profile","orchestrator"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"puppetlabs.trapperkeeper.services.authorization.authorization-service/authorization-service\n","backup":false,"replace":true,"alias":"pe_concat_fragment_orchestration-services authorization-service","notify":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"}},{"type":"Pe_postgresql_psql","title":"GRANT ALL ON DATABASE \"pe-puppetdb\" TO \"pe-puppetdb\"","tags":["pe_postgresql_psql","pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-puppetdb","puppet_enterprise::app_database","puppet_enterprise","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/grant.pp","line":70,"exported":false,"parameters":{"db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","unless":"SELECT 1 WHERE has_database_privilege('pe-puppetdb', 'pe-puppetdb', 'CREATE')","require":"Class[Pe_postgresql::Server]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-puppetdb\tpe-puppetdb\t0.0.0.0/0\tcert\tmap=pe-puppetdb-pe-puppetdb-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-puppetdb\tpe-puppetdb\t::/0\tcert\tmap=pe-puppetdb-pe-puppetdb-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-puppetdb-pe-puppetdb-map pe-xl-core-0.puppet.vm pe-puppetdb","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-puppetdb-pe-puppetdb-map pe-xl-compiler-0.puppet.vm pe-puppetdb","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","puppetdb","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-puppetdb-pe-puppetdb-map pe-xl-core-1.puppet.vm pe-puppetdb","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"Pe_postgresql_psql","title":"GRANT ALL ON DATABASE \"pe-classifier\" TO \"pe-classifier\"","tags":["pe_postgresql_psql","pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-classifier","puppet_enterprise::app_database","puppet_enterprise","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/grant.pp","line":70,"exported":false,"parameters":{"db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","unless":"SELECT 1 WHERE has_database_privilege('pe-classifier', 'pe-classifier', 'CREATE')","require":"Class[Pe_postgresql::Server]"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant connect perms to pe-classifier-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-read","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"GRANT CONNECT ON DATABASE \"pe-classifier\"\n                TO \"pe-classifier-read\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-classifier-read',\n                 'pe-classifier',\n                 'connect')\n               WHERE has_database_privilege = true"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant read perms on new objects from pe-classifier to pe-classifier-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-read","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-classifier\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-classifier-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-read\\\\\"=r/\\\\\"pe-classifier\\\\\".*'\n                AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant read perms on new objects from pe-ha-replication to pe-classifier-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-read","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-classifier-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-read\\\\\"=r/\\\\\"pe-ha-replication\\\\\".*'\n                AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant connect perms to pe-classifier-write/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"GRANT CONNECT ON DATABASE \"pe-classifier\"\n                TO \"pe-classifier-write\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-classifier-write',\n                 'pe-classifier',\n                 'connect')\n               WHERE has_database_privilege = true"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant write perms on existing objects to pe-classifier-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"GRANT ALL PRIVILEGES\n                ON ALL TABLES IN SCHEMA \"public\"\n                TO \"pe-classifier-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_tables\n                  WHERE schemaname='public'\n                    AND has_table_privilege('pe-classifier-write', schemaname || '.' || tablename, 'INSERT')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant write perms on existing objects to pe-classifier-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"GRANT ALL PRIVILEGES\n                ON ALL SEQUENCES IN SCHEMA \"public\"\n                TO \"pe-classifier-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM information_schema.sequences\n                  WHERE sequence_schema='public'\n                    AND has_sequence_privilege('pe-classifier-write', sequence_schema || '.' || sequence_name, 'UPDATE')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant write perms on existing objects to pe-classifier-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"GRANT ALL PRIVILEGES\n                ON ALL FUNCTIONS IN SCHEMA \"public\"\n                TO \"pe-classifier-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_catalog.pg_proc p\n                  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n                  WHERE n.nspname='public'\n                    AND has_function_privilege('pe-classifier-write', p.oid, 'execute')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-classifier\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=arwdDxt/\\\\\"pe-classifier\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-classifier\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=rwU/\\\\\"pe-classifier\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-classifier\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=X/\\\\\"pe-classifier\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-ha-replication\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=arwdDxt/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=rwU/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-classifier-write","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-classifier","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-classifier-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-classifier-write\\\\\"=X/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-classifier\tpe-classifier\t0.0.0.0/0\tcert\tmap=pe-classifier-pe-classifier-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-classifier\tpe-classifier\t::/0\tcert\tmap=pe-classifier-pe-classifier-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-classifier-pe-classifier-map pe-xl-core-0.puppet.vm pe-classifier","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-classifier\tpe-classifier-read\t0.0.0.0/0\tcert\tmap=pe-classifier-pe-classifier-read-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-classifier\tpe-classifier-read\t::/0\tcert\tmap=pe-classifier-pe-classifier-read-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-classifier-pe-classifier-read-map pe-xl-core-0.puppet.vm pe-classifier-read","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-classifier\tpe-classifier-write\t0.0.0.0/0\tcert\tmap=pe-classifier-pe-classifier-write-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-classifier\tpe-classifier-write\t::/0\tcert\tmap=pe-classifier-pe-classifier-write-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-classifier-pe-classifier-write-map pe-xl-core-0.puppet.vm pe-classifier-write","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-classifier\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=pe-classifier-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-classifier\tpe-ha-replication\t::/0\tcert\tmap=pe-classifier-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-classifier-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","classifier","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-classifier-pe-ha-replication-map pe-xl-core-0.puppet.vm pe-ha-replication","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"Pe_postgresql_psql","title":"GRANT ALL ON DATABASE \"pe-rbac\" TO \"pe-rbac\"","tags":["pe_postgresql_psql","pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-rbac","puppet_enterprise::app_database","puppet_enterprise","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/grant.pp","line":70,"exported":false,"parameters":{"db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","unless":"SELECT 1 WHERE has_database_privilege('pe-rbac', 'pe-rbac', 'CREATE')","require":"Class[Pe_postgresql::Server]"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant connect perms to pe-rbac-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-read","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"GRANT CONNECT ON DATABASE \"pe-rbac\"\n                TO \"pe-rbac-read\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-rbac-read',\n                 'pe-rbac',\n                 'connect')\n               WHERE has_database_privilege = true"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant read perms on new objects from pe-rbac to pe-rbac-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-read","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-rbac\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-rbac-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-read\\\\\"=r/\\\\\"pe-rbac\\\\\".*'\n                AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant read perms on new objects from pe-ha-replication to pe-rbac-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-read","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-rbac-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-read\\\\\"=r/\\\\\"pe-ha-replication\\\\\".*'\n                AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant connect perms to pe-rbac-write/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"GRANT CONNECT ON DATABASE \"pe-rbac\"\n                TO \"pe-rbac-write\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-rbac-write',\n                 'pe-rbac',\n                 'connect')\n               WHERE has_database_privilege = true"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant write perms on existing objects to pe-rbac-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"GRANT ALL PRIVILEGES\n                ON ALL TABLES IN SCHEMA \"public\"\n                TO \"pe-rbac-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_tables\n                  WHERE schemaname='public'\n                    AND has_table_privilege('pe-rbac-write', schemaname || '.' || tablename, 'INSERT')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant write perms on existing objects to pe-rbac-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"GRANT ALL PRIVILEGES\n                ON ALL SEQUENCES IN SCHEMA \"public\"\n                TO \"pe-rbac-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM information_schema.sequences\n                  WHERE sequence_schema='public'\n                    AND has_sequence_privilege('pe-rbac-write', sequence_schema || '.' || sequence_name, 'UPDATE')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant write perms on existing objects to pe-rbac-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"GRANT ALL PRIVILEGES\n                ON ALL FUNCTIONS IN SCHEMA \"public\"\n                TO \"pe-rbac-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_catalog.pg_proc p\n                  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n                  WHERE n.nspname='public'\n                    AND has_function_privilege('pe-rbac-write', p.oid, 'execute')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-rbac\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=arwdDxt/\\\\\"pe-rbac\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-rbac\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=rwU/\\\\\"pe-rbac\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-rbac\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=X/\\\\\"pe-rbac\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-ha-replication\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=arwdDxt/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=rwU/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-rbac-write","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-rbac","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-rbac-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-rbac-write\\\\\"=X/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-rbac\tpe-rbac\t0.0.0.0/0\tcert\tmap=pe-rbac-pe-rbac-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-rbac\tpe-rbac\t::/0\tcert\tmap=pe-rbac-pe-rbac-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-rbac-pe-rbac-map pe-xl-core-0.puppet.vm pe-rbac","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-rbac\tpe-rbac-read\t0.0.0.0/0\tcert\tmap=pe-rbac-pe-rbac-read-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-rbac\tpe-rbac-read\t::/0\tcert\tmap=pe-rbac-pe-rbac-read-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-rbac-pe-rbac-read-map pe-xl-core-0.puppet.vm pe-rbac-read","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-rbac\tpe-rbac-write\t0.0.0.0/0\tcert\tmap=pe-rbac-pe-rbac-write-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-rbac\tpe-rbac-write\t::/0\tcert\tmap=pe-rbac-pe-rbac-write-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-rbac-pe-rbac-write-map pe-xl-core-0.puppet.vm pe-rbac-write","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-rbac\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=pe-rbac-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-rbac\tpe-ha-replication\t::/0\tcert\tmap=pe-rbac-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-rbac-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","rbac","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-rbac-pe-ha-replication-map pe-xl-core-0.puppet.vm pe-ha-replication","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"Pe_postgresql_psql","title":"GRANT ALL ON DATABASE \"pe-activity\" TO \"pe-activity\"","tags":["pe_postgresql_psql","pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-activity","puppet_enterprise::app_database","puppet_enterprise","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/grant.pp","line":70,"exported":false,"parameters":{"db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","unless":"SELECT 1 WHERE has_database_privilege('pe-activity', 'pe-activity', 'CREATE')","require":"Class[Pe_postgresql::Server]"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant connect perms to pe-activity-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-read","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"GRANT CONNECT ON DATABASE \"pe-activity\"\n                TO \"pe-activity-read\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-activity-read',\n                 'pe-activity',\n                 'connect')\n               WHERE has_database_privilege = true"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant read perms on new objects from pe-activity to pe-activity-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-read","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-activity\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-activity-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-read\\\\\"=r/\\\\\"pe-activity\\\\\".*'\n                AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant read perms on new objects from pe-ha-replication to pe-activity-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-read","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-activity-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-read\\\\\"=r/\\\\\"pe-ha-replication\\\\\".*'\n                AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant connect perms to pe-activity-write/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"GRANT CONNECT ON DATABASE \"pe-activity\"\n                TO \"pe-activity-write\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-activity-write',\n                 'pe-activity',\n                 'connect')\n               WHERE has_database_privilege = true"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant write perms on existing objects to pe-activity-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"GRANT ALL PRIVILEGES\n                ON ALL TABLES IN SCHEMA \"public\"\n                TO \"pe-activity-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_tables\n                  WHERE schemaname='public'\n                    AND has_table_privilege('pe-activity-write', schemaname || '.' || tablename, 'INSERT')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant write perms on existing objects to pe-activity-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"GRANT ALL PRIVILEGES\n                ON ALL SEQUENCES IN SCHEMA \"public\"\n                TO \"pe-activity-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM information_schema.sequences\n                  WHERE sequence_schema='public'\n                    AND has_sequence_privilege('pe-activity-write', sequence_schema || '.' || sequence_name, 'UPDATE')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant write perms on existing objects to pe-activity-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"GRANT ALL PRIVILEGES\n                ON ALL FUNCTIONS IN SCHEMA \"public\"\n                TO \"pe-activity-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_catalog.pg_proc p\n                  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n                  WHERE n.nspname='public'\n                    AND has_function_privilege('pe-activity-write', p.oid, 'execute')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant write perms on new objects from pe-activity to pe-activity-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-activity\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=arwdDxt/\\\\\"pe-activity\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant write perms on new objects from pe-activity to pe-activity-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-activity\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=rwU/\\\\\"pe-activity\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant write perms on new objects from pe-activity to pe-activity-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-activity\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=X/\\\\\"pe-activity\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-ha-replication\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=arwdDxt/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=rwU/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-activity-write","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-activity","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-activity-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-activity-write\\\\\"=X/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-activity\tpe-activity\t0.0.0.0/0\tcert\tmap=pe-activity-pe-activity-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-activity\tpe-activity\t::/0\tcert\tmap=pe-activity-pe-activity-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-activity-pe-activity-map pe-xl-core-0.puppet.vm pe-activity","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity-read (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-activity\tpe-activity-read\t0.0.0.0/0\tcert\tmap=pe-activity-pe-activity-read-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity-read (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-activity\tpe-activity-read\t::/0\tcert\tmap=pe-activity-pe-activity-read-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-activity-pe-activity-read-map pe-xl-core-0.puppet.vm pe-activity-read","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity-write (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-activity\tpe-activity-write\t0.0.0.0/0\tcert\tmap=pe-activity-pe-activity-write-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-activity-write (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-activity\tpe-activity-write\t::/0\tcert\tmap=pe-activity-pe-activity-write-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-activity-pe-activity-write-map pe-xl-core-0.puppet.vm pe-activity-write","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-activity\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=pe-activity-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-activity\tpe-ha-replication\t::/0\tcert\tmap=pe-activity-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-activity-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","activity","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-activity-pe-ha-replication-map pe-xl-core-0.puppet.vm pe-ha-replication","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"Pe_postgresql_psql","title":"GRANT ALL ON DATABASE \"pe-orchestrator\" TO \"pe-orchestrator\"","tags":["pe_postgresql_psql","pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-orchestrator","puppet_enterprise::app_database","puppet_enterprise","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/grant.pp","line":70,"exported":false,"parameters":{"db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","unless":"SELECT 1 WHERE has_database_privilege('pe-orchestrator', 'pe-orchestrator', 'CREATE')","require":"Class[Pe_postgresql::Server]"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant connect perms to pe-orchestrator-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-read","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"GRANT CONNECT ON DATABASE \"pe-orchestrator\"\n                TO \"pe-orchestrator-read\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-orchestrator-read',\n                 'pe-orchestrator',\n                 'connect')\n               WHERE has_database_privilege = true"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant read perms on new objects from pe-orchestrator to pe-orchestrator-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-read","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-orchestrator\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-orchestrator-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-read\\\\\"=r/\\\\\"pe-orchestrator\\\\\".*'\n                AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant read perms on new objects from pe-ha-replication to pe-orchestrator-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-read","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-orchestrator-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-read\\\\\"=r/\\\\\"pe-ha-replication\\\\\".*'\n                AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant connect perms to pe-orchestrator-write/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"GRANT CONNECT ON DATABASE \"pe-orchestrator\"\n                TO \"pe-orchestrator-write\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-orchestrator-write',\n                 'pe-orchestrator',\n                 'connect')\n               WHERE has_database_privilege = true"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"GRANT ALL PRIVILEGES\n                ON ALL TABLES IN SCHEMA \"public\"\n                TO \"pe-orchestrator-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_tables\n                  WHERE schemaname='public'\n                    AND has_table_privilege('pe-orchestrator-write', schemaname || '.' || tablename, 'INSERT')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"GRANT ALL PRIVILEGES\n                ON ALL SEQUENCES IN SCHEMA \"public\"\n                TO \"pe-orchestrator-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM information_schema.sequences\n                  WHERE sequence_schema='public'\n                    AND has_sequence_privilege('pe-orchestrator-write', sequence_schema || '.' || sequence_name, 'UPDATE')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"GRANT ALL PRIVILEGES\n                ON ALL FUNCTIONS IN SCHEMA \"public\"\n                TO \"pe-orchestrator-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_catalog.pg_proc p\n                  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n                  WHERE n.nspname='public'\n                    AND has_function_privilege('pe-orchestrator-write', p.oid, 'execute')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-orchestrator\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=arwdDxt/\\\\\"pe-orchestrator\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-orchestrator\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=rwU/\\\\\"pe-orchestrator\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-orchestrator\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=X/\\\\\"pe-orchestrator\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-ha-replication\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=arwdDxt/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=rwU/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-orchestrator-write","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-orchestrator","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-orchestrator-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-orchestrator-write\\\\\"=X/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-orchestrator\tpe-orchestrator\t0.0.0.0/0\tcert\tmap=pe-orchestrator-pe-orchestrator-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-orchestrator\tpe-orchestrator\t::/0\tcert\tmap=pe-orchestrator-pe-orchestrator-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-orchestrator-pe-orchestrator-map pe-xl-core-0.puppet.vm pe-orchestrator","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-orchestrator\tpe-orchestrator-read\t0.0.0.0/0\tcert\tmap=pe-orchestrator-pe-orchestrator-read-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-orchestrator\tpe-orchestrator-read\t::/0\tcert\tmap=pe-orchestrator-pe-orchestrator-read-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-orchestrator-pe-orchestrator-read-map pe-xl-core-0.puppet.vm pe-orchestrator-read","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-orchestrator\tpe-orchestrator-write\t0.0.0.0/0\tcert\tmap=pe-orchestrator-pe-orchestrator-write-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-orchestrator\tpe-orchestrator-write\t::/0\tcert\tmap=pe-orchestrator-pe-orchestrator-write-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-orchestrator-pe-orchestrator-write-map pe-xl-core-0.puppet.vm pe-orchestrator-write","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-orchestrator\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=pe-orchestrator-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-orchestrator\tpe-ha-replication\t::/0\tcert\tmap=pe-orchestrator-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-orchestrator-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","orchestrator","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-orchestrator-pe-ha-replication-map pe-xl-core-0.puppet.vm pe-ha-replication","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"Pe_postgresql_psql","title":"GRANT ALL ON DATABASE \"pe-inventory\" TO \"pe-inventory\"","tags":["pe_postgresql_psql","pe_postgresql::server::grant","pe_postgresql","server","grant","pe_postgresql::server::database_grant","database_grant","pe_postgresql::server::db","db","pe-inventory","puppet_enterprise::app_database","puppet_enterprise","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_postgresql/manifests/server/grant.pp","line":70,"exported":false,"parameters":{"db":"postgres","port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","unless":"SELECT 1 WHERE has_database_privilege('pe-inventory', 'pe-inventory', 'CREATE')","require":"Class[Pe_postgresql::Server]"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant connect perms to pe-inventory-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-read","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"GRANT CONNECT ON DATABASE \"pe-inventory\"\n                TO \"pe-inventory-read\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-inventory-read',\n                 'pe-inventory',\n                 'connect')\n               WHERE has_database_privilege = true"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant read perms on new objects from pe-inventory to pe-inventory-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-read","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-inventory\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-inventory-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-read\\\\\"=r/\\\\\"pe-inventory\\\\\".*'\n                AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant read perms on new objects from pe-ha-replication to pe-inventory-read/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_read_grant","pg","default_read_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-read","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                GRANT SELECT ON TABLES\n                  TO \"pe-inventory-read\"","unless":"SELECT\n                  ns.nspname,\n                  acl.defaclobjtype,\n                  acl.defaclacl\n                FROM pg_default_acl acl\n                JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-read\\\\\"=r/\\\\\"pe-ha-replication\\\\\".*'\n                AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant connect perms to pe-inventory-write/sql","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::grant_connect","pg","grant_connect","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"GRANT CONNECT ON DATABASE \"pe-inventory\"\n                TO \"pe-inventory-write\"","unless":"SELECT * FROM has_database_privilege(\n                 'pe-inventory-write',\n                 'pe-inventory',\n                 'connect')\n               WHERE has_database_privilege = true"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant write perms on existing objects to pe-inventory-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"GRANT ALL PRIVILEGES\n                ON ALL TABLES IN SCHEMA \"public\"\n                TO \"pe-inventory-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_tables\n                  WHERE schemaname='public'\n                    AND has_table_privilege('pe-inventory-write', schemaname || '.' || tablename, 'INSERT')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant write perms on existing objects to pe-inventory-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"GRANT ALL PRIVILEGES\n                ON ALL SEQUENCES IN SCHEMA \"public\"\n                TO \"pe-inventory-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM information_schema.sequences\n                  WHERE sequence_schema='public'\n                    AND has_sequence_privilege('pe-inventory-write', sequence_schema || '.' || sequence_name, 'UPDATE')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant write perms on existing objects to pe-inventory-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::write_grant","pg","write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"GRANT ALL PRIVILEGES\n                ON ALL FUNCTIONS IN SCHEMA \"public\"\n                TO \"pe-inventory-write\"","unless":"SELECT * FROM (\n                  SELECT COUNT(*)\n                  FROM pg_catalog.pg_proc p\n                  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n                  WHERE n.nspname='public'\n                    AND has_function_privilege('pe-inventory-write', p.oid, 'execute')=false\n                ) x\n                WHERE x.count=0"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-inventory\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=arwdDxt/\\\\\"pe-inventory\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-inventory\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=rwU/\\\\\"pe-inventory\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-inventory\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=X/\\\\\"pe-inventory\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/tables","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                    FOR USER \"pe-ha-replication\"\n                    IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON TABLES\n                    TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=arwdDxt/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='r'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/sequences","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON SEQUENCES\n                  TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=rwU/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='S'\n                    AND nspname = 'public'"}},{"type":"Pe_postgresql_psql","title":"pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/functions","tags":["pe_postgresql_psql","puppet_enterprise::psql","puppet_enterprise","psql","puppet_enterprise::pg::default_write_grant","pg","default_write_grant","puppet_enterprise::pg::ordinary_user","ordinary_user","pe-inventory-write","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/puppet_enterprise/manifests/psql.pp","line":12,"exported":false,"parameters":{"port":5432,"psql_user":"pe-postgres","psql_group":"pe-postgres","psql_path":"/opt/puppetlabs/server/bin/psql","db":"pe-inventory","command":"ALTER DEFAULT PRIVILEGES\n                  FOR USER \"pe-ha-replication\"\n                  IN SCHEMA \"public\"\n                  GRANT ALL PRIVILEGES ON FUNCTIONS\n                  TO \"pe-inventory-write\"","unless":"SELECT\n                    ns.nspname,\n                    acl.defaclobjtype,\n                    acl.defaclacl\n                  FROM pg_default_acl acl\n                  JOIN pg_namespace ns ON acl.defaclnamespace=ns.oid\n                  WHERE acl.defaclacl::text ~ '.*\\\\\"pe-inventory-write\\\\\"=X/\\\\\"pe-ha-replication\\\\\".*'\n                    AND acl.defaclobjtype='f'\n                    AND nspname = 'public'"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-inventory\tpe-inventory\t0.0.0.0/0\tcert\tmap=pe-inventory-pe-inventory-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-inventory\tpe-inventory\t::/0\tcert\tmap=pe-inventory-pe-inventory-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-inventory-pe-inventory-map pe-xl-core-0.puppet.vm pe-inventory","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-inventory\tpe-inventory-read\t0.0.0.0/0\tcert\tmap=pe-inventory-pe-inventory-read-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-inventory\tpe-inventory-read\t::/0\tcert\tmap=pe-inventory-pe-inventory-read-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-inventory-pe-inventory-read-map pe-xl-core-0.puppet.vm pe-inventory-read","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-inventory\tpe-inventory-write\t0.0.0.0/0\tcert\tmap=pe-inventory-pe-inventory-write-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-inventory\tpe-inventory-write\t::/0\tcert\tmap=pe-inventory-pe-inventory-write-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-inventory-pe-inventory-write-map pe-xl-core-0.puppet.vm pe-inventory-write","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv4)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv4)\n# Description: none\n# Order: 0\nhostssl\tpe-inventory\tpe-ha-replication\t0.0.0.0/0\tcert\tmap=pe-inventory-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv4)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv6)","tags":["file","pe_concat::fragment","pe_concat","fragment","pe_postgresql::server::pg_hba_rule","pe_postgresql","server","pg_hba_rule","puppet_enterprise::pg::cert_whitelist_entry","puppet_enterprise","pg","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"\n# Rule Name: Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv6)\n# Description: none\n# Order: 1\nhostssl\tpe-inventory\tpe-ha-replication\t::/0\tcert\tmap=pe-inventory-pe-ha-replication-map clientcert=1\n","backup":false,"replace":true,"alias":"pe_concat_fragment_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv6)","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-inventory-pe-ha-replication-map pe-xl-core-1.puppet.vm pe-ha-replication","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"File","title":"/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment","tags":["file","pe_concat::fragment","pe_concat","fragment","puppet_enterprise::pg::ident_entry","puppet_enterprise","pg","ident_entry","puppet_enterprise::pg::cert_whitelist_entry","cert_whitelist_entry","puppet_enterprise::app_database","app_database","inventory","class","puppet_enterprise::profile::database","profile","database"],"file":"/opt/puppetlabs/puppet/modules/pe_concat/manifests/fragment.pp","line":113,"exported":false,"parameters":{"ensure":"file","owner":"root","mode":"0640","content":"pe-inventory-pe-ha-replication-map pe-xl-core-0.puppet.vm pe-ha-replication","backup":false,"replace":true,"alias":"pe_concat_fragment_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment","notify":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"}},{"type":"Exec","title":"/opt/puppetlabs/server/data/staging/pe_repo-puppet-agent-6.4.3/puppet-agent-el-7-x86_64.tar.gz","tags":["exec","pe_staging::file","pe_staging","file","puppet-agent-el-7-x86_64.tar.gz","pe_staging::deploy","deploy","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_staging/manifests/file.pp","line":101,"exported":false,"parameters":{"command":"curl  -f -L -o puppet-agent-el-7-x86_64.tar.gz https://pm.puppetlabs.com/puppet-agent/2019.1.1/6.4.3/repos/puppet-agent-el-7-x86_64.tar.gz","path":"/opt/puppetlabs/puppet/bin:/usr/local/bin:/usr/bin:/bin","cwd":"/opt/puppetlabs/server/data/staging/pe_repo-puppet-agent-6.4.3","creates":"/opt/puppetlabs/server/data/staging/pe_repo-puppet-agent-6.4.3/puppet-agent-el-7-x86_64.tar.gz","logoutput":"on_failure","unless":"[ -e '/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/repodata' ]"}},{"type":"Exec","title":"extract puppet-agent-el-7-x86_64.tar.gz","tags":["exec","pe_staging::extract","pe_staging","extract","puppet-agent-el-7-x86_64.tar.gz","pe_staging::deploy","deploy","pe_repo::repo","pe_repo","repo","pe_repo::el","el","el-7-x86_64","class","pe_repo::platform::el_7_x86_64","platform","el_7_x86_64"],"file":"/opt/puppetlabs/puppet/modules/pe_staging/manifests/extract.pp","line":106,"exported":false,"parameters":{"command":"tar xzf /opt/puppetlabs/server/data/staging/pe_repo-puppet-agent-6.4.3/puppet-agent-el-7-x86_64.tar.gz --strip=5","path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin","cwd":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3","creates":"/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/repodata","logoutput":"on_failure"}}],"edges":[{"source":"Stage[main]","target":"Class[Settings]"},{"source":"Stage[main]","target":"Class[Main]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Params]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Agent]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Console]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Database]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Master]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Puppetdb]"},{"source":"Stage[main]","target":"Class[Pe_repo]"},{"source":"Stage[main]","target":"Class[Pe_repo::Platform::El_7_x86_64]"},{"source":"Stage[main]","target":"Class[Pe_repo::Platform::Windows_x86_64]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::License]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Certificate_authority]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Orchestrator]"},{"source":"Class[Puppet_enterprise]","target":"Pe_anchor[puppet_enterprise:barrier:ca]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Symlinks]"},{"source":"Class[Puppet_enterprise::Symlinks]","target":"File[/usr/local]"},{"source":"Class[Puppet_enterprise::Symlinks]","target":"File[/usr/local/bin]"},{"source":"Class[Puppet_enterprise::Symlinks]","target":"File[/usr/local/bin/facter]"},{"source":"Class[Puppet_enterprise::Symlinks]","target":"File[/usr/local/bin/puppet]"},{"source":"Class[Puppet_enterprise::Symlinks]","target":"File[/usr/local/bin/pe-man]"},{"source":"Class[Puppet_enterprise::Symlinks]","target":"File[/usr/local/bin/hiera]"},{"source":"Class[Puppet_enterprise::Symlinks]","target":"File[/usr/local/bin/r10k]"},{"source":"Class[Puppet_enterprise::Symlinks]","target":"File[/usr/local/bin/eyaml]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Pxp_agent]"},{"source":"Class[Puppet_enterprise::Pxp_agent]","target":"File[/etc/puppetlabs/pxp-agent/pxp-agent.conf]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Pxp_agent::Service]"},{"source":"Class[Puppet_enterprise::Pxp_agent::Service]","target":"Service[pxp-agent]"},{"source":"Class[Puppet_enterprise::Profile::Agent]","target":"Pe_ini_setting[agent conf file server_list]"},{"source":"Class[Puppet_enterprise::Profile::Agent]","target":"File[/opt/puppetlabs/puppet/cache/state/package_inventory_enabled]"},{"source":"Class[Puppet_enterprise::Profile::Agent]","target":"File[/opt/puppetlabs/bin/puppet-enterprise-uninstaller]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Console::Certs]"},{"source":"Class[Puppet_enterprise::Profile::Console::Certs]","target":"Puppet_enterprise::Certs[pe-console-services::server_cert]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Packages]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Repo]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Repo::Config]"},{"source":"Class[Puppet_enterprise::Repo]","target":"Class[Puppet_enterprise::Repo::Config]"},{"source":"Class[Puppet_enterprise::Repo::Config]","target":"File[/etc/yum.repos.d/pe_repo.repo]"},{"source":"Class[Puppet_enterprise::Repo::Config]","target":"File[/etc/yum.repos.d/pc_repo.repo]"},{"source":"Class[Puppet_enterprise::Repo::Config]","target":"Yumrepo[puppet_enterprise]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-bundler]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-postgresql-common]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-postgresql96-pglogical]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-postgresql96-pgrepack]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-java]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-puppetdb]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-console-services]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-client-tools]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-license]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-puppetdb-termini]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-console-services-termini]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-puppetserver]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-modules]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-tasks]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-backup-tools]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-installer]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-orchestration-services]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-bolt-server]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-ace-server]"},{"source":"Class[Puppet_enterprise::Packages]","target":"Package[pe-puppet-enterprise-release]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Console::Console_services_config]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"File[/etc/puppetlabs/console-services/conf.d/webserver.conf]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.host]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.port]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.ssl-host]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.ssl-port]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.ssl-cert]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.ssl-key]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.ssl-ca-cert]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.console.host]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.console.port]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.api.host]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.api.port]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[console-services.webserver.status-proxy]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[web-router-service.\"puppetlabs.activity.services/activity-service\"]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[web-router-service.\"puppetlabs.rbac.services.http.api/rbac-http-api-service\"]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[web-router-service.\"puppetlabs.pe-console-ui.service/pe-console-ui-service\".pe-console-app]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[web-router-service.\"puppetlabs.pe-console-auth-ui.service/pe-console-auth-ui-service\".authn-app]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[web-router-service.\"puppetlabs.classifier.main/classifier-service\"]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[web-router-service.\"puppetlabs.trapperkeeper.services.status.status-service/status-service\"]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[web-router-service.\"puppetlabs.trapperkeeper.services.status.status-proxy-service/status-proxy-service\"]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[web-router-service.\"puppetlabs.trapperkeeper.services.metrics.metrics-service/metrics-webservice\"]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[status-proxy]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[web-router-service.remove-rbac-ui-service]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[web-router-service.remove-helpers-service]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Pe_hocon_setting[web-router-service.remove-classifier-ui-service]"},{"source":"Class[Puppet_enterprise::Profile::Console::Console_services_config]","target":"Puppet_enterprise::Trapperkeeper::Global_settings[console-services]"},{"source":"Class[Puppet_enterprise::Profile::Console]","target":"Puppet_enterprise::Trapperkeeper::Activity[console-services]"},{"source":"Class[Puppet_enterprise::Profile::Console]","target":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]"},{"source":"Class[Puppet_enterprise::Profile::Console]","target":"File[/etc/puppetlabs/console-services/rbac-certificate-whitelist]"},{"source":"Class[Puppet_enterprise::Profile::Console]","target":"Puppet_enterprise::Certs::Whitelist_entry[rbac cert whitelist entry: pe-xl-core-0.puppet.vm]"},{"source":"Class[Puppet_enterprise::Profile::Console]","target":"Puppet_enterprise::Certs::Whitelist_entry[rbac cert whitelist entry: pe-xl-compiler-0.puppet.vm]"},{"source":"Class[Puppet_enterprise::Profile::Console]","target":"Puppet_enterprise::Certs::Whitelist_entry[rbac cert whitelist entry: pe-xl-core-1.puppet.vm]"},{"source":"Class[Puppet_enterprise::Profile::Console]","target":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Console_services]"},{"source":"Class[Puppet_enterprise::Console_services]","target":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]"},{"source":"Class[Puppet_enterprise::Console_services]","target":"Puppet_enterprise::Trapperkeeper::Java_args[console-services]"},{"source":"Class[Puppet_enterprise::Console_services]","target":"Puppet_enterprise::Trapperkeeper::Init_defaults[console-services]"},{"source":"Class[Puppet_enterprise::Console_services]","target":"Puppet_enterprise::Trapperkeeper::Pe_service[console-services]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Console::Proxy]"},{"source":"Stage[main]","target":"Class[Pe_nginx]"},{"source":"Stage[main]","target":"Class[Pe_nginx::Params]"},{"source":"Class[Pe_nginx]","target":"Package[pe-nginx]"},{"source":"Class[Pe_nginx]","target":"Service[pe-nginx]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"File[/etc/puppetlabs/nginx/conf.d/proxy.conf]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"File[/etc/puppetlabs/nginx/dhparam_puppetproxy.pem]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Console::Proxy::Nginx_conf]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy::Nginx_conf]","target":"Pe_nginx::Directive[gzip]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy::Nginx_conf]","target":"Pe_nginx::Directive[gzip_comp_level]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy::Nginx_conf]","target":"Pe_nginx::Directive[gzip_min_length]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy::Nginx_conf]","target":"Pe_nginx::Directive[gzip_proxied]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy::Nginx_conf]","target":"Pe_nginx::Directive[gzip_vary]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy::Nginx_conf]","target":"Pe_nginx::Directive[gzip_types]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[server_name]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[listen]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[ssl_certificate]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[ssl_certificate_key]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[ssl_crl]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[ssl_prefer_server_ciphers]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[ssl_ciphers]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[ssl_protocols]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[ssl_dhparam]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[ssl_verify_client]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[ssl_verify_depth]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[ssl_session_timeout]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[ssl_session_cache]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[proxy_pass]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[proxy_redirect]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[proxy_read_timeout]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[proxy_set_header x-ssl-subject]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[proxy_set_header x-client-dn]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[proxy_set_header x-client-verify]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy]","target":"Pe_nginx::Directive[proxy_set_header x-forwarded-for]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Console::Proxy::Http_redirect]"},{"source":"Class[Puppet_enterprise::Profile::Console::Proxy::Http_redirect]","target":"File[/etc/puppetlabs/nginx/conf.d/http_redirect.conf]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Console::Cache]"},{"source":"Class[Puppet_enterprise::Profile::Console::Cache]","target":"File[/etc/puppetlabs/console-services/conf.d/cache.conf]"},{"source":"Class[Puppet_enterprise::Profile::Console::Cache]","target":"Pe_hocon_setting[console-services.console.cache-size-bytes]"},{"source":"Class[Puppet_enterprise::Profile::Console::Cache]","target":"Pe_hocon_setting[console-services.console.cache-whitelist]"},{"source":"Stage[main]","target":"Class[Pe_postgresql::Globals]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Postgresql::Client]"},{"source":"Stage[main]","target":"Class[Pe_postgresql::Params]"},{"source":"Stage[main]","target":"Class[Pe_postgresql::Client]"},{"source":"Class[Pe_postgresql::Client]","target":"Package[postgresql-client]"},{"source":"Class[Pe_postgresql::Client]","target":"File[/opt/puppetlabs/server/bin/validate_postgresql_connection.sh]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Postgresql::Remove]"},{"source":"Class[Puppet_enterprise::Postgresql::Remove]","target":"Package[pe-postgresql-pglogical]"},{"source":"Class[Puppet_enterprise::Postgresql::Remove]","target":"Package[pe-postgresql-pgrepack]"},{"source":"Class[Puppet_enterprise::Postgresql::Remove]","target":"Package[pe-postgresql-contrib]"},{"source":"Class[Puppet_enterprise::Postgresql::Remove]","target":"Package[pe-postgresql-devel]"},{"source":"Class[Puppet_enterprise::Postgresql::Remove]","target":"Package[pe-postgresql-server]"},{"source":"Class[Puppet_enterprise::Postgresql::Remove]","target":"Package[pe-postgresql]"},{"source":"Stage[main]","target":"Class[Pe_postgresql::Server::Contrib]"},{"source":"Class[Pe_postgresql::Server::Contrib]","target":"Package[postgresql-contrib]"},{"source":"Class[Pe_postgresql::Server::Contrib]","target":"Pe_anchor[pe_postgresql::server::contrib::start]"},{"source":"Class[Pe_postgresql::Server::Contrib]","target":"Pe_anchor[pe_postgresql::server::contrib::end]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"File[/opt/puppetlabs/server/data/postgresql]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"File[/opt/puppetlabs/server/data/postgresql/9.6]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"File[/opt/puppetlabs/server/data/postgresql/9.6/data/postgresql.conf]"},{"source":"Stage[main]","target":"Class[Pe_postgresql::Server]"},{"source":"Stage[main]","target":"Class[Pe_postgresql::Server::Reload]"},{"source":"Class[Pe_postgresql::Server::Reload]","target":"Exec[postgresql_reload]"},{"source":"Class[Pe_postgresql::Server]","target":"Pe_anchor[pe_postgresql::server::start]"},{"source":"Stage[main]","target":"Class[Pe_postgresql::Server::Install]"},{"source":"Class[Pe_postgresql::Server::Install]","target":"Package[postgresql-server]"},{"source":"Stage[main]","target":"Class[Pe_postgresql::Server::Initdb]"},{"source":"Class[Pe_postgresql::Server::Initdb]","target":"File[/opt/puppetlabs/server/data/postgresql/9.6/data]"},{"source":"Class[Pe_postgresql::Server::Initdb]","target":"Exec[postgresql_initdb]"},{"source":"Stage[main]","target":"Class[Pe_postgresql::Server::Config]"},{"source":"Class[Pe_postgresql::Server::Config]","target":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"},{"source":"Class[Pe_postgresql::Server::Config]","target":"Pe_postgresql::Server::Config_entry[listen_addresses]"},{"source":"Class[Pe_postgresql::Server::Config]","target":"Pe_postgresql::Server::Config_entry[port]"},{"source":"Stage[main]","target":"Class[Pe_postgresql::Server::Service]"},{"source":"Class[Pe_postgresql::Server::Service]","target":"Pe_anchor[pe_postgresql::server::service::begin]"},{"source":"Class[Pe_postgresql::Server::Service]","target":"Service[postgresqld]"},{"source":"Class[Pe_postgresql::Server::Service]","target":"Pe_postgresql::Validate_db_connection[validate_service_is_running]"},{"source":"Class[Pe_postgresql::Server::Service]","target":"Pe_anchor[pe_postgresql::server::service::end]"},{"source":"Stage[main]","target":"Class[Pe_postgresql::Server::Passwd]"},{"source":"Class[Pe_postgresql::Server]","target":"Pe_anchor[pe_postgresql::server::end]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.cert.pem]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"File[/opt/puppetlabs/server/data/postgresql/9.6/data/certs/_local.private_key.pem]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[ssl]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[ssl_cert_file]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[ssl_key_file]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[ssl_ca_file]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[ssl_ciphers]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[effective_cache_size]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[shared_buffers]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[maintenance_work_mem]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[wal_buffers]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[work_mem]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[max_wal_size]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[checkpoint_completion_target]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[checkpoint_timeout]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[log_line_prefix]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[log_min_duration_statement]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[max_connections]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[autovacuum_vacuum_scale_factor]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[autovacuum_analyze_scale_factor]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[wal_level]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[max_worker_processes]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[max_replication_slots]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[max_wal_senders]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[shared_preload_libraries]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[autovacuum_max_workers]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[autovacuum_work_mem]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[log_checkpoints]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[log_connections]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[log_disconnections]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[log_lock_waits]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[log_temp_files]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[log_autovacuum_min_duration]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[log_min_messages]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[log_min_error_statement]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[log_error_verbosity]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Config_entry[checkpoint_segments]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Pg_hba_rule[local access as pe-postgres user]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Role[pe-ha-replication]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Database[postgres]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Pe_postgresql::Server::Database[pe-postgres]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Puppet_enterprise::App_database[puppetdb]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Puppet_enterprise::App_database[classifier]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Puppet_enterprise::App_database[rbac]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Puppet_enterprise::App_database[activity]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Puppet_enterprise::App_database[orchestrator]"},{"source":"Class[Puppet_enterprise::Profile::Database]","target":"Puppet_enterprise::App_database[inventory]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Master::Meep]"},{"source":"Class[Puppet_enterprise::Master::Meep]","target":"File[/etc/puppetlabs/enterprise]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_ini_setting[deprecated puppetserver puppetconf app_management]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_ini_setting[puppetserver puppetconf app_management]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[certificate-authority-service]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_hocon_setting[metrics.reporters.graphite.host]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_hocon_setting[metrics.reporters.graphite.port]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_hocon_setting[metrics.reporters.graphite.update-interval-seconds]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"File[/etc/puppetlabs/puppetserver/conf.d/ca.conf]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_hocon_setting[certificate-authority.proxy-config.proxy-target-url]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_hocon_setting[certificate-authority.proxy-config.ssl-opts.ssl-cert]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_hocon_setting[certificate-authority.proxy-config.ssl-opts.ssl-key]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_hocon_setting[certificate-authority.proxy-config.ssl-opts.ssl-ca-cert]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Master::Classifier]"},{"source":"Class[Puppet_enterprise::Profile::Master::Classifier]","target":"Pe_ini_setting[node_terminus]"},{"source":"Class[Puppet_enterprise::Profile::Master::Classifier]","target":"File[/etc/puppetlabs/puppet/classifier.yaml]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"File[/etc/puppetlabs/puppet/ssl/crl.pem]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"File[/etc/puppetlabs/puppet/ssl/private_keys]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"File[/etc/puppetlabs/puppet/ssl/private_keys/pe-xl-core-0.puppet.vm.pem]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Puppet_enterprise::Set_owner_group_permissions[/etc/puppetlabs/puppet/ssl/private_keys]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_ini_setting[module_groups]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_ini_setting[codedir_setting]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Pe_ini_setting[environmentpath_setting]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Master::Auth_conf]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Master::Tk_authz]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs catalog]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs v4 catalog]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs certificate]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs crl]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs csr]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs environments]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs environment]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs tasks]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs environment classes]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs file bucket file]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs file content]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs file metadata]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs node]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs report]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs facts]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs resource type]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs status]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetserver simple status endpoint]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs status service]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs static file content]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs experimental]"},{"source":"Class[Puppet_enterprise::Master::Tk_authz]","target":"Pe_puppet_authorization::Rule[puppetlabs deny all]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Master::Puppetdb]"},{"source":"Class[Puppet_enterprise::Profile::Master::Puppetdb]","target":"File[/etc/puppetlabs/puppet/puppetdb.conf]"},{"source":"Class[Puppet_enterprise::Profile::Master::Puppetdb]","target":"Pe_ini_setting[puppetdb.conf_server_urls]"},{"source":"Class[Puppet_enterprise::Profile::Master::Puppetdb]","target":"Pe_ini_setting[puppetdb.conf_command_broadcast]"},{"source":"Class[Puppet_enterprise::Profile::Master::Puppetdb]","target":"Pe_ini_setting[puppetdb.conf_include_unchanged_resources]"},{"source":"Class[Puppet_enterprise::Profile::Master::Puppetdb]","target":"Pe_ini_setting[puppetdb.conf_soft_write_failure]"},{"source":"Class[Puppet_enterprise::Profile::Master::Puppetdb]","target":"Pe_ini_setting[puppetdb.conf_sticky_read_failover]"},{"source":"Class[Puppet_enterprise::Profile::Master::Puppetdb]","target":"Pe_ini_setting[storeconfigs]"},{"source":"Class[Puppet_enterprise::Profile::Master::Puppetdb]","target":"Pe_ini_setting[storeconfigs_backend]"},{"source":"Class[Puppet_enterprise::Profile::Master::Puppetdb]","target":"Pe_ini_subsetting[reports_puppetdb]"},{"source":"Class[Puppet_enterprise::Profile::Master::Puppetdb]","target":"File[/etc/puppetlabs/puppet/routes.yaml]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Master]"},{"source":"Class[Puppet_enterprise::Master]","target":"File[/opt/puppetlabs/puppet/modules/puppet_enterprise/lib/puppet/parser/functions/cookie_secret_key.rb]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Master::Puppetserver]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[puppetserver:master jetty9-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[pe-master-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[old-pe-master-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[master-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[request-handler-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[jruby-puppet-pooled-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[jruby-pool-manager-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[metrics-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[puppet-profiler-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[pe-metrics-puppet-profiler-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[metrics-puppet-profiler-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[puppet-server-config-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[puppet-admin-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[webrouting-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[legacy-routes-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[pe-legacy-routes-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[status-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[authorization-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[scheduler-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[pe-jruby-metrics-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[jruby-metrics-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[puppetserver-analytics-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[filesystem-watch-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[remote-rbac-consumer-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"File[/etc/puppetlabs/puppetserver/conf.d/webserver.conf]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[webserver.client-auth]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[webserver.ssl-host]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[webserver.ssl-port]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[webserver.ssl-cert]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[webserver.ssl-key]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[webserver.ssl-ca-cert]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[webserver.ssl-crl-path]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[webserver.access-log-config]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[webserver.max-threads]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[webserver.static-content]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[webserver.puppet-server.static-content]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"File[/etc/puppetlabs/puppetserver/conf.d/web-routes.conf]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[web-router-service/master-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[web-router-service/pe-master-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[web-router-service/pe-legacy-routes-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[web-router-service/legacy-routes-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[web-router-service/certificate-authority-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[web-router-service/reverse-proxy-ca-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[web-router-service/puppet-admin-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[web-router-service/status-service]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"File[/etc/puppetlabs/puppetserver/conf.d/pe-puppet-server.conf]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.ruby-load-path]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[os-settings.remove]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.gem-home]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.master-conf-dir]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.master-code-dir]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.master-var-dir]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.master-run-dir]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.master-log-dir]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.gem-path]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.borrow-timeout]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.max-active-instances]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.max-requests-per-instance]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.use-legacy-auth-conf]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.max-queued-requests]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.max-retry-delay]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[metrics-webservice]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[metrics-service/metrics-webservice]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.environment-class-cache-enabled]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[profiler.enabled]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[pe-puppetserver.puppet-code-repo]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[pe-puppetserver.pre-commit-hook-commands]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[puppet-admin]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_puppet_authorization::Rule[puppetlabs environment cache]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_puppet_authorization::Rule[puppetlabs jruby pool]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[http-client.ssl-protocols]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[http-client.cipher-suites]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[http-client.idle-timeout-milliseconds]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[http-client.connect-timeout-milliseconds]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Global_settings[puppetserver]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"File[/etc/puppetlabs/puppetserver/conf.d/metrics.conf]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[metrics.enabled]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[metrics.server-id]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[metrics.registries.puppetserver.reporters.jmx.enabled]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[metrics.registries.default.reporters.jmx.enabled]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[metrics.registries.puppetserver.reporters.graphite.enabled]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[metrics.registries.puppetserver.metrics-allowed]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[metrics.reporters.graphite.enabled]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[metrics.reporters.jmx]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"File[/etc/puppetlabs/puppetserver/conf.d/rbac-consumer.conf]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[rbac-consumer.api-url]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"File[/etc/puppetlabs/puppetserver/conf.d/activity-consumer.conf]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[activity-consumer.api-url]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[jruby-puppet.compile-mode]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Pe_hocon_setting[status.debug-logging]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Java_args[puppetserver]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetserver]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Augeas[fileserver.conf remove [files]]"},{"source":"Class[Puppet_enterprise::Master::Puppetserver]","target":"Puppet_enterprise::Trapperkeeper::Pe_service[puppetserver]"},{"source":"Class[Puppet_enterprise::Master]","target":"File[/var/log/puppetlabs/puppet]"},{"source":"Class[Puppet_enterprise::Master]","target":"File[/etc/puppetlabs/puppet/fileserver.conf]"},{"source":"Class[Puppet_enterprise::Master]","target":"Puppet_enterprise::Set_owner_group_permissions[/etc/puppetlabs/puppet/hiera.yaml]"},{"source":"Class[Puppet_enterprise::Master]","target":"Puppet_enterprise::Set_owner_group_permissions[/etc/puppetlabs/puppet/puppet.conf]"},{"source":"Class[Puppet_enterprise::Master]","target":"File[/opt/puppetlabs/server/pe_build]"},{"source":"Class[Puppet_enterprise::Master]","target":"Pe_ini_setting[puppetserver puppetconf certname]"},{"source":"Class[Puppet_enterprise::Master]","target":"Pe_ini_setting[puppetserver puppetconf always_cache_features]"},{"source":"Class[Puppet_enterprise::Master]","target":"Pe_ini_setting[puppetserver puppetconf always_retry_plugins]"},{"source":"Class[Puppet_enterprise::Master]","target":"Pe_ini_setting[puppetserver puppetconf user]"},{"source":"Class[Puppet_enterprise::Master]","target":"Pe_ini_setting[puppetserver puppetconf group]"},{"source":"Class[Puppet_enterprise::Master]","target":"Pe_ini_setting[puppetserver static catalogs]"},{"source":"Class[Puppet_enterprise::Master]","target":"Pe_ini_setting[puppetconf environment_timeout setting]"},{"source":"Class[Puppet_enterprise::Master]","target":"Pe_ini_setting[puppetconf disable_i18n setting]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"File[/opt/puppetlabs/server/share/puppet_enterprise]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Exec[Ensure public dir /opt/puppetlabs/server/data/packages/public]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"Puppet_enterprise::Fileserver_conf[pe_packages]"},{"source":"Stage[main]","target":"Class[Pe_r10k::Params]"},{"source":"Stage[main]","target":"Class[Pe_r10k]"},{"source":"Stage[main]","target":"Class[Pe_r10k::Config]"},{"source":"Class[Pe_r10k::Config]","target":"File[r10k.yaml]"},{"source":"Stage[main]","target":"Class[Pe_r10k::Package]"},{"source":"Class[Pe_r10k::Package]","target":"Package[pe-r10k]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Master::Code_manager]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"File[/opt/puppetlabs/server/data/code-manager/]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"File[/etc/puppetlabs/puppetserver/conf.d/code-manager.conf]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[code-manager-v1]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[remote-activity-reporter]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[web-router-service.\"puppetlabs.code-manager.services/code-manager-v1\".route]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[web-router-service.\"puppetlabs.code-manager.services/code-manager-v1\".server]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.file-sync.repo-id]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.environmentdir]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.datadir]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.cachedir]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.authenticate-webhook]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.deploy-pool-size]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.timeouts.fetch]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.timeouts.deploy]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.timeouts.hook]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.timeouts.shutdown]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.timeouts.wait]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.timeouts.sync]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.purge-whitelist]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.proxy]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.hooks.post-environment]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.forge]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.forge-settings]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.sources]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.invalid-branches]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.git]"},{"source":"Class[Puppet_enterprise::Master::Code_manager]","target":"Pe_hocon_setting[code-manager.private-key]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Master::File_sync]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[file-sync-client-service]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[file-sync-web-service]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[file-sync-versioned-code-service]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"File[/etc/puppetlabs/puppetserver/conf.d/file-sync.conf]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.data-dir]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.client.poll-interval]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.client.server-api-url]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.client.server-repo-url]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.client.ssl-cert]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.client.ssl-key]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.client.ssl-ca-cert]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.client.enable-forceful-sync]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.client.stream-file-threshold]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.repos.puppet-code.live-dir]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.preserve-deleted-submodules]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.clean-lock-files-at-startup]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.repos.puppet-code.submodules-dir]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[pe-puppetserver.enable-file-sync-locking]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[web-router-service/file-sync-web-service]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"File[/etc/puppetlabs/code]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Exec[chown all environments to pe-puppet]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[web-router-service/file-sync-storage-service/repo-servlet]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[file-sync-storage-service]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.repos.puppet-code.staging-dir]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"File[/etc/puppetlabs/code-staging]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Exec[chown all /etc/puppetlabs/code-staging to pe-puppet]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_hocon_setting[file-sync.client-certnames]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_puppet_authorization::Rule[puppetlabs file sync ca-data repo]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_puppet_authorization::Rule[puppetlabs file sync api]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Pe_puppet_authorization::Rule[puppetlabs file sync repo]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Puppet_enterprise::File_sync_directory[ssl directory]"},{"source":"Class[Puppet_enterprise::Master::File_sync]","target":"Puppet_enterprise::File_sync_directory[enterprise conf.d directory]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"File[/etc/puppetlabs/puppetserver/opt-out]"},{"source":"Class[Puppet_enterprise::Profile::Master]","target":"File[/etc/puppetlabs/analytics-opt-out]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Trapperkeeper::Analytics]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Analytics]","target":"File[/opt/puppetlabs/server/data/analytics/]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Analytics]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[analytics-service]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Analytics]","target":"Pe_hocon_setting[puppetserver.webserver.analytics]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Analytics]","target":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings[puppetserver]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Analytics]","target":"Pe_hocon_setting[analytics.data-directory]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Analytics]","target":"File[/etc/puppetlabs/puppetserver/conf.d/product.conf]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Analytics]","target":"Pe_hocon_setting[product.version-path]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Analytics]","target":"Pe_hocon_setting[product.name]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Analytics]","target":"Pe_hocon_setting[web-router-service.\"puppetlabs.analytics.service/analytics-service\"]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Controller]"},{"source":"Class[Puppet_enterprise::Profile::Controller]","target":"File[/etc/puppetlabs/client-tools]"},{"source":"Class[Puppet_enterprise::Profile::Controller]","target":"File[/etc/puppetlabs/client-tools/ssl]"},{"source":"Class[Puppet_enterprise::Profile::Controller]","target":"File[/etc/puppetlabs/client-tools/ssl/certs]"},{"source":"Class[Puppet_enterprise::Profile::Controller]","target":"File[/etc/puppetlabs/client-tools/ssl/certs/ca.pem]"},{"source":"Class[Puppet_enterprise::Profile::Controller]","target":"File[/etc/puppetlabs/client-tools/orchestrator.conf]"},{"source":"Class[Puppet_enterprise::Profile::Controller]","target":"File[/etc/puppetlabs/client-tools/puppet-code.conf]"},{"source":"Class[Puppet_enterprise::Profile::Controller]","target":"File[/etc/puppetlabs/client-tools/puppet-access.conf]"},{"source":"Class[Puppet_enterprise::Profile::Controller]","target":"File[/etc/puppetlabs/client-tools/puppetdb.conf]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Cli_config]"},{"source":"Class[Puppet_enterprise::Cli_config]","target":"File[/etc/puppetlabs/client-tools/services.conf]"},{"source":"Class[Puppet_enterprise::Cli_config]","target":"Pe_hocon_setting[/etc/puppetlabs/client-tools/services.conf/services]"},{"source":"Class[Puppet_enterprise::Cli_config]","target":"Pe_hocon_setting[/etc/puppetlabs/client-tools/services.conf/nodes]"},{"source":"Class[Puppet_enterprise::Cli_config]","target":"Pe_hocon_setting[/etc/puppetlabs/client-tools/services.conf/certs]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Puppetdb]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Puppetdb::Database_ini]"},{"source":"Class[Puppet_enterprise::Puppetdb::Database_ini]","target":"Puppet_enterprise::Puppetdb::Shared_database_settings[database]"},{"source":"Class[Puppet_enterprise::Puppetdb::Database_ini]","target":"Pe_ini_setting[puppetdb_gc_interval]"},{"source":"Class[Puppet_enterprise::Puppetdb::Database_ini]","target":"Pe_ini_setting[puppetdb_node_ttl]"},{"source":"Class[Puppet_enterprise::Puppetdb::Database_ini]","target":"Pe_ini_setting[puppetdb_node_purge_ttl]"},{"source":"Class[Puppet_enterprise::Puppetdb::Database_ini]","target":"Pe_ini_setting[puppetdb_report_ttl]"},{"source":"Class[Puppet_enterprise::Puppetdb::Database_ini]","target":"Pe_ini_setting[puppetdb_facts_blacklist]"},{"source":"Class[Puppet_enterprise::Puppetdb::Database_ini]","target":"Pe_ini_setting[puppetdb_facts_blacklist_type]"},{"source":"Class[Puppet_enterprise::Puppetdb]","target":"Puppet_enterprise::Puppetdb::Shared_database_settings[read-database]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"File[/etc/puppetlabs/puppetdb/conf.d/jetty.ini]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb_host]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb_port]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb_sslhost]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb_sslport]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb_cipher_suites]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb_ssl_key]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb_ssl_cert]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb_ssl_ca_cert]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb_client_auth]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb_ssl_protocols]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb-certificate-whitelist]"},{"source":"Class[Puppet_enterprise::Puppetdb::Jetty_ini]","target":"Pe_ini_setting[puppetdb_request_header_max_size]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Puppetdb::Rbac_consumer_conf]"},{"source":"Class[Puppet_enterprise::Puppetdb::Rbac_consumer_conf]","target":"File[/etc/puppetlabs/puppetdb/conf.d/rbac_consumer.conf]"},{"source":"Class[Puppet_enterprise::Puppetdb::Rbac_consumer_conf]","target":"Pe_hocon_setting[puppetdb_rbac_consumer_ssl_key]"},{"source":"Class[Puppet_enterprise::Puppetdb::Rbac_consumer_conf]","target":"Pe_hocon_setting[puppetdb_rbac_consumer_ssl_cert]"},{"source":"Class[Puppet_enterprise::Puppetdb::Rbac_consumer_conf]","target":"Pe_hocon_setting[puppetdb_rbac_consumer_ssl_ca_cert]"},{"source":"Class[Puppet_enterprise::Puppetdb::Rbac_consumer_conf]","target":"Pe_hocon_setting[puppetdb_rbac_consumer_api_url]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Puppetdb::Sync_ini]"},{"source":"Class[Puppet_enterprise::Puppetdb::Sync_ini]","target":"File[/etc/puppetlabs/puppetdb/conf.d/sync.ini]"},{"source":"Class[Puppet_enterprise::Puppetdb::Sync_ini]","target":"Pe_ini_setting[puppetdb_sync_server_urls]"},{"source":"Class[Puppet_enterprise::Puppetdb::Sync_ini]","target":"Pe_ini_setting[puppetdb_sync_intervals]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Puppetdb::Config_ini]"},{"source":"Class[Puppet_enterprise::Puppetdb::Config_ini]","target":"File[/etc/puppetlabs/puppetdb/conf.d/config.ini]"},{"source":"Class[Puppet_enterprise::Puppetdb::Config_ini]","target":"Pe_ini_setting[config.ini threads command-processing section]"},{"source":"Class[Puppet_enterprise::Puppetdb::Config_ini]","target":"Pe_ini_setting[config.ini concurrent-writes command-processing section]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Puppetdb::Service]"},{"source":"Class[Puppet_enterprise::Puppetdb::Service]","target":"Puppet_enterprise::Trapperkeeper::Pe_service[puppetdb]"},{"source":"Class[Puppet_enterprise::Puppetdb]","target":"File[/var/log/puppetlabs/puppetdb]"},{"source":"Class[Puppet_enterprise::Puppetdb]","target":"File[/var/log/puppetlabs/puppetdb/puppetdb.log]"},{"source":"Class[Puppet_enterprise::Puppetdb]","target":"Puppet_enterprise::Trapperkeeper::Java_args[puppetdb]"},{"source":"Class[Puppet_enterprise::Puppetdb]","target":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetdb]"},{"source":"Class[Puppet_enterprise::Profile::Puppetdb]","target":"Puppet_enterprise::Certs[pe-puppetdb]"},{"source":"Class[Puppet_enterprise::Profile::Puppetdb]","target":"File[/etc/puppetlabs/puppetdb/certificate-whitelist]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Certs::Puppetdb_whitelist]"},{"source":"Class[Puppet_enterprise::Certs::Puppetdb_whitelist]","target":"Puppet_enterprise::Certs::Whitelist_entry[puppet_enterprise::certs::puppetdb_whitelist entry: pe-xl-core-0.puppet.vm]"},{"source":"Class[Puppet_enterprise::Certs::Puppetdb_whitelist]","target":"Puppet_enterprise::Certs::Whitelist_entry[puppet_enterprise::certs::puppetdb_whitelist entry: pe-xl-compiler-0.puppet.vm]"},{"source":"Class[Puppet_enterprise::Certs::Puppetdb_whitelist]","target":"Puppet_enterprise::Certs::Whitelist_entry[puppet_enterprise::certs::puppetdb_whitelist entry: pe-xl-core-1.puppet.vm]"},{"source":"Class[Pe_repo]","target":"Exec[create repo_dir]"},{"source":"Class[Pe_repo]","target":"Exec[create staging_dir]"},{"source":"Class[Pe_repo]","target":"File[/opt/puppetlabs/server/data/packages]"},{"source":"Class[Pe_repo]","target":"File[/opt/puppetlabs/server/data/packages/public]"},{"source":"Class[Pe_repo]","target":"File[/opt/puppetlabs/server/data/packages/public/current]"},{"source":"Class[Pe_repo]","target":"File[/opt/puppetlabs/server/data/packages/public/GPG-KEY-puppet-2025-04-06]"},{"source":"Class[Pe_repo]","target":"File[/opt/puppetlabs/server/data/packages/public/GPG-KEY-puppet]"},{"source":"Class[Pe_repo]","target":"File[/opt/puppetlabs/server/data/packages/public/index.html]"},{"source":"Stage[main]","target":"Class[Pe_repo::Bulk_pluginsync]"},{"source":"Class[Pe_repo::Bulk_pluginsync]","target":"Cron[create tar.gz of pluginsync cache]"},{"source":"Class[Pe_repo::Bulk_pluginsync]","target":"Exec[create tar.gz of pluginsync cache - onetime]"},{"source":"Class[Pe_repo::Bulk_pluginsync]","target":"File[/opt/puppetlabs/server/data/packages/public/bulk_pluginsync.tar.gz]"},{"source":"Class[Pe_repo::Platform::El_7_x86_64]","target":"Pe_repo::El[el-7-x86_64]"},{"source":"Class[Pe_repo::Platform::Windows_x86_64]","target":"Pe_repo::Windows[windows-x86_64]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Master::Recover_configuration]"},{"source":"Class[Puppet_enterprise::Master::Recover_configuration]","target":"File[/var/log/puppetlabs/puppet_infra_recover_config_cron.log]"},{"source":"Class[Puppet_enterprise::Master::Recover_configuration]","target":"Cron[puppet infra recover_configuration]"},{"source":"Class[Puppet_enterprise::Profile::Certificate_authority]","target":"Pe_hocon_setting[certificate-authority.certificate-status]"},{"source":"Class[Puppet_enterprise::Profile::Certificate_authority]","target":"Pe_hocon_setting[certificate-authority.allow-subject-alt-names]"},{"source":"Class[Puppet_enterprise::Profile::Certificate_authority]","target":"Pe_hocon_setting[certificate-authority.enable-infra-crl]"},{"source":"Class[Puppet_enterprise::Profile::Certificate_authority]","target":"File[/etc/puppetlabs/puppet/ssl/ca]"},{"source":"Class[Puppet_enterprise::Profile::Certificate_authority]","target":"File[/etc/puppetlabs/puppet/ssl/ca/infra_inventory.txt]"},{"source":"Class[Puppet_enterprise::Profile::Certificate_authority]","target":"Exec[generate auxiliary infra CRL files]"},{"source":"Class[Puppet_enterprise::Profile::Certificate_authority]","target":"Pe_puppet_authorization::Rule[puppetlabs certificate status]"},{"source":"Class[Puppet_enterprise::Profile::Certificate_authority]","target":"Pe_puppet_authorization::Rule[puppetlabs certificate statuses]"},{"source":"Class[Puppet_enterprise::Profile::Certificate_authority]","target":"Pe_hocon_setting[certificate-authority.proxy-config]"},{"source":"Class[Puppet_enterprise::Profile::Certificate_authority]","target":"Puppet_enterprise::Fileserver_conf[pe_modules]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Trapperkeeper::Inventory]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Class[Puppet_enterprise::Trapperkeeper::Inventory]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"File[/etc/puppetlabs/orchestration-services/conf.d/inventory.conf]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"File[/etc/puppetlabs/orchestration-services/conf.d/secrets]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:inventory inventory-service]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"Pe_hocon_setting[orchestration-services.inventory.keypath]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"Pe_hocon_setting[orchestration-services.inventory.database.subname]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"Pe_hocon_setting[orchestration-services.inventory.database.user]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"Pe_hocon_setting[orchestration-services.inventory.database.migration-user]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"Pe_hocon_setting[orchestration-services.web-router-service.inventory-service]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"Pe_hocon_setting[orchestration-services.inventory.ssl-ca-cert]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"Pe_hocon_setting[orchestration-services.inventory.ssl-cert]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"Pe_hocon_setting[orchestration-services.inventory.ssl-key]"},{"source":"Class[Puppet_enterprise::Trapperkeeper::Inventory]","target":"Pe_hocon_setting[orchestration-services.inventory.puppetdb-url]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services webrouting-service]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker metrics-service]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker metrics-webservice]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker scheduler-service]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker status-service]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"File[/etc/puppetlabs/orchestration-services/conf.d/auth.conf]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"File[/etc/puppetlabs/orchestration-services/conf.d/authorization.conf]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Pe_hocon_setting[orchestration-services.authorization.version]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"File[/etc/puppetlabs/orchestration-services/conf.d/webserver.conf]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Global_settings[orchestration-services]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Pe_hocon_setting[orchestration-services.web-router-service.broker-service]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Pe_hocon_setting[orchestration-services.web-router-service.orchestrator-service]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Pe_hocon_setting[orchestration-services.web-router-service.orchestrator-dispatch-service]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Pe_hocon_setting[orchestration-services.web-router-service.status-service]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Pe_hocon_setting[orchestration-services.web-router-service.metrics-webservice]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Certs[orchestration-services]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Java_args[orchestration-services]"},{"source":"Class[Puppet_enterprise::Profile::Orchestrator]","target":"Puppet_enterprise::Trapperkeeper::Pe_service[orchestration-services]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Bolt_server]"},{"source":"Class[Puppet_enterprise::Profile::Bolt_server]","target":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Plan_executor]"},{"source":"Class[Puppet_enterprise::Profile::Plan_executor]","target":"File[/etc/logrotate.d/pe-plan-executor]"},{"source":"Class[Puppet_enterprise::Profile::Plan_executor]","target":"File[/usr/lib/systemd/system/pe-plan-executor.service]"},{"source":"Class[Puppet_enterprise::Profile::Plan_executor]","target":"Pe_hocon_setting[orchestrator.plan-executor-enable]"},{"source":"Class[Puppet_enterprise::Profile::Plan_executor]","target":"Service[pe-plan-executor]"},{"source":"Stage[main]","target":"Class[Puppet_enterprise::Profile::Ace_server]"},{"source":"Class[Puppet_enterprise::Profile::Ace_server]","target":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]"},{"source":"Puppet_enterprise::Certs[pe-console-services::server_cert]","target":"File[/opt/puppetlabs/server/data/console-services/certs]"},{"source":"Puppet_enterprise::Certs[pe-console-services::server_cert]","target":"File[/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.cert.pem]"},{"source":"Puppet_enterprise::Certs[pe-console-services::server_cert]","target":"File[/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pem]"},{"source":"Puppet_enterprise::Certs[pe-console-services::server_cert]","target":"Puppet_enterprise::Certs::Pk8_cert[/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.client-auth]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.ssl-host]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.ssl-port]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.ssl-crl-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.access-log-config]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.max-threads]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.request-header-max-size]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.default-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.ssl-protocols]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[console]","target":"Pe_hocon_setting[console-services.webserver.console.cipher-suites]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.client-auth]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.ssl-host]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.ssl-port]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.ssl-crl-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.access-log-config]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.max-threads]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.request-header-max-size]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.default-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.ssl-protocols]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[api]","target":"Pe_hocon_setting[console-services.webserver.api.cipher-suites]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[console-services]","target":"File[/etc/puppetlabs/console-services/conf.d/global.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[console-services]","target":"Pe_hocon_setting[console-services.global.logging-config]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[console-services]","target":"Pe_hocon_setting[console-services.global.certs.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[console-services]","target":"Pe_hocon_setting[console-services.global.certs.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[console-services]","target":"Pe_hocon_setting[console-services.global.certs.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[console-services]","target":"Pe_hocon_setting[console-services.global.hostname]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[console-services]","target":"Pe_hocon_setting[console-services.global.version-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[console-services]","target":"Pe_hocon_setting[console-services.global.login-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[console-services]","target":"Pe_hocon_setting[console-services.global.replication-mode]"},{"source":"Puppet_enterprise::Trapperkeeper::Activity[console-services]","target":"File[/etc/puppetlabs/console-services/conf.d/activity.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Activity[console-services]","target":"Pe_hocon_setting[activity.rbac-base-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Activity[console-services]","target":"Pe_hocon_setting[activity.cors-origin-pattern]"},{"source":"Puppet_enterprise::Trapperkeeper::Activity[console-services]","target":"Puppet_enterprise::Trapperkeeper::Database_settings[activity]"},{"source":"Puppet_enterprise::Trapperkeeper::Activity[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:activity activity-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Activity[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:activity jetty9-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"File[/etc/puppetlabs/console-services/conf.d/rbac.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.certificate-whitelist]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.token-private-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.token-public-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.token-maximum-lifetime]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.password-reset-expiration]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.session-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.token-auth-lifetime]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.ds-trust-chain]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.failed-attempts-lockout]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.account-expiry-check-minutes]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Pe_hocon_setting[console-services.rbac.account-expiry-days]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Puppet_enterprise::Trapperkeeper::Database_settings[rbac]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac rbac-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac rbac-storage-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac rbac-http-api-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac rbac-authn-middleware]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac activity-reporting-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac jetty9-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Rbac[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac audit-service]"},{"source":"Puppet_enterprise::Certs::Whitelist_entry[rbac cert whitelist entry: pe-xl-core-0.puppet.vm]","target":"Pe_file_line[/etc/puppetlabs/console-services/rbac-certificate-whitelist:pe-xl-core-0.puppet.vm]"},{"source":"Puppet_enterprise::Certs::Whitelist_entry[rbac cert whitelist entry: pe-xl-compiler-0.puppet.vm]","target":"Pe_file_line[/etc/puppetlabs/console-services/rbac-certificate-whitelist:pe-xl-compiler-0.puppet.vm]"},{"source":"Puppet_enterprise::Certs::Whitelist_entry[rbac cert whitelist entry: pe-xl-core-1.puppet.vm]","target":"Pe_file_line[/etc/puppetlabs/console-services/rbac-certificate-whitelist:pe-xl-core-1.puppet.vm]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"File[/etc/puppetlabs/console-services/conf.d/classifier.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Pe_hocon_setting[console-services.classifier.puppet-master]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Pe_hocon_setting[console-services.classifier.allow-config-data]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Pe_hocon_setting[console-services.classifier.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Pe_hocon_setting[console-services.classifier.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Pe_hocon_setting[console-services.classifier.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Pe_hocon_setting[console-services.classifier.synchronization-period]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Pe_hocon_setting[console-services.classifier.prune-days-threshold]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Pe_hocon_setting[console-services.classifier.node-check-in-storage]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Puppet_enterprise::Trapperkeeper::Database_settings[classifier]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:classifier classifier-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:classifier activity-reporting-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Classifier[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:classifier jetty9-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"File[/etc/puppetlabs/console-services/conf.d/console.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.assets-dir]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.puppet-master]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.agent-installer-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.rbac-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.classifier-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.activity-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.orchestrator-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.inventory-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.display-local-time]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.query-cache-ttl]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.max-connections-per-route]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.max-connections-total]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.session-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.session-maximum-lifetime]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.puppetdb-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.certs.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.certs.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.certs.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.proxy-idle-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.license-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.pcp-request-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.service-alert]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.service-alert-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Pe_hocon_setting[console-services.console.no-longer-reporting-cutoff]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings[console-services]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console webrouting-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console rbac-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console rbac-authn-middleware]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console rbac-consumer-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console rbac-status-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console rbac-storage-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console rbac-authn-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console rbac-authz-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console audit-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console pe-console-ui-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console pe-console-auth-ui-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console jetty9-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console status-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console scheduler-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console metrics-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Console_services[console-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console metrics-webservice]"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[console-services]","target":"Pe_ini_subsetting[pe-console-services_'Xmx']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[console-services]","target":"Pe_ini_subsetting[pe-console-services_'Xms']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[console-services]","target":"Pe_ini_subsetting[pe-console-services_'XX:+PrintGCDetails']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[console-services]","target":"Pe_ini_subsetting[pe-console-services_'XX:+PrintGCDateStamps']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[console-services]","target":"Pe_ini_subsetting[pe-console-services_'Xloggc:']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[console-services]","target":"Pe_ini_subsetting[pe-console-services_'XX:+UseGCLogFileRotation']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[console-services]","target":"Pe_ini_subsetting[pe-console-services_'XX:NumberOfGCLogFiles=']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[console-services]","target":"Pe_ini_subsetting[pe-console-services_'XX:GCLogFileSize=']"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[console-services]","target":"Pe_ini_setting[console-services initconf java_bin]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[console-services]","target":"Pe_ini_setting[console-services initconf user]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[console-services]","target":"Pe_ini_setting[console-services initconf group]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[console-services]","target":"Pe_ini_setting[console-services initconf install_dir]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[console-services]","target":"Pe_ini_setting[console-services initconf config]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[console-services]","target":"Pe_ini_setting[console-services initconf bootstrap_config]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[console-services]","target":"Pe_ini_setting[console-services initconf service_stop_retries]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[console-services]","target":"Pe_ini_setting[console-services initconf start_timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[console-services]","target":"Pe_ini_setting[console-services initconf jruby_jar]"},{"source":"Puppet_enterprise::Trapperkeeper::Pe_service[console-services]","target":"Service[pe-console-services]"},{"source":"Puppet_enterprise::Trapperkeeper::Pe_service[console-services]","target":"Exec[pe-console-services service full restart]"},{"source":"Pe_nginx::Directive[gzip]","target":"Augeas[pe_nginx::directive for gzip]"},{"source":"Pe_nginx::Directive[gzip_comp_level]","target":"Augeas[pe_nginx::directive for gzip_comp_level]"},{"source":"Pe_nginx::Directive[gzip_min_length]","target":"Augeas[pe_nginx::directive for gzip_min_length]"},{"source":"Pe_nginx::Directive[gzip_proxied]","target":"Augeas[pe_nginx::directive for gzip_proxied]"},{"source":"Pe_nginx::Directive[gzip_vary]","target":"Augeas[pe_nginx::directive for gzip_vary]"},{"source":"Pe_nginx::Directive[gzip_types]","target":"Augeas[pe_nginx::directive for gzip_types]"},{"source":"Pe_nginx::Directive[server_name]","target":"Augeas[pe_nginx::directive for server_name]"},{"source":"Pe_nginx::Directive[listen]","target":"Augeas[pe_nginx::directive for listen]"},{"source":"Pe_nginx::Directive[ssl_certificate]","target":"Augeas[pe_nginx::directive for ssl_certificate]"},{"source":"Pe_nginx::Directive[ssl_certificate_key]","target":"Augeas[pe_nginx::directive for ssl_certificate_key]"},{"source":"Pe_nginx::Directive[ssl_crl]","target":"Augeas[pe_nginx::directive for ssl_crl]"},{"source":"Pe_nginx::Directive[ssl_prefer_server_ciphers]","target":"Augeas[pe_nginx::directive for ssl_prefer_server_ciphers]"},{"source":"Pe_nginx::Directive[ssl_ciphers]","target":"Augeas[pe_nginx::directive for ssl_ciphers]"},{"source":"Pe_nginx::Directive[ssl_protocols]","target":"Augeas[pe_nginx::directive for ssl_protocols]"},{"source":"Pe_nginx::Directive[ssl_dhparam]","target":"Augeas[pe_nginx::directive for ssl_dhparam]"},{"source":"Pe_nginx::Directive[ssl_verify_client]","target":"Augeas[pe_nginx::directive for ssl_verify_client]"},{"source":"Pe_nginx::Directive[ssl_verify_depth]","target":"Augeas[pe_nginx::directive for ssl_verify_depth]"},{"source":"Pe_nginx::Directive[ssl_session_timeout]","target":"Augeas[pe_nginx::directive for ssl_session_timeout]"},{"source":"Pe_nginx::Directive[ssl_session_cache]","target":"Augeas[pe_nginx::directive for ssl_session_cache]"},{"source":"Pe_nginx::Directive[proxy_pass]","target":"Augeas[pe_nginx::directive for proxy_pass]"},{"source":"Pe_nginx::Directive[proxy_redirect]","target":"Augeas[pe_nginx::directive for proxy_redirect]"},{"source":"Pe_nginx::Directive[proxy_read_timeout]","target":"Augeas[pe_nginx::directive for proxy_read_timeout]"},{"source":"Pe_nginx::Directive[proxy_set_header x-ssl-subject]","target":"Augeas[pe_nginx::directive for proxy_set_header x-ssl-subject]"},{"source":"Pe_nginx::Directive[proxy_set_header x-client-dn]","target":"Augeas[pe_nginx::directive for proxy_set_header x-client-dn]"},{"source":"Pe_nginx::Directive[proxy_set_header x-client-verify]","target":"Augeas[pe_nginx::directive for proxy_set_header x-client-verify]"},{"source":"Pe_nginx::Directive[proxy_set_header x-forwarded-for]","target":"Augeas[pe_nginx::directive for proxy_set_header x-forwarded-for]"},{"source":"Stage[main]","target":"Class[Pe_concat::Setup]"},{"source":"Class[Pe_concat::Setup]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/bin/concatfragments.sh]"},{"source":"Class[Pe_concat::Setup]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat]"},{"source":"Class[Pe_concat::Setup]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/bin]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments.concat]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments.concat.out]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]","target":"File[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]","target":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_hba.conf]"},{"source":"Pe_postgresql::Server::Config_entry[listen_addresses]","target":"Pe_postgresql_conf[listen_addresses]"},{"source":"Pe_postgresql::Server::Config_entry[port]","target":"File[systemd-port-override]"},{"source":"Pe_postgresql::Server::Config_entry[port]","target":"Exec[restart-systemd]"},{"source":"Pe_postgresql::Server::Config_entry[port]","target":"Pe_postgresql_conf[port]"},{"source":"Pe_postgresql::Validate_db_connection[validate_service_is_running]","target":"Exec[validate postgres connection for /postgres]"},{"source":"Pe_postgresql::Server::Config_entry[ssl]","target":"Pe_postgresql_conf[ssl]"},{"source":"Pe_postgresql::Server::Config_entry[ssl_cert_file]","target":"Pe_postgresql_conf[ssl_cert_file]"},{"source":"Pe_postgresql::Server::Config_entry[ssl_key_file]","target":"Pe_postgresql_conf[ssl_key_file]"},{"source":"Pe_postgresql::Server::Config_entry[ssl_ca_file]","target":"Pe_postgresql_conf[ssl_ca_file]"},{"source":"Pe_postgresql::Server::Config_entry[ssl_ciphers]","target":"Pe_postgresql_conf[ssl_ciphers]"},{"source":"Pe_postgresql::Server::Config_entry[effective_cache_size]","target":"Pe_postgresql_conf[effective_cache_size]"},{"source":"Pe_postgresql::Server::Config_entry[shared_buffers]","target":"Pe_postgresql_conf[shared_buffers]"},{"source":"Pe_postgresql::Server::Config_entry[maintenance_work_mem]","target":"Pe_postgresql_conf[maintenance_work_mem]"},{"source":"Pe_postgresql::Server::Config_entry[wal_buffers]","target":"Pe_postgresql_conf[wal_buffers]"},{"source":"Pe_postgresql::Server::Config_entry[work_mem]","target":"Pe_postgresql_conf[work_mem]"},{"source":"Pe_postgresql::Server::Config_entry[max_wal_size]","target":"Pe_postgresql_conf[max_wal_size]"},{"source":"Pe_postgresql::Server::Config_entry[checkpoint_completion_target]","target":"Pe_postgresql_conf[checkpoint_completion_target]"},{"source":"Pe_postgresql::Server::Config_entry[checkpoint_timeout]","target":"Pe_postgresql_conf[checkpoint_timeout]"},{"source":"Pe_postgresql::Server::Config_entry[log_line_prefix]","target":"Pe_postgresql_conf[log_line_prefix]"},{"source":"Pe_postgresql::Server::Config_entry[log_min_duration_statement]","target":"Pe_postgresql_conf[log_min_duration_statement]"},{"source":"Pe_postgresql::Server::Config_entry[max_connections]","target":"Pe_postgresql_conf[max_connections]"},{"source":"Pe_postgresql::Server::Config_entry[autovacuum_vacuum_scale_factor]","target":"Pe_postgresql_conf[autovacuum_vacuum_scale_factor]"},{"source":"Pe_postgresql::Server::Config_entry[autovacuum_analyze_scale_factor]","target":"Pe_postgresql_conf[autovacuum_analyze_scale_factor]"},{"source":"Pe_postgresql::Server::Config_entry[wal_level]","target":"Pe_postgresql_conf[wal_level]"},{"source":"Pe_postgresql::Server::Config_entry[max_worker_processes]","target":"Pe_postgresql_conf[max_worker_processes]"},{"source":"Pe_postgresql::Server::Config_entry[max_replication_slots]","target":"Pe_postgresql_conf[max_replication_slots]"},{"source":"Pe_postgresql::Server::Config_entry[max_wal_senders]","target":"Pe_postgresql_conf[max_wal_senders]"},{"source":"Pe_postgresql::Server::Config_entry[shared_preload_libraries]","target":"Pe_postgresql_conf[shared_preload_libraries]"},{"source":"Pe_postgresql::Server::Config_entry[autovacuum_max_workers]","target":"Pe_postgresql_conf[autovacuum_max_workers]"},{"source":"Pe_postgresql::Server::Config_entry[autovacuum_work_mem]","target":"Pe_postgresql_conf[autovacuum_work_mem]"},{"source":"Pe_postgresql::Server::Config_entry[log_checkpoints]","target":"Pe_postgresql_conf[log_checkpoints]"},{"source":"Pe_postgresql::Server::Config_entry[log_connections]","target":"Pe_postgresql_conf[log_connections]"},{"source":"Pe_postgresql::Server::Config_entry[log_disconnections]","target":"Pe_postgresql_conf[log_disconnections]"},{"source":"Pe_postgresql::Server::Config_entry[log_lock_waits]","target":"Pe_postgresql_conf[log_lock_waits]"},{"source":"Pe_postgresql::Server::Config_entry[log_temp_files]","target":"Pe_postgresql_conf[log_temp_files]"},{"source":"Pe_postgresql::Server::Config_entry[log_autovacuum_min_duration]","target":"Pe_postgresql_conf[log_autovacuum_min_duration]"},{"source":"Pe_postgresql::Server::Config_entry[log_min_messages]","target":"Pe_postgresql_conf[log_min_messages]"},{"source":"Pe_postgresql::Server::Config_entry[log_min_error_statement]","target":"Pe_postgresql_conf[log_min_error_statement]"},{"source":"Pe_postgresql::Server::Config_entry[log_error_verbosity]","target":"Pe_postgresql_conf[log_error_verbosity]"},{"source":"Pe_postgresql::Server::Config_entry[checkpoint_segments]","target":"Pe_postgresql_conf[checkpoint_segments]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[local access as pe-postgres user]","target":"Pe_concat::Fragment[pg_hba_rule_local access as pe-postgres user]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments.concat]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments.concat.out]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]","target":"File[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"},{"source":"Pe_concat[/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]","target":"Exec[pe_concat_/opt/puppetlabs/server/data/postgresql/9.6/data/pg_ident.conf]"},{"source":"Pe_postgresql::Server::Role[pe-ha-replication]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-ha-replication\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-ha-replication]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-ha-replication\" SUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-ha-replication]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-ha-replication\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-ha-replication]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-ha-replication\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-ha-replication]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-ha-replication\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-ha-replication]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-ha-replication\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-ha-replication]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-ha-replication\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-ha-replication]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-ha-replication\" CONNECTION LIMIT -1]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to replication as pe-ha-replication (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to replication as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm]","target":"Puppet_enterprise::Pg::Ident_entry[Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm]"},{"source":"Pe_postgresql::Server::Database[postgres]","target":"Pe_postgresql_psql[Check for existence of db 'postgres']"},{"source":"Pe_postgresql::Server::Database[postgres]","target":"Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8  'postgres']"},{"source":"Pe_postgresql::Server::Database[postgres]","target":"Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"postgres\" FROM public]"},{"source":"Pe_postgresql::Server::Database[postgres]","target":"Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'postgres']"},{"source":"Pe_postgresql::Server::Database[pe-postgres]","target":"Pe_postgresql_psql[Check for existence of db 'pe-postgres']"},{"source":"Pe_postgresql::Server::Database[pe-postgres]","target":"Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8  'pe-postgres']"},{"source":"Pe_postgresql::Server::Database[pe-postgres]","target":"Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-postgres\" FROM public]"},{"source":"Pe_postgresql::Server::Database[pe-postgres]","target":"Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-postgres']"},{"source":"Puppet_enterprise::App_database[puppetdb]","target":"Pe_postgresql::Server::Tablespace[pe-puppetdb]"},{"source":"Puppet_enterprise::App_database[puppetdb]","target":"Pe_postgresql::Server::Role[pe-puppetdb]"},{"source":"Puppet_enterprise::App_database[puppetdb]","target":"Pe_postgresql::Server::Db[pe-puppetdb]"},{"source":"Puppet_enterprise::App_database[puppetdb]","target":"Puppet_enterprise::Psql[pe-puppetdb revoke public table create perms]"},{"source":"Puppet_enterprise::App_database[puppetdb]","target":"Puppet_enterprise::Psql[grant table create to pe-puppetdb on pe-puppetdb]"},{"source":"Puppet_enterprise::App_database[puppetdb]","target":"Puppet_enterprise::Pg::Extension[pe-puppetdb/pg_repack]"},{"source":"Puppet_enterprise::App_database[puppetdb]","target":"Puppet_enterprise::Pg::Extension[pe-puppetdb/pg_trgm]"},{"source":"Puppet_enterprise::App_database[puppetdb]","target":"Puppet_enterprise::Pg::Extension[pe-puppetdb/pgcrypto]"},{"source":"Puppet_enterprise::App_database[puppetdb]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb]"},{"source":"Puppet_enterprise::App_database[puppetdb]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb]"},{"source":"Puppet_enterprise::App_database[puppetdb]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Pe_postgresql::Server::Tablespace[pe-classifier]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Pe_postgresql::Server::Role[pe-classifier]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Pe_postgresql::Server::Db[pe-classifier]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Psql[pe-classifier revoke public table create perms]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Psql[grant table create to pe-classifier on pe-classifier]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Enforce_ownership[pe-classifier objects should be owned by pe-classifier]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Ordinary_user[pe-classifier-read]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Ordinary_user[pe-classifier-write]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Extension[pe-classifier/pg_repack]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Extension[pe-classifier/pglogical]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Pglogical::Node[pe-classifier/n6bad1349378221]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Pglogical::Replication_set[pe-classifier/default]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Pglogical::Subscription[pe-classifier/s6bad1349378221]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication]"},{"source":"Puppet_enterprise::App_database[classifier]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Pe_postgresql::Server::Tablespace[pe-rbac]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Pe_postgresql::Server::Role[pe-rbac]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Pe_postgresql::Server::Db[pe-rbac]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Psql[pe-rbac revoke public table create perms]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Psql[grant table create to pe-rbac on pe-rbac]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Enforce_ownership[pe-rbac objects should be owned by pe-rbac]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Ordinary_user[pe-rbac-read]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Ordinary_user[pe-rbac-write]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Extension[pe-rbac/pg_repack]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Extension[pe-rbac/citext]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Extension[pe-rbac/pgcrypto]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Extension[pe-rbac/pglogical]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Pglogical::Node[pe-rbac/n6bad1349378221]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Pglogical::Replication_set[pe-rbac/default]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Pglogical::Subscription[pe-rbac/s6bad1349378221]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication]"},{"source":"Puppet_enterprise::App_database[rbac]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Pe_postgresql::Server::Tablespace[pe-activity]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Pe_postgresql::Server::Role[pe-activity]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Pe_postgresql::Server::Db[pe-activity]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Psql[pe-activity revoke public table create perms]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Psql[grant table create to pe-activity on pe-activity]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Enforce_ownership[pe-activity objects should be owned by pe-activity]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Ordinary_user[pe-activity-read]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Ordinary_user[pe-activity-write]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Extension[pe-activity/pg_repack]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Extension[pe-activity/pglogical]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Pglogical::Node[pe-activity/n6bad1349378221]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Pglogical::Replication_set[pe-activity/default]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Pglogical::Subscription[pe-activity/s6bad1349378221]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication]"},{"source":"Puppet_enterprise::App_database[activity]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Pe_postgresql::Server::Tablespace[pe-orchestrator]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Pe_postgresql::Server::Role[pe-orchestrator]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Pe_postgresql::Server::Db[pe-orchestrator]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Psql[pe-orchestrator revoke public table create perms]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Psql[grant table create to pe-orchestrator on pe-orchestrator]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Enforce_ownership[pe-orchestrator objects should be owned by pe-orchestrator]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Ordinary_user[pe-orchestrator-read]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Ordinary_user[pe-orchestrator-write]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Extension[pe-orchestrator/pg_repack]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Extension[pe-orchestrator/pglogical]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Pglogical::Node[pe-orchestrator/n6bad1349378221]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Pglogical::Replication_set[pe-orchestrator/default]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Pglogical::Subscription[pe-orchestrator/s6bad1349378221]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication]"},{"source":"Puppet_enterprise::App_database[orchestrator]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Pe_postgresql::Server::Tablespace[pe-inventory]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Pe_postgresql::Server::Role[pe-inventory]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Pe_postgresql::Server::Db[pe-inventory]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Psql[pe-inventory revoke public table create perms]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Psql[grant table create to pe-inventory on pe-inventory]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Enforce_ownership[pe-inventory objects should be owned by pe-inventory]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Ordinary_user[pe-inventory-read]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Ordinary_user[pe-inventory-write]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Extension[pe-inventory/pg_repack]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Extension[pe-inventory/pgcrypto]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Extension[pe-inventory/pglogical]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Pglogical::Node[pe-inventory/n6bad1349378221]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Pglogical::Replication_set[pe-inventory/default]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Pglogical::Subscription[pe-inventory/s6bad1349378221]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication]"},{"source":"Puppet_enterprise::App_database[inventory]","target":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[certificate-authority-service]","target":"Pe_concat[/etc/puppetlabs/puppetserver/bootstrap.cfg]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[certificate-authority-service]","target":"Pe_concat::Fragment[puppetserver certificate-authority-service]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/etc/puppetlabs/puppet/ssl/private_keys]","target":"Exec[Set perms of /etc/puppetlabs/puppet/ssl/private_keys/ directories to 0750]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/etc/puppetlabs/puppet/ssl/private_keys]","target":"Exec[Set perms of /etc/puppetlabs/puppet/ssl/private_keys/ contents to 0640]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/etc/puppetlabs/puppet/ssl/private_keys]","target":"Exec[Set user/group of /etc/puppetlabs/puppet/ssl/private_keys/ contents to pe-puppet:pe-puppet]"},{"source":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"Pe_concat[/etc/puppetlabs/puppetserver/conf.d/auth.conf]"},{"source":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"Pe_concat::Fragment[00_header_/etc/puppetlabs/puppetserver/conf.d/auth.conf]"},{"source":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"Pe_concat::Fragment[99_footer_/etc/puppetlabs/puppetserver/conf.d/auth.conf]"},{"source":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"Pe_hocon_setting[authorization.version./etc/puppetlabs/puppetserver/conf.d/auth.conf]"},{"source":"Pe_puppet_authorization[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"Pe_hocon_setting[authorization.allow-header-cert-info./etc/puppetlabs/puppetserver/conf.d/auth.conf]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs catalog]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs catalog]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs v4 catalog]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs v4 catalog]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs certificate]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs certificate]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs crl]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs crl]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs csr]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs csr]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs environments]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs environments]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs environment]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs environment]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs tasks]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs tasks]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs environment classes]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs environment classes]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs file bucket file]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs file bucket file]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs file content]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs file content]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs file metadata]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs file metadata]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs node]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs node]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs report]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs report]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs facts]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs facts]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs resource type]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs resource type]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs status]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs status]"},{"source":"Pe_puppet_authorization::Rule[puppetserver simple status endpoint]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetserver simple status endpoint]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs status service]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs status service]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs static file content]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs static file content]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs experimental]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs experimental]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs deny all]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs deny all]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[puppetserver:master jetty9-service]","target":"Pe_concat::Fragment[puppetserver jetty9-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[pe-master-service]","target":"Pe_concat::Fragment[puppetserver pe-master-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[old-pe-master-service]","target":"Pe_concat::Fragment[puppetserver old-pe-master-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[master-service]","target":"Pe_concat::Fragment[puppetserver master-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[request-handler-service]","target":"Pe_concat::Fragment[puppetserver request-handler-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[jruby-puppet-pooled-service]","target":"Pe_concat::Fragment[puppetserver jruby-puppet-pooled-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[jruby-pool-manager-service]","target":"Pe_concat::Fragment[puppetserver jruby-pool-manager-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[metrics-service]","target":"Pe_concat::Fragment[puppetserver metrics-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[puppet-profiler-service]","target":"Pe_concat::Fragment[puppetserver puppet-profiler-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[pe-metrics-puppet-profiler-service]","target":"Pe_concat::Fragment[puppetserver pe-metrics-puppet-profiler-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[metrics-puppet-profiler-service]","target":"Pe_concat::Fragment[puppetserver metrics-puppet-profiler-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[puppet-server-config-service]","target":"Pe_concat::Fragment[puppetserver puppet-server-config-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[puppet-admin-service]","target":"Pe_concat::Fragment[puppetserver puppet-admin-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[webrouting-service]","target":"Pe_concat::Fragment[puppetserver webrouting-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[legacy-routes-service]","target":"Pe_concat::Fragment[puppetserver legacy-routes-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[pe-legacy-routes-service]","target":"Pe_concat::Fragment[puppetserver pe-legacy-routes-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[status-service]","target":"Pe_concat::Fragment[puppetserver status-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[authorization-service]","target":"Pe_concat::Fragment[puppetserver authorization-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[scheduler-service]","target":"Pe_concat::Fragment[puppetserver scheduler-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[pe-jruby-metrics-service]","target":"Pe_concat::Fragment[puppetserver pe-jruby-metrics-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[jruby-metrics-service]","target":"Pe_concat::Fragment[puppetserver jruby-metrics-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[puppetserver-analytics-service]","target":"Pe_concat::Fragment[puppetserver puppetserver-analytics-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[filesystem-watch-service]","target":"Pe_concat::Fragment[puppetserver filesystem-watch-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[remote-rbac-consumer-service]","target":"Pe_concat::Fragment[puppetserver remote-rbac-consumer-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.client-auth]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.ssl-host]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.ssl-port]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.ssl-crl-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.access-log-config]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.max-threads]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.request-header-max-size]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.default-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.ssl-protocols]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[puppet-server]","target":"Pe_hocon_setting[puppetserver.webserver.puppet-server.cipher-suites]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[metrics-webservice]","target":"Pe_concat::Fragment[puppetserver metrics-webservice]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs environment cache]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs environment cache]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs jruby pool]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs jruby pool]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[puppetserver]","target":"File[/etc/puppetlabs/puppetserver/conf.d/global.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[puppetserver]","target":"Pe_hocon_setting[puppetserver.global.logging-config]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[puppetserver]","target":"Pe_hocon_setting[puppetserver.global.certs.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[puppetserver]","target":"Pe_hocon_setting[puppetserver.global.certs.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[puppetserver]","target":"Pe_hocon_setting[puppetserver.global.certs.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[puppetserver]","target":"Pe_hocon_setting[puppetserver.global.hostname]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[puppetserver]","target":"Pe_hocon_setting[puppetserver.global.version-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[puppetserver]","target":"Pe_hocon_setting[puppetserver.global.login-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[puppetserver]","target":"Pe_hocon_setting[puppetserver.global.replication-mode]"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetserver]","target":"Pe_ini_subsetting[pe-puppetserver_'Xmx']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetserver]","target":"Pe_ini_subsetting[pe-puppetserver_'Xms']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetserver]","target":"Pe_ini_subsetting[pe-puppetserver_'Djava.io.tmpdir=']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetserver]","target":"Pe_ini_subsetting[pe-puppetserver_'XX:ReservedCodeCacheSize=']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetserver]","target":"Pe_ini_subsetting[pe-puppetserver_'XX:+PrintGCDetails']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetserver]","target":"Pe_ini_subsetting[pe-puppetserver_'XX:+PrintGCDateStamps']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetserver]","target":"Pe_ini_subsetting[pe-puppetserver_'Xloggc:']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetserver]","target":"Pe_ini_subsetting[pe-puppetserver_'XX:+UseGCLogFileRotation']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetserver]","target":"Pe_ini_subsetting[pe-puppetserver_'XX:NumberOfGCLogFiles=']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetserver]","target":"Pe_ini_subsetting[pe-puppetserver_'XX:GCLogFileSize=']"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetserver]","target":"Pe_ini_setting[puppetserver initconf java_bin]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetserver]","target":"Pe_ini_setting[puppetserver initconf user]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetserver]","target":"Pe_ini_setting[puppetserver initconf group]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetserver]","target":"Pe_ini_setting[puppetserver initconf install_dir]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetserver]","target":"Pe_ini_setting[puppetserver initconf config]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetserver]","target":"Pe_ini_setting[puppetserver initconf bootstrap_config]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetserver]","target":"Pe_ini_setting[puppetserver initconf service_stop_retries]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetserver]","target":"Pe_ini_setting[puppetserver initconf start_timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetserver]","target":"Pe_ini_setting[puppetserver initconf jruby_jar]"},{"source":"Puppet_enterprise::Trapperkeeper::Pe_service[puppetserver]","target":"Service[pe-puppetserver]"},{"source":"Puppet_enterprise::Trapperkeeper::Pe_service[puppetserver]","target":"Exec[pe-puppetserver service full restart]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/etc/puppetlabs/puppet/hiera.yaml]","target":"Exec[Set perms of /etc/puppetlabs/puppet/hiera.yaml contents to 0644]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/etc/puppetlabs/puppet/hiera.yaml]","target":"Exec[Set user/group of /etc/puppetlabs/puppet/hiera.yaml contents to root:root]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/etc/puppetlabs/puppet/puppet.conf]","target":"Exec[Set perms of /etc/puppetlabs/puppet/puppet.conf contents to 0644]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/etc/puppetlabs/puppet/puppet.conf]","target":"Exec[Set user/group of /etc/puppetlabs/puppet/puppet.conf contents to root:root]"},{"source":"Puppet_enterprise::Fileserver_conf[pe_packages]","target":"Augeas[fileserver.conf pe_packages]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[code-manager-v1]","target":"Pe_concat::Fragment[puppetserver code-manager-v1]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[remote-activity-reporter]","target":"Pe_concat::Fragment[puppetserver remote-activity-reporter]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.client-auth]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.ssl-host]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.ssl-port]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.ssl-crl-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.access-log-config]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.max-threads]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.request-header-max-size]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.default-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.ssl-protocols]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[code-manager]","target":"Pe_hocon_setting[puppetserver.webserver.code-manager.cipher-suites]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[file-sync-client-service]","target":"Pe_concat::Fragment[puppetserver file-sync-client-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[file-sync-web-service]","target":"Pe_concat::Fragment[puppetserver file-sync-web-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[file-sync-versioned-code-service]","target":"Pe_concat::Fragment[puppetserver file-sync-versioned-code-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[file-sync-storage-service]","target":"Pe_concat::Fragment[puppetserver file-sync-storage-service]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs file sync ca-data repo]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs file sync ca-data repo]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs file sync api]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs file sync api]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs file sync repo]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs file sync repo]"},{"source":"Puppet_enterprise::File_sync_directory[ssl directory]","target":"Pe_hocon_setting[file-sync.repos.ca-data.staging-dir]"},{"source":"Puppet_enterprise::File_sync_directory[ssl directory]","target":"File[/etc/puppetlabs/puppet/ssl/.gitignore]"},{"source":"Puppet_enterprise::File_sync_directory[ssl directory]","target":"Pe_hocon_setting[file-sync.repos.ca-data.client-active]"},{"source":"Puppet_enterprise::File_sync_directory[ssl directory]","target":"Pe_hocon_setting[file-sync.repos.ca-data.auto-commit]"},{"source":"Puppet_enterprise::File_sync_directory[ssl directory]","target":"Pe_hocon_setting[file-sync.repos.ca-data.honor-gitignore]"},{"source":"Puppet_enterprise::File_sync_directory[ssl directory]","target":"Pe_hocon_setting[file-sync.repos.ca-data.live-dir]"},{"source":"Puppet_enterprise::File_sync_directory[enterprise conf.d directory]","target":"Pe_hocon_setting[file-sync.repos.confd-data.staging-dir]"},{"source":"Puppet_enterprise::File_sync_directory[enterprise conf.d directory]","target":"File[/etc/puppetlabs/enterprise/conf.d/.gitignore]"},{"source":"Puppet_enterprise::File_sync_directory[enterprise conf.d directory]","target":"Pe_hocon_setting[file-sync.repos.confd-data.client-active]"},{"source":"Puppet_enterprise::File_sync_directory[enterprise conf.d directory]","target":"Pe_hocon_setting[file-sync.repos.confd-data.auto-commit]"},{"source":"Puppet_enterprise::File_sync_directory[enterprise conf.d directory]","target":"Pe_hocon_setting[file-sync.repos.confd-data.honor-gitignore]"},{"source":"Puppet_enterprise::File_sync_directory[enterprise conf.d directory]","target":"Pe_hocon_setting[file-sync.repos.confd-data.live-dir]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[analytics-service]","target":"Pe_concat::Fragment[puppetserver analytics-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings[puppetserver]","target":"File[/etc/puppetlabs/puppetserver/conf.d/analytics.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings[puppetserver]","target":"Pe_hocon_setting[puppetserver.analytics.url]"},{"source":"Puppet_enterprise::Puppetdb::Shared_database_settings[database]","target":"File[/etc/puppetlabs/puppetdb/conf.d/database.ini]"},{"source":"Puppet_enterprise::Puppetdb::Shared_database_settings[database]","target":"Pe_ini_setting[[database]-puppetdb_psdatabase_username]"},{"source":"Puppet_enterprise::Puppetdb::Shared_database_settings[database]","target":"Pe_ini_setting[[database]-puppetdb_subname]"},{"source":"Puppet_enterprise::Puppetdb::Shared_database_settings[database]","target":"Pe_ini_setting[[database]-maximum-pool-size]"},{"source":"Puppet_enterprise::Puppetdb::Shared_database_settings[read-database]","target":"File[/etc/puppetlabs/puppetdb/conf.d/read_database.ini]"},{"source":"Puppet_enterprise::Puppetdb::Shared_database_settings[read-database]","target":"Pe_ini_setting[[read-database]-puppetdb_psdatabase_username]"},{"source":"Puppet_enterprise::Puppetdb::Shared_database_settings[read-database]","target":"Pe_ini_setting[[read-database]-puppetdb_subname]"},{"source":"Puppet_enterprise::Puppetdb::Shared_database_settings[read-database]","target":"Pe_ini_setting[[read-database]-maximum-pool-size]"},{"source":"Puppet_enterprise::Trapperkeeper::Pe_service[puppetdb]","target":"Service[pe-puppetdb]"},{"source":"Puppet_enterprise::Trapperkeeper::Pe_service[puppetdb]","target":"Exec[pe-puppetdb service full restart]"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetdb]","target":"Pe_ini_subsetting[pe-puppetdb_'Xmx']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetdb]","target":"Pe_ini_subsetting[pe-puppetdb_'Xms']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetdb]","target":"Pe_ini_subsetting[pe-puppetdb_'XX:+PrintGCDetails']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetdb]","target":"Pe_ini_subsetting[pe-puppetdb_'XX:+PrintGCDateStamps']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetdb]","target":"Pe_ini_subsetting[pe-puppetdb_'Xloggc:']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetdb]","target":"Pe_ini_subsetting[pe-puppetdb_'XX:+UseGCLogFileRotation']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetdb]","target":"Pe_ini_subsetting[pe-puppetdb_'XX:NumberOfGCLogFiles=']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[puppetdb]","target":"Pe_ini_subsetting[pe-puppetdb_'XX:GCLogFileSize=']"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetdb]","target":"Pe_ini_setting[puppetdb initconf java_bin]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetdb]","target":"Pe_ini_setting[puppetdb initconf user]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetdb]","target":"Pe_ini_setting[puppetdb initconf group]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetdb]","target":"Pe_ini_setting[puppetdb initconf install_dir]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetdb]","target":"Pe_ini_setting[puppetdb initconf config]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetdb]","target":"Pe_ini_setting[puppetdb initconf bootstrap_config]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetdb]","target":"Pe_ini_setting[puppetdb initconf service_stop_retries]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetdb]","target":"Pe_ini_setting[puppetdb initconf start_timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Init_defaults[puppetdb]","target":"Pe_ini_setting[puppetdb initconf jruby_jar]"},{"source":"Puppet_enterprise::Certs[pe-puppetdb]","target":"File[/etc/puppetlabs/puppetdb/ssl]"},{"source":"Puppet_enterprise::Certs[pe-puppetdb]","target":"File[/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.cert.pem]"},{"source":"Puppet_enterprise::Certs[pe-puppetdb]","target":"File[/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pem]"},{"source":"Puppet_enterprise::Certs[pe-puppetdb]","target":"Puppet_enterprise::Certs::Pk8_cert[/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8]"},{"source":"Puppet_enterprise::Certs::Whitelist_entry[puppet_enterprise::certs::puppetdb_whitelist entry: pe-xl-core-0.puppet.vm]","target":"Pe_file_line[/etc/puppetlabs/puppetdb/certificate-whitelist:pe-xl-core-0.puppet.vm]"},{"source":"Puppet_enterprise::Certs::Whitelist_entry[puppet_enterprise::certs::puppetdb_whitelist entry: pe-xl-compiler-0.puppet.vm]","target":"Pe_file_line[/etc/puppetlabs/puppetdb/certificate-whitelist:pe-xl-compiler-0.puppet.vm]"},{"source":"Puppet_enterprise::Certs::Whitelist_entry[puppet_enterprise::certs::puppetdb_whitelist entry: pe-xl-core-1.puppet.vm]","target":"Pe_file_line[/etc/puppetlabs/puppetdb/certificate-whitelist:pe-xl-core-1.puppet.vm]"},{"source":"Pe_repo::El[el-7-x86_64]","target":"File[/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64.repo]"},{"source":"Pe_repo::El[el-7-x86_64]","target":"File[/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64.bash]"},{"source":"Pe_repo::El[el-7-x86_64]","target":"Pe_repo::Repo[el-7-x86_64 2019.1.1]"},{"source":"Pe_repo::Windows[windows-x86_64]","target":"File[/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3]"},{"source":"Pe_repo::Windows[windows-x86_64]","target":"Pe_staging::File[puppet-agent-x64.msi]"},{"source":"Pe_repo::Windows[windows-x86_64]","target":"Puppet_enterprise::Set_owner_group_permissions[/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3]"},{"source":"Pe_repo::Windows[windows-x86_64]","target":"File[/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64]"},{"source":"Pe_repo::Windows[windows-x86_64]","target":"File[/opt/puppetlabs/server/data/packages/public/2019.1.1/install.ps1]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs certificate status]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs certificate status]"},{"source":"Pe_puppet_authorization::Rule[puppetlabs certificate statuses]","target":"Pe_puppet_authorization_hocon_rule[rule-puppetlabs certificate statuses]"},{"source":"Puppet_enterprise::Fileserver_conf[pe_modules]","target":"Augeas[fileserver.conf remove pe_modules]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"File[/etc/puppetlabs/orchestration-services/conf.d/orchestrator.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.master-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.puppetdb-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.classifier-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.console-services-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.inventory-service-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.bolt-server-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.bolt-server-conn-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.bolt-server-max-connections]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.plan-executor-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.plan-executor-conn-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.plan-executor-workers]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.ace-server-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.ace-server-conn-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.ace-server-max-connections]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.rbac-consumer.api-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.activity-consumer.api-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.pcp-broker-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.console-url]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.pcp-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.global-concurrent-compiles]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.task-concurrency]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.job-prune-days-threshold]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.app-management]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.database.subname]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.database.user]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.orchestrator.database.migration-user]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_puppet_authorization::Rule[dispatch: allow pcp-brokers]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_puppet_authorization::Rule[orchestrator simple status endpoint]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Pe_puppet_authorization::Rule[orchestrator status service]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings[orchestration-services]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator orchestrator-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator orchestrator-dispatch-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator jetty9-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator remote-rbac-consumer-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator remote-activity-reporter]"},{"source":"Puppet_enterprise::Trapperkeeper::Orchestrator[orchestration-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator jruby-pool-manager-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"File[/etc/puppetlabs/orchestration-services/conf.d/pcp-broker.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.pcp-broker.accept-consumers]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.pcp-broker.delivery-consumers]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.pcp-broker.controller-uris]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.pcp-broker.controller-whitelist]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Pe_puppet_authorization::Rule[pxp commands]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Pe_puppet_authorization::Rule[inventory request]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Pe_puppet_authorization::Rule[multi-cast with destination_report]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Pe_puppet_authorization::Rule[pcp-broker message]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Pe_puppet_authorization::Rule[pcp messages]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker broker-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker authorization-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker jetty9-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Pcp_broker[orchestration-services]","target":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker webrouting-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:inventory inventory-service]","target":"Pe_concat[/etc/puppetlabs/orchestration-services/bootstrap.cfg]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:inventory inventory-service]","target":"Pe_concat::Fragment[orchestration-services inventory-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services webrouting-service]","target":"Pe_concat::Fragment[orchestration-services webrouting-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker metrics-service]","target":"Pe_concat::Fragment[orchestration-services metrics-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker metrics-webservice]","target":"Pe_concat::Fragment[orchestration-services metrics-webservice]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker scheduler-service]","target":"Pe_concat::Fragment[orchestration-services scheduler-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker status-service]","target":"Pe_concat::Fragment[orchestration-services status-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[orchestration-services]","target":"File[/etc/puppetlabs/orchestration-services/conf.d/global.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.global.logging-config]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.global.certs.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.global.certs.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.global.certs.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.global.hostname]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.global.version-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.global.login-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Global_settings[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.global.replication-mode]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.client-auth]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.ssl-host]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.ssl-port]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.ssl-crl-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.access-log-config]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.max-threads]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.request-header-max-size]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.default-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.ssl-protocols]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[pcp-broker]","target":"Pe_hocon_setting[orchestration-services.webserver.pcp-broker.cipher-suites]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.client-auth]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.ssl-host]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.ssl-port]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.ssl-ca-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.ssl-cert]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.ssl-key]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.ssl-crl-path]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.access-log-config]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.max-threads]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.request-header-max-size]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.default-server]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.ssl-protocols]"},{"source":"Puppet_enterprise::Trapperkeeper::Webserver_settings[orchestrator]","target":"Pe_hocon_setting[orchestration-services.webserver.orchestrator.cipher-suites]"},{"source":"Puppet_enterprise::Certs[orchestration-services]","target":"File[/etc/puppetlabs/orchestration-services/ssl]"},{"source":"Puppet_enterprise::Certs[orchestration-services]","target":"File[/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.cert.pem]"},{"source":"Puppet_enterprise::Certs[orchestration-services]","target":"File[/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pem]"},{"source":"Puppet_enterprise::Certs[orchestration-services]","target":"Puppet_enterprise::Certs::Pk8_cert[/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8]"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[orchestration-services]","target":"Pe_ini_subsetting[pe-orchestration-services_'Xmx']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[orchestration-services]","target":"Pe_ini_subsetting[pe-orchestration-services_'Xms']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[orchestration-services]","target":"Pe_ini_subsetting[pe-orchestration-services_'XX:+PrintGCDetails']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[orchestration-services]","target":"Pe_ini_subsetting[pe-orchestration-services_'XX:+PrintGCDateStamps']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[orchestration-services]","target":"Pe_ini_subsetting[pe-orchestration-services_'Xloggc:']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[orchestration-services]","target":"Pe_ini_subsetting[pe-orchestration-services_'XX:+UseGCLogFileRotation']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[orchestration-services]","target":"Pe_ini_subsetting[pe-orchestration-services_'XX:NumberOfGCLogFiles=']"},{"source":"Puppet_enterprise::Trapperkeeper::Java_args[orchestration-services]","target":"Pe_ini_subsetting[pe-orchestration-services_'XX:GCLogFileSize=']"},{"source":"Puppet_enterprise::Trapperkeeper::Pe_service[orchestration-services]","target":"Service[pe-orchestration-services]"},{"source":"Puppet_enterprise::Trapperkeeper::Pe_service[orchestration-services]","target":"Exec[pe-orchestration-services service full restart]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"File[/etc/puppetlabs/bolt-server/conf.d/bolt-server.conf]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.host]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.port]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.ssl-cert]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.ssl-key]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.ssl-ca-cert]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.loglevel]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.logfile]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.whitelist]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.ssl_cipher_suites]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Puppet_enterprise::Certs[bolt-server]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.concurrency]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.cache-dir]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Pe_hocon_setting[bolt-server.file-server-uri]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[bolt-server]","target":"Service[pe-bolt-server]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"File[/etc/puppetlabs/ace-server/conf.d/ace-server.conf]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.host]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.port]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.ssl-cert]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.ssl-key]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.ssl-ca-cert]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.loglevel]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.logfile]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.whitelist]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.ssl_cipher_suites]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Puppet_enterprise::Certs[ace-server]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.concurrency]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.cache-dir]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.puppet-server-uri]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Pe_hocon_setting[ace-server.ssl-ca-crls]"},{"source":"Puppet_enterprise::Orchestrator::Ruby_service[ace-server]","target":"Service[pe-ace-server]"},{"source":"Puppet_enterprise::Certs::Pk8_cert[/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8]","target":"Exec[/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8]"},{"source":"Puppet_enterprise::Certs::Pk8_cert[/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8]","target":"File[/opt/puppetlabs/server/data/console-services/certs/pe-xl-core-0.puppet.vm.private_key.pk8]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[activity]","target":"File[/etc/puppetlabs/console-services/conf.d/activity-database.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[activity]","target":"Pe_hocon_setting[console-services.activity.database.subprotocol]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[activity]","target":"Pe_hocon_setting[console-services.activity.database.subname]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[activity]","target":"Pe_hocon_setting[console-services.activity.database.user]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[activity]","target":"Pe_hocon_setting[console-services.activity.database.migration-user]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[activity]","target":"Pe_hocon_setting[console-services.activity.database.maximum-pool-size]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[activity]","target":"Pe_hocon_setting[console-services.activity.database.connection-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[activity]","target":"Pe_hocon_setting[console-services.activity.database.connection-check-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:activity activity-service]","target":"Pe_concat[/etc/puppetlabs/console-services/bootstrap.cfg]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:activity activity-service]","target":"Pe_concat::Fragment[console-services activity-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:activity jetty9-service]","target":"Pe_concat::Fragment[console-services jetty9-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[rbac]","target":"File[/etc/puppetlabs/console-services/conf.d/rbac-database.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[rbac]","target":"Pe_hocon_setting[console-services.rbac.database.subprotocol]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[rbac]","target":"Pe_hocon_setting[console-services.rbac.database.subname]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[rbac]","target":"Pe_hocon_setting[console-services.rbac.database.user]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[rbac]","target":"Pe_hocon_setting[console-services.rbac.database.migration-user]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[rbac]","target":"Pe_hocon_setting[console-services.rbac.database.maximum-pool-size]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[rbac]","target":"Pe_hocon_setting[console-services.rbac.database.connection-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[rbac]","target":"Pe_hocon_setting[console-services.rbac.database.connection-check-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac rbac-service]","target":"Pe_concat::Fragment[console-services rbac-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac rbac-storage-service]","target":"Pe_concat::Fragment[console-services rbac-storage-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac rbac-http-api-service]","target":"Pe_concat::Fragment[console-services rbac-http-api-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac rbac-authn-middleware]","target":"Pe_concat::Fragment[console-services rbac-authn-middleware]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac activity-reporting-service]","target":"Pe_concat::Fragment[console-services activity-reporting-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:rbac audit-service]","target":"Pe_concat::Fragment[console-services audit-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[classifier]","target":"File[/etc/puppetlabs/console-services/conf.d/classifier-database.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[classifier]","target":"Pe_hocon_setting[console-services.classifier.database.subprotocol]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[classifier]","target":"Pe_hocon_setting[console-services.classifier.database.subname]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[classifier]","target":"Pe_hocon_setting[console-services.classifier.database.user]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[classifier]","target":"Pe_hocon_setting[console-services.classifier.database.migration-user]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[classifier]","target":"Pe_hocon_setting[console-services.classifier.database.maximum-pool-size]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[classifier]","target":"Pe_hocon_setting[console-services.classifier.database.connection-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Database_settings[classifier]","target":"Pe_hocon_setting[console-services.classifier.database.connection-check-timeout]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:classifier classifier-service]","target":"Pe_concat::Fragment[console-services classifier-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings[console-services]","target":"File[/etc/puppetlabs/console-services/conf.d/analytics.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings[console-services]","target":"Pe_hocon_setting[console-services.analytics.url]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console webrouting-service]","target":"Pe_concat::Fragment[console-services webrouting-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console rbac-consumer-service]","target":"Pe_concat::Fragment[console-services rbac-consumer-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console rbac-status-service]","target":"Pe_concat::Fragment[console-services rbac-status-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console rbac-authn-service]","target":"Pe_concat::Fragment[console-services rbac-authn-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console rbac-authz-service]","target":"Pe_concat::Fragment[console-services rbac-authz-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console pe-console-ui-service]","target":"Pe_concat::Fragment[console-services pe-console-ui-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console pe-console-auth-ui-service]","target":"Pe_concat::Fragment[console-services pe-console-auth-ui-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console status-service]","target":"Pe_concat::Fragment[console-services status-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console scheduler-service]","target":"Pe_concat::Fragment[console-services scheduler-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console metrics-service]","target":"Pe_concat::Fragment[console-services metrics-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[console-services:console metrics-webservice]","target":"Pe_concat::Fragment[console-services metrics-webservice]"},{"source":"Pe_concat::Fragment[pg_hba_rule_local access as pe-postgres user]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/001_pg_hba_rule_local access as pe-postgres user]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to replication as pe-ha-replication (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to replication as pe-ha-replication (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm]","target":"Pe_concat::Fragment[Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm ident rule fragment]"},{"source":"Pe_postgresql::Server::Tablespace[pe-puppetdb]","target":"File[/opt/puppetlabs/server/data/postgresql/puppetdb]"},{"source":"Pe_postgresql::Server::Tablespace[pe-puppetdb]","target":"Pe_postgresql_psql[Create tablespace 'pe-puppetdb']"},{"source":"Pe_postgresql::Server::Role[pe-puppetdb]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-puppetdb\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-puppetdb]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-puppetdb\" NOSUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-puppetdb]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-puppetdb\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-puppetdb]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-puppetdb\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-puppetdb]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-puppetdb\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-puppetdb]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-puppetdb\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-puppetdb]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-puppetdb\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-puppetdb]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-puppetdb\" CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Db[pe-puppetdb]","target":"Pe_postgresql::Server::Database[pe-puppetdb]"},{"source":"Pe_postgresql::Server::Db[pe-puppetdb]","target":"Pe_postgresql::Server::Database_grant[GRANT pe-puppetdb - ALL - pe-puppetdb]"},{"source":"Puppet_enterprise::Psql[pe-puppetdb revoke public table create perms]","target":"Pe_postgresql_psql[pe-puppetdb revoke public table create perms]"},{"source":"Puppet_enterprise::Psql[grant table create to pe-puppetdb on pe-puppetdb]","target":"Pe_postgresql_psql[grant table create to pe-puppetdb on pe-puppetdb]"},{"source":"Puppet_enterprise::Pg::Extension[pe-puppetdb/pg_repack]","target":"Puppet_enterprise::Psql[pe-puppetdb/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-puppetdb/pg_repack]","target":"Puppet_enterprise::Psql[pe-puppetdb/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-puppetdb/pg_trgm]","target":"Puppet_enterprise::Psql[pe-puppetdb/pg_trgm/create-or-drop-extension-pg_trgm]"},{"source":"Puppet_enterprise::Pg::Extension[pe-puppetdb/pg_trgm]","target":"Puppet_enterprise::Psql[pe-puppetdb/pg_trgm/update-extension-pg_trgm]"},{"source":"Puppet_enterprise::Pg::Extension[pe-puppetdb/pgcrypto]","target":"Puppet_enterprise::Psql[pe-puppetdb/pgcrypto/create-or-drop-extension-pgcrypto]"},{"source":"Puppet_enterprise::Pg::Extension[pe-puppetdb/pgcrypto]","target":"Puppet_enterprise::Psql[pe-puppetdb/pgcrypto/update-extension-pgcrypto]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb]"},{"source":"Pe_postgresql::Server::Tablespace[pe-classifier]","target":"File[/opt/puppetlabs/server/data/postgresql/classifier]"},{"source":"Pe_postgresql::Server::Tablespace[pe-classifier]","target":"Pe_postgresql_psql[Create tablespace 'pe-classifier']"},{"source":"Pe_postgresql::Server::Role[pe-classifier]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-classifier\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-classifier]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier\" SUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-classifier]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-classifier]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-classifier]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-classifier]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-classifier]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-classifier]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier\" CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Db[pe-classifier]","target":"Pe_postgresql::Server::Database[pe-classifier]"},{"source":"Pe_postgresql::Server::Db[pe-classifier]","target":"Pe_postgresql::Server::Database_grant[GRANT pe-classifier - ALL - pe-classifier]"},{"source":"Puppet_enterprise::Psql[pe-classifier revoke public table create perms]","target":"Pe_postgresql_psql[pe-classifier revoke public table create perms]"},{"source":"Puppet_enterprise::Psql[grant table create to pe-classifier on pe-classifier]","target":"Pe_postgresql_psql[grant table create to pe-classifier on pe-classifier]"},{"source":"Puppet_enterprise::Pg::Enforce_ownership[pe-classifier objects should be owned by pe-classifier]","target":"Puppet_enterprise::Psql[pe-classifier objects should be owned by pe-classifier/tables]"},{"source":"Puppet_enterprise::Pg::Enforce_ownership[pe-classifier objects should be owned by pe-classifier]","target":"Puppet_enterprise::Psql[pe-classifier objects should be owned by pe-classifier/functions]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-classifier-read]","target":"Pe_postgresql::Server::Role[pe-classifier-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-classifier-read]","target":"Puppet_enterprise::Pg::Grant_connect[pe-classifier grant connect perms to pe-classifier-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-classifier-read]","target":"Puppet_enterprise::Pg::Default_read_grant[pe-classifier grant read perms on new objects from pe-classifier to pe-classifier-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-classifier-read]","target":"Puppet_enterprise::Pg::Default_read_grant[pe-classifier grant read perms on new objects from pe-ha-replication to pe-classifier-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-classifier-write]","target":"Pe_postgresql::Server::Role[pe-classifier-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-classifier-write]","target":"Puppet_enterprise::Pg::Grant_connect[pe-classifier grant connect perms to pe-classifier-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-classifier-write]","target":"Puppet_enterprise::Pg::Write_grant[pe-classifier grant write perms on existing objects to pe-classifier-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-classifier-write]","target":"Puppet_enterprise::Pg::Default_write_grant[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-classifier-write]","target":"Puppet_enterprise::Pg::Default_write_grant[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write]"},{"source":"Puppet_enterprise::Pg::Extension[pe-classifier/pg_repack]","target":"Puppet_enterprise::Psql[pe-classifier/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-classifier/pg_repack]","target":"Puppet_enterprise::Psql[pe-classifier/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-classifier/pglogical]","target":"Puppet_enterprise::Psql[pe-classifier/pglogical/create-or-drop-extension-pglogical]"},{"source":"Puppet_enterprise::Pg::Extension[pe-classifier/pglogical]","target":"Puppet_enterprise::Psql[pe-classifier/pglogical/update-extension-pglogical]"},{"source":"Puppet_enterprise::Pg::Pglogical::Node[pe-classifier/n6bad1349378221]","target":"Puppet_enterprise::Psql[pe-classifier/n6bad1349378221/sql]"},{"source":"Puppet_enterprise::Pg::Pglogical::Replication_set[pe-classifier/default]","target":"Puppet_enterprise::Psql[pglogical replication set pe-classifier/default populate-sql]"},{"source":"Puppet_enterprise::Pg::Pglogical::Subscription[pe-classifier/s6bad1349378221]","target":"Puppet_enterprise::Psql[pglogical_subscription pe-classifier/s6bad1349378221 drop-sql]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication]"},{"source":"Pe_postgresql::Server::Tablespace[pe-rbac]","target":"File[/opt/puppetlabs/server/data/postgresql/rbac]"},{"source":"Pe_postgresql::Server::Tablespace[pe-rbac]","target":"Pe_postgresql_psql[Create tablespace 'pe-rbac']"},{"source":"Pe_postgresql::Server::Role[pe-rbac]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-rbac\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-rbac]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac\" SUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-rbac]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-rbac]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-rbac]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-rbac]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-rbac]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-rbac]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac\" CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Db[pe-rbac]","target":"Pe_postgresql::Server::Database[pe-rbac]"},{"source":"Pe_postgresql::Server::Db[pe-rbac]","target":"Pe_postgresql::Server::Database_grant[GRANT pe-rbac - ALL - pe-rbac]"},{"source":"Puppet_enterprise::Psql[pe-rbac revoke public table create perms]","target":"Pe_postgresql_psql[pe-rbac revoke public table create perms]"},{"source":"Puppet_enterprise::Psql[grant table create to pe-rbac on pe-rbac]","target":"Pe_postgresql_psql[grant table create to pe-rbac on pe-rbac]"},{"source":"Puppet_enterprise::Pg::Enforce_ownership[pe-rbac objects should be owned by pe-rbac]","target":"Puppet_enterprise::Psql[pe-rbac objects should be owned by pe-rbac/tables]"},{"source":"Puppet_enterprise::Pg::Enforce_ownership[pe-rbac objects should be owned by pe-rbac]","target":"Puppet_enterprise::Psql[pe-rbac objects should be owned by pe-rbac/functions]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-rbac-read]","target":"Pe_postgresql::Server::Role[pe-rbac-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-rbac-read]","target":"Puppet_enterprise::Pg::Grant_connect[pe-rbac grant connect perms to pe-rbac-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-rbac-read]","target":"Puppet_enterprise::Pg::Default_read_grant[pe-rbac grant read perms on new objects from pe-rbac to pe-rbac-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-rbac-read]","target":"Puppet_enterprise::Pg::Default_read_grant[pe-rbac grant read perms on new objects from pe-ha-replication to pe-rbac-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-rbac-write]","target":"Pe_postgresql::Server::Role[pe-rbac-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-rbac-write]","target":"Puppet_enterprise::Pg::Grant_connect[pe-rbac grant connect perms to pe-rbac-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-rbac-write]","target":"Puppet_enterprise::Pg::Write_grant[pe-rbac grant write perms on existing objects to pe-rbac-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-rbac-write]","target":"Puppet_enterprise::Pg::Default_write_grant[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-rbac-write]","target":"Puppet_enterprise::Pg::Default_write_grant[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write]"},{"source":"Puppet_enterprise::Pg::Extension[pe-rbac/pg_repack]","target":"Puppet_enterprise::Psql[pe-rbac/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-rbac/pg_repack]","target":"Puppet_enterprise::Psql[pe-rbac/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-rbac/citext]","target":"Puppet_enterprise::Psql[pe-rbac/citext/create-or-drop-extension-citext]"},{"source":"Puppet_enterprise::Pg::Extension[pe-rbac/citext]","target":"Puppet_enterprise::Psql[pe-rbac/citext/update-extension-citext]"},{"source":"Puppet_enterprise::Pg::Extension[pe-rbac/pgcrypto]","target":"Puppet_enterprise::Psql[pe-rbac/pgcrypto/create-or-drop-extension-pgcrypto]"},{"source":"Puppet_enterprise::Pg::Extension[pe-rbac/pgcrypto]","target":"Puppet_enterprise::Psql[pe-rbac/pgcrypto/update-extension-pgcrypto]"},{"source":"Puppet_enterprise::Pg::Extension[pe-rbac/pglogical]","target":"Puppet_enterprise::Psql[pe-rbac/pglogical/create-or-drop-extension-pglogical]"},{"source":"Puppet_enterprise::Pg::Extension[pe-rbac/pglogical]","target":"Puppet_enterprise::Psql[pe-rbac/pglogical/update-extension-pglogical]"},{"source":"Puppet_enterprise::Pg::Pglogical::Node[pe-rbac/n6bad1349378221]","target":"Puppet_enterprise::Psql[pe-rbac/n6bad1349378221/sql]"},{"source":"Puppet_enterprise::Pg::Pglogical::Replication_set[pe-rbac/default]","target":"Puppet_enterprise::Psql[pglogical replication set pe-rbac/default populate-sql]"},{"source":"Puppet_enterprise::Pg::Pglogical::Subscription[pe-rbac/s6bad1349378221]","target":"Puppet_enterprise::Psql[pglogical_subscription pe-rbac/s6bad1349378221 drop-sql]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication]"},{"source":"Pe_postgresql::Server::Tablespace[pe-activity]","target":"File[/opt/puppetlabs/server/data/postgresql/activity]"},{"source":"Pe_postgresql::Server::Tablespace[pe-activity]","target":"Pe_postgresql_psql[Create tablespace 'pe-activity']"},{"source":"Pe_postgresql::Server::Role[pe-activity]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-activity\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-activity]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity\" SUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-activity]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-activity]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-activity]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-activity]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-activity]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-activity]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity\" CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Db[pe-activity]","target":"Pe_postgresql::Server::Database[pe-activity]"},{"source":"Pe_postgresql::Server::Db[pe-activity]","target":"Pe_postgresql::Server::Database_grant[GRANT pe-activity - ALL - pe-activity]"},{"source":"Puppet_enterprise::Psql[pe-activity revoke public table create perms]","target":"Pe_postgresql_psql[pe-activity revoke public table create perms]"},{"source":"Puppet_enterprise::Psql[grant table create to pe-activity on pe-activity]","target":"Pe_postgresql_psql[grant table create to pe-activity on pe-activity]"},{"source":"Puppet_enterprise::Pg::Enforce_ownership[pe-activity objects should be owned by pe-activity]","target":"Puppet_enterprise::Psql[pe-activity objects should be owned by pe-activity/tables]"},{"source":"Puppet_enterprise::Pg::Enforce_ownership[pe-activity objects should be owned by pe-activity]","target":"Puppet_enterprise::Psql[pe-activity objects should be owned by pe-activity/functions]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-activity-read]","target":"Pe_postgresql::Server::Role[pe-activity-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-activity-read]","target":"Puppet_enterprise::Pg::Grant_connect[pe-activity grant connect perms to pe-activity-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-activity-read]","target":"Puppet_enterprise::Pg::Default_read_grant[pe-activity grant read perms on new objects from pe-activity to pe-activity-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-activity-read]","target":"Puppet_enterprise::Pg::Default_read_grant[pe-activity grant read perms on new objects from pe-ha-replication to pe-activity-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-activity-write]","target":"Pe_postgresql::Server::Role[pe-activity-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-activity-write]","target":"Puppet_enterprise::Pg::Grant_connect[pe-activity grant connect perms to pe-activity-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-activity-write]","target":"Puppet_enterprise::Pg::Write_grant[pe-activity grant write perms on existing objects to pe-activity-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-activity-write]","target":"Puppet_enterprise::Pg::Default_write_grant[pe-activity grant write perms on new objects from pe-activity to pe-activity-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-activity-write]","target":"Puppet_enterprise::Pg::Default_write_grant[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write]"},{"source":"Puppet_enterprise::Pg::Extension[pe-activity/pg_repack]","target":"Puppet_enterprise::Psql[pe-activity/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-activity/pg_repack]","target":"Puppet_enterprise::Psql[pe-activity/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-activity/pglogical]","target":"Puppet_enterprise::Psql[pe-activity/pglogical/create-or-drop-extension-pglogical]"},{"source":"Puppet_enterprise::Pg::Extension[pe-activity/pglogical]","target":"Puppet_enterprise::Psql[pe-activity/pglogical/update-extension-pglogical]"},{"source":"Puppet_enterprise::Pg::Pglogical::Node[pe-activity/n6bad1349378221]","target":"Puppet_enterprise::Psql[pe-activity/n6bad1349378221/sql]"},{"source":"Puppet_enterprise::Pg::Pglogical::Replication_set[pe-activity/default]","target":"Puppet_enterprise::Psql[pglogical replication set pe-activity/default populate-sql]"},{"source":"Puppet_enterprise::Pg::Pglogical::Subscription[pe-activity/s6bad1349378221]","target":"Puppet_enterprise::Psql[pglogical_subscription pe-activity/s6bad1349378221 drop-sql]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity-read (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity-read (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity-write (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity-write (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication]"},{"source":"Pe_postgresql::Server::Tablespace[pe-orchestrator]","target":"File[/opt/puppetlabs/server/data/postgresql/orchestrator]"},{"source":"Pe_postgresql::Server::Tablespace[pe-orchestrator]","target":"Pe_postgresql_psql[Create tablespace 'pe-orchestrator']"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator\" SUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator\" CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Db[pe-orchestrator]","target":"Pe_postgresql::Server::Database[pe-orchestrator]"},{"source":"Pe_postgresql::Server::Db[pe-orchestrator]","target":"Pe_postgresql::Server::Database_grant[GRANT pe-orchestrator - ALL - pe-orchestrator]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator revoke public table create perms]","target":"Pe_postgresql_psql[pe-orchestrator revoke public table create perms]"},{"source":"Puppet_enterprise::Psql[grant table create to pe-orchestrator on pe-orchestrator]","target":"Pe_postgresql_psql[grant table create to pe-orchestrator on pe-orchestrator]"},{"source":"Puppet_enterprise::Pg::Enforce_ownership[pe-orchestrator objects should be owned by pe-orchestrator]","target":"Puppet_enterprise::Psql[pe-orchestrator objects should be owned by pe-orchestrator/tables]"},{"source":"Puppet_enterprise::Pg::Enforce_ownership[pe-orchestrator objects should be owned by pe-orchestrator]","target":"Puppet_enterprise::Psql[pe-orchestrator objects should be owned by pe-orchestrator/functions]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-orchestrator-read]","target":"Pe_postgresql::Server::Role[pe-orchestrator-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-orchestrator-read]","target":"Puppet_enterprise::Pg::Grant_connect[pe-orchestrator grant connect perms to pe-orchestrator-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-orchestrator-read]","target":"Puppet_enterprise::Pg::Default_read_grant[pe-orchestrator grant read perms on new objects from pe-orchestrator to pe-orchestrator-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-orchestrator-read]","target":"Puppet_enterprise::Pg::Default_read_grant[pe-orchestrator grant read perms on new objects from pe-ha-replication to pe-orchestrator-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-orchestrator-write]","target":"Pe_postgresql::Server::Role[pe-orchestrator-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-orchestrator-write]","target":"Puppet_enterprise::Pg::Grant_connect[pe-orchestrator grant connect perms to pe-orchestrator-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-orchestrator-write]","target":"Puppet_enterprise::Pg::Write_grant[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-orchestrator-write]","target":"Puppet_enterprise::Pg::Default_write_grant[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-orchestrator-write]","target":"Puppet_enterprise::Pg::Default_write_grant[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write]"},{"source":"Puppet_enterprise::Pg::Extension[pe-orchestrator/pg_repack]","target":"Puppet_enterprise::Psql[pe-orchestrator/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-orchestrator/pg_repack]","target":"Puppet_enterprise::Psql[pe-orchestrator/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-orchestrator/pglogical]","target":"Puppet_enterprise::Psql[pe-orchestrator/pglogical/create-or-drop-extension-pglogical]"},{"source":"Puppet_enterprise::Pg::Extension[pe-orchestrator/pglogical]","target":"Puppet_enterprise::Psql[pe-orchestrator/pglogical/update-extension-pglogical]"},{"source":"Puppet_enterprise::Pg::Pglogical::Node[pe-orchestrator/n6bad1349378221]","target":"Puppet_enterprise::Psql[pe-orchestrator/n6bad1349378221/sql]"},{"source":"Puppet_enterprise::Pg::Pglogical::Replication_set[pe-orchestrator/default]","target":"Puppet_enterprise::Psql[pglogical replication set pe-orchestrator/default populate-sql]"},{"source":"Puppet_enterprise::Pg::Pglogical::Subscription[pe-orchestrator/s6bad1349378221]","target":"Puppet_enterprise::Psql[pglogical_subscription pe-orchestrator/s6bad1349378221 drop-sql]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication]"},{"source":"Pe_postgresql::Server::Tablespace[pe-inventory]","target":"File[/opt/puppetlabs/server/data/postgresql/inventory]"},{"source":"Pe_postgresql::Server::Tablespace[pe-inventory]","target":"Pe_postgresql_psql[Create tablespace 'pe-inventory']"},{"source":"Pe_postgresql::Server::Role[pe-inventory]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-inventory\"  LOGIN NOCREATEROLE NOCREATEDB SUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-inventory]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory\" SUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-inventory]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-inventory]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-inventory]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-inventory]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-inventory]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-inventory]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory\" CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Db[pe-inventory]","target":"Pe_postgresql::Server::Database[pe-inventory]"},{"source":"Pe_postgresql::Server::Db[pe-inventory]","target":"Pe_postgresql::Server::Database_grant[GRANT pe-inventory - ALL - pe-inventory]"},{"source":"Puppet_enterprise::Psql[pe-inventory revoke public table create perms]","target":"Pe_postgresql_psql[pe-inventory revoke public table create perms]"},{"source":"Puppet_enterprise::Psql[grant table create to pe-inventory on pe-inventory]","target":"Pe_postgresql_psql[grant table create to pe-inventory on pe-inventory]"},{"source":"Puppet_enterprise::Pg::Enforce_ownership[pe-inventory objects should be owned by pe-inventory]","target":"Puppet_enterprise::Psql[pe-inventory objects should be owned by pe-inventory/tables]"},{"source":"Puppet_enterprise::Pg::Enforce_ownership[pe-inventory objects should be owned by pe-inventory]","target":"Puppet_enterprise::Psql[pe-inventory objects should be owned by pe-inventory/functions]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-inventory-read]","target":"Pe_postgresql::Server::Role[pe-inventory-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-inventory-read]","target":"Puppet_enterprise::Pg::Grant_connect[pe-inventory grant connect perms to pe-inventory-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-inventory-read]","target":"Puppet_enterprise::Pg::Default_read_grant[pe-inventory grant read perms on new objects from pe-inventory to pe-inventory-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-inventory-read]","target":"Puppet_enterprise::Pg::Default_read_grant[pe-inventory grant read perms on new objects from pe-ha-replication to pe-inventory-read]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-inventory-write]","target":"Pe_postgresql::Server::Role[pe-inventory-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-inventory-write]","target":"Puppet_enterprise::Pg::Grant_connect[pe-inventory grant connect perms to pe-inventory-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-inventory-write]","target":"Puppet_enterprise::Pg::Write_grant[pe-inventory grant write perms on existing objects to pe-inventory-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-inventory-write]","target":"Puppet_enterprise::Pg::Default_write_grant[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write]"},{"source":"Puppet_enterprise::Pg::Ordinary_user[pe-inventory-write]","target":"Puppet_enterprise::Pg::Default_write_grant[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write]"},{"source":"Puppet_enterprise::Pg::Extension[pe-inventory/pg_repack]","target":"Puppet_enterprise::Psql[pe-inventory/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-inventory/pg_repack]","target":"Puppet_enterprise::Psql[pe-inventory/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Pg::Extension[pe-inventory/pgcrypto]","target":"Puppet_enterprise::Psql[pe-inventory/pgcrypto/create-or-drop-extension-pgcrypto]"},{"source":"Puppet_enterprise::Pg::Extension[pe-inventory/pgcrypto]","target":"Puppet_enterprise::Psql[pe-inventory/pgcrypto/update-extension-pgcrypto]"},{"source":"Puppet_enterprise::Pg::Extension[pe-inventory/pglogical]","target":"Puppet_enterprise::Psql[pe-inventory/pglogical/create-or-drop-extension-pglogical]"},{"source":"Puppet_enterprise::Pg::Extension[pe-inventory/pglogical]","target":"Puppet_enterprise::Psql[pe-inventory/pglogical/update-extension-pglogical]"},{"source":"Puppet_enterprise::Pg::Pglogical::Node[pe-inventory/n6bad1349378221]","target":"Puppet_enterprise::Psql[pe-inventory/n6bad1349378221/sql]"},{"source":"Puppet_enterprise::Pg::Pglogical::Replication_set[pe-inventory/default]","target":"Puppet_enterprise::Psql[pglogical replication set pe-inventory/default populate-sql]"},{"source":"Puppet_enterprise::Pg::Pglogical::Subscription[pe-inventory/s6bad1349378221]","target":"Puppet_enterprise::Psql[pglogical_subscription pe-inventory/s6bad1349378221 drop-sql]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv4)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication]","target":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication]"},{"source":"Puppet_enterprise::Pg::Cert_whitelist_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication]","target":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments.concat]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments.concat.out]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/bootstrap.cfg]","target":"File[/etc/puppetlabs/puppetserver/bootstrap.cfg]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/bootstrap.cfg]","target":"Exec[pe_concat_/etc/puppetlabs/puppetserver/bootstrap.cfg]"},{"source":"Pe_concat::Fragment[puppetserver certificate-authority-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver certificate-authority-service]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments.concat]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments.concat.out]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"File[/etc/puppetlabs/puppetserver/conf.d/auth.conf]"},{"source":"Pe_concat[/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"Exec[pe_concat_/etc/puppetlabs/puppetserver/conf.d/auth.conf]"},{"source":"Pe_concat::Fragment[00_header_/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments/10_00_header__etc_puppetlabs_puppetserver_conf.d_auth.conf]"},{"source":"Pe_concat::Fragment[99_footer_/etc/puppetlabs/puppetserver/conf.d/auth.conf]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_conf.d_auth.conf/fragments/10_99_footer__etc_puppetlabs_puppetserver_conf.d_auth.conf]"},{"source":"Pe_concat::Fragment[puppetserver jetty9-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver jetty9-service]"},{"source":"Pe_concat::Fragment[puppetserver pe-master-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver pe-master-service]"},{"source":"Pe_concat::Fragment[puppetserver old-pe-master-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver old-pe-master-service]"},{"source":"Pe_concat::Fragment[puppetserver master-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver master-service]"},{"source":"Pe_concat::Fragment[puppetserver request-handler-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver request-handler-service]"},{"source":"Pe_concat::Fragment[puppetserver jruby-puppet-pooled-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver jruby-puppet-pooled-service]"},{"source":"Pe_concat::Fragment[puppetserver jruby-pool-manager-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver jruby-pool-manager-service]"},{"source":"Pe_concat::Fragment[puppetserver metrics-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver metrics-service]"},{"source":"Pe_concat::Fragment[puppetserver puppet-profiler-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver puppet-profiler-service]"},{"source":"Pe_concat::Fragment[puppetserver pe-metrics-puppet-profiler-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver pe-metrics-puppet-profiler-service]"},{"source":"Pe_concat::Fragment[puppetserver metrics-puppet-profiler-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver metrics-puppet-profiler-service]"},{"source":"Pe_concat::Fragment[puppetserver puppet-server-config-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver puppet-server-config-service]"},{"source":"Pe_concat::Fragment[puppetserver puppet-admin-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver puppet-admin-service]"},{"source":"Pe_concat::Fragment[puppetserver webrouting-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver webrouting-service]"},{"source":"Pe_concat::Fragment[puppetserver legacy-routes-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver legacy-routes-service]"},{"source":"Pe_concat::Fragment[puppetserver pe-legacy-routes-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver pe-legacy-routes-service]"},{"source":"Pe_concat::Fragment[puppetserver status-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver status-service]"},{"source":"Pe_concat::Fragment[puppetserver authorization-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver authorization-service]"},{"source":"Pe_concat::Fragment[puppetserver scheduler-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver scheduler-service]"},{"source":"Pe_concat::Fragment[puppetserver pe-jruby-metrics-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver pe-jruby-metrics-service]"},{"source":"Pe_concat::Fragment[puppetserver jruby-metrics-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver jruby-metrics-service]"},{"source":"Pe_concat::Fragment[puppetserver puppetserver-analytics-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver puppetserver-analytics-service]"},{"source":"Pe_concat::Fragment[puppetserver filesystem-watch-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver filesystem-watch-service]"},{"source":"Pe_concat::Fragment[puppetserver remote-rbac-consumer-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver remote-rbac-consumer-service]"},{"source":"Pe_concat::Fragment[puppetserver metrics-webservice]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver metrics-webservice]"},{"source":"Pe_concat::Fragment[puppetserver code-manager-v1]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver code-manager-v1]"},{"source":"Pe_concat::Fragment[puppetserver remote-activity-reporter]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver remote-activity-reporter]"},{"source":"Pe_concat::Fragment[puppetserver file-sync-client-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver file-sync-client-service]"},{"source":"Pe_concat::Fragment[puppetserver file-sync-web-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver file-sync-web-service]"},{"source":"Pe_concat::Fragment[puppetserver file-sync-versioned-code-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver file-sync-versioned-code-service]"},{"source":"Pe_concat::Fragment[puppetserver file-sync-storage-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver file-sync-storage-service]"},{"source":"Pe_concat::Fragment[puppetserver analytics-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_puppetserver_bootstrap.cfg/fragments/10_puppetserver analytics-service]"},{"source":"Puppet_enterprise::Certs::Pk8_cert[/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8]","target":"Exec[/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8]"},{"source":"Puppet_enterprise::Certs::Pk8_cert[/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8]","target":"File[/etc/puppetlabs/puppetdb/ssl/pe-xl-core-0.puppet.vm.private_key.pk8]"},{"source":"Pe_repo::Repo[el-7-x86_64 2019.1.1]","target":"File[/opt/puppetlabs/server/data/staging/pe_repo-puppet-agent-6.4.3]"},{"source":"Pe_repo::Repo[el-7-x86_64 2019.1.1]","target":"File[/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3]"},{"source":"Pe_repo::Repo[el-7-x86_64 2019.1.1]","target":"Pe_staging::Deploy[puppet-agent-el-7-x86_64.tar.gz]"},{"source":"Pe_repo::Repo[el-7-x86_64 2019.1.1]","target":"Puppet_enterprise::Set_owner_group_permissions[/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3]"},{"source":"Pe_repo::Repo[el-7-x86_64 2019.1.1]","target":"File[/opt/puppetlabs/server/data/packages/public/2019.1.1]"},{"source":"Pe_repo::Repo[el-7-x86_64 2019.1.1]","target":"File[/opt/puppetlabs/server/data/packages/public/2019.1.1/install.bash]"},{"source":"Pe_repo::Repo[el-7-x86_64 2019.1.1]","target":"File[/opt/puppetlabs/server/data/packages/public/2019.1.1/upgrade.bash]"},{"source":"Pe_repo::Repo[el-7-x86_64 2019.1.1]","target":"File[/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64]"},{"source":"Stage[main]","target":"Class[Pe_staging]"},{"source":"Class[Pe_staging]","target":"File[/opt/puppetlabs/server/data/staging]"},{"source":"Pe_staging::File[puppet-agent-x64.msi]","target":"Exec[/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/puppet-agent-x64.msi]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3]","target":"Exec[Set perms of /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ directories to 0755]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3]","target":"Exec[Set perms of /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ contents to 0644]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3]","target":"Exec[Set user/group of /opt/puppetlabs/server/data/packages/public/2019.1.1/windows-x86_64-6.4.3/ contents to root:root]"},{"source":"Pe_puppet_authorization::Rule[dispatch: allow pcp-brokers]","target":"Pe_puppet_authorization_hocon_rule[rule-dispatch: allow pcp-brokers]"},{"source":"Pe_puppet_authorization::Rule[orchestrator simple status endpoint]","target":"Pe_puppet_authorization_hocon_rule[rule-orchestrator simple status endpoint]"},{"source":"Pe_puppet_authorization::Rule[orchestrator status service]","target":"Pe_puppet_authorization_hocon_rule[rule-orchestrator status service]"},{"source":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings[orchestration-services]","target":"File[/etc/puppetlabs/orchestration-services/conf.d/analytics.conf]"},{"source":"Puppet_enterprise::Trapperkeeper::Analytics_client_settings[orchestration-services]","target":"Pe_hocon_setting[orchestration-services.analytics.url]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator orchestrator-service]","target":"Pe_concat::Fragment[orchestration-services orchestrator-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator orchestrator-dispatch-service]","target":"Pe_concat::Fragment[orchestration-services orchestrator-dispatch-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator jetty9-service]","target":"Pe_concat::Fragment[orchestration-services jetty9-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator remote-rbac-consumer-service]","target":"Pe_concat::Fragment[orchestration-services remote-rbac-consumer-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator remote-activity-reporter]","target":"Pe_concat::Fragment[orchestration-services remote-activity-reporter]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:orchestrator jruby-pool-manager-service]","target":"Pe_concat::Fragment[orchestration-services jruby-pool-manager-service]"},{"source":"Pe_puppet_authorization::Rule[pxp commands]","target":"Pe_puppet_authorization_hocon_rule[rule-pxp commands]"},{"source":"Pe_puppet_authorization::Rule[inventory request]","target":"Pe_puppet_authorization_hocon_rule[rule-inventory request]"},{"source":"Pe_puppet_authorization::Rule[multi-cast with destination_report]","target":"Pe_puppet_authorization_hocon_rule[rule-multi-cast with destination_report]"},{"source":"Pe_puppet_authorization::Rule[pcp-broker message]","target":"Pe_puppet_authorization_hocon_rule[rule-pcp-broker message]"},{"source":"Pe_puppet_authorization::Rule[pcp messages]","target":"Pe_puppet_authorization_hocon_rule[rule-pcp messages]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker broker-service]","target":"Pe_concat::Fragment[orchestration-services broker-service]"},{"source":"Puppet_enterprise::Trapperkeeper::Bootstrap_cfg[orchestration-services:pcp-broker authorization-service]","target":"Pe_concat::Fragment[orchestration-services authorization-service]"},{"source":"Pe_concat[/etc/puppetlabs/orchestration-services/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg]"},{"source":"Pe_concat[/etc/puppetlabs/orchestration-services/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments]"},{"source":"Pe_concat[/etc/puppetlabs/orchestration-services/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments.concat]"},{"source":"Pe_concat[/etc/puppetlabs/orchestration-services/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments.concat.out]"},{"source":"Pe_concat[/etc/puppetlabs/orchestration-services/bootstrap.cfg]","target":"File[/etc/puppetlabs/orchestration-services/bootstrap.cfg]"},{"source":"Pe_concat[/etc/puppetlabs/orchestration-services/bootstrap.cfg]","target":"Exec[pe_concat_/etc/puppetlabs/orchestration-services/bootstrap.cfg]"},{"source":"Pe_concat::Fragment[orchestration-services inventory-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services inventory-service]"},{"source":"Pe_concat::Fragment[orchestration-services webrouting-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services webrouting-service]"},{"source":"Pe_concat::Fragment[orchestration-services metrics-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services metrics-service]"},{"source":"Pe_concat::Fragment[orchestration-services metrics-webservice]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services metrics-webservice]"},{"source":"Pe_concat::Fragment[orchestration-services scheduler-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services scheduler-service]"},{"source":"Pe_concat::Fragment[orchestration-services status-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services status-service]"},{"source":"Puppet_enterprise::Certs::Pk8_cert[/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8]","target":"Exec[/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8]"},{"source":"Puppet_enterprise::Certs::Pk8_cert[/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8]","target":"File[/etc/puppetlabs/orchestration-services/ssl/pe-xl-core-0.puppet.vm.private_key.pk8]"},{"source":"Puppet_enterprise::Certs[bolt-server]","target":"File[/etc/puppetlabs/bolt-server/ssl]"},{"source":"Puppet_enterprise::Certs[bolt-server]","target":"File[/etc/puppetlabs/bolt-server/ssl/pe-xl-core-0.puppet.vm.cert.pem]"},{"source":"Puppet_enterprise::Certs[bolt-server]","target":"File[/etc/puppetlabs/bolt-server/ssl/pe-xl-core-0.puppet.vm.private_key.pem]"},{"source":"Puppet_enterprise::Certs[ace-server]","target":"File[/etc/puppetlabs/ace-server/ssl]"},{"source":"Puppet_enterprise::Certs[ace-server]","target":"File[/etc/puppetlabs/ace-server/ssl/pe-xl-core-0.puppet.vm.cert.pem]"},{"source":"Puppet_enterprise::Certs[ace-server]","target":"File[/etc/puppetlabs/ace-server/ssl/pe-xl-core-0.puppet.vm.private_key.pem]"},{"source":"Pe_concat[/etc/puppetlabs/console-services/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg]"},{"source":"Pe_concat[/etc/puppetlabs/console-services/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments]"},{"source":"Pe_concat[/etc/puppetlabs/console-services/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments.concat]"},{"source":"Pe_concat[/etc/puppetlabs/console-services/bootstrap.cfg]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments.concat.out]"},{"source":"Pe_concat[/etc/puppetlabs/console-services/bootstrap.cfg]","target":"File[/etc/puppetlabs/console-services/bootstrap.cfg]"},{"source":"Pe_concat[/etc/puppetlabs/console-services/bootstrap.cfg]","target":"Exec[pe_concat_/etc/puppetlabs/console-services/bootstrap.cfg]"},{"source":"Pe_concat::Fragment[console-services activity-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services activity-service]"},{"source":"Pe_concat::Fragment[console-services jetty9-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services jetty9-service]"},{"source":"Pe_concat::Fragment[console-services rbac-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-service]"},{"source":"Pe_concat::Fragment[console-services rbac-storage-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-storage-service]"},{"source":"Pe_concat::Fragment[console-services rbac-http-api-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-http-api-service]"},{"source":"Pe_concat::Fragment[console-services rbac-authn-middleware]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-authn-middleware]"},{"source":"Pe_concat::Fragment[console-services activity-reporting-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services activity-reporting-service]"},{"source":"Pe_concat::Fragment[console-services audit-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services audit-service]"},{"source":"Pe_concat::Fragment[console-services classifier-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services classifier-service]"},{"source":"Pe_concat::Fragment[console-services webrouting-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services webrouting-service]"},{"source":"Pe_concat::Fragment[console-services rbac-consumer-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-consumer-service]"},{"source":"Pe_concat::Fragment[console-services rbac-status-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-status-service]"},{"source":"Pe_concat::Fragment[console-services rbac-authn-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-authn-service]"},{"source":"Pe_concat::Fragment[console-services rbac-authz-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services rbac-authz-service]"},{"source":"Pe_concat::Fragment[console-services pe-console-ui-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services pe-console-ui-service]"},{"source":"Pe_concat::Fragment[console-services pe-console-auth-ui-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services pe-console-auth-ui-service]"},{"source":"Pe_concat::Fragment[console-services status-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services status-service]"},{"source":"Pe_concat::Fragment[console-services scheduler-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services scheduler-service]"},{"source":"Pe_concat::Fragment[console-services metrics-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services metrics-service]"},{"source":"Pe_concat::Fragment[console-services metrics-webservice]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_console-services_bootstrap.cfg/fragments/10_console-services metrics-webservice]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to replication as pe-ha-replication (ipv6)]"},{"source":"Pe_concat::Fragment[Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow replication connections by pe-ha-replication from pe-xl-core-1.puppet.vm ident rule fragment]"},{"source":"Pe_postgresql::Server::Database[pe-puppetdb]","target":"Pe_postgresql_psql[Check for existence of db 'pe-puppetdb']"},{"source":"Pe_postgresql::Server::Database[pe-puppetdb]","target":"Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-puppetdb'  'pe-puppetdb']"},{"source":"Pe_postgresql::Server::Database[pe-puppetdb]","target":"Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-puppetdb\" FROM public]"},{"source":"Pe_postgresql::Server::Database[pe-puppetdb]","target":"Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-puppetdb']"},{"source":"Pe_postgresql::Server::Database_grant[GRANT pe-puppetdb - ALL - pe-puppetdb]","target":"Pe_postgresql::Server::Grant[database:GRANT pe-puppetdb - ALL - pe-puppetdb]"},{"source":"Puppet_enterprise::Psql[pe-puppetdb/pg_repack/create-or-drop-extension-pg_repack]","target":"Pe_postgresql_psql[pe-puppetdb/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-puppetdb/pg_repack/update-extension-pg_repack]","target":"Pe_postgresql_psql[pe-puppetdb/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-puppetdb/pg_trgm/create-or-drop-extension-pg_trgm]","target":"Pe_postgresql_psql[pe-puppetdb/pg_trgm/create-or-drop-extension-pg_trgm]"},{"source":"Puppet_enterprise::Psql[pe-puppetdb/pg_trgm/update-extension-pg_trgm]","target":"Pe_postgresql_psql[pe-puppetdb/pg_trgm/update-extension-pg_trgm]"},{"source":"Puppet_enterprise::Psql[pe-puppetdb/pgcrypto/create-or-drop-extension-pgcrypto]","target":"Pe_postgresql_psql[pe-puppetdb/pgcrypto/create-or-drop-extension-pgcrypto]"},{"source":"Puppet_enterprise::Psql[pe-puppetdb/pgcrypto/update-extension-pgcrypto]","target":"Pe_postgresql_psql[pe-puppetdb/pgcrypto/update-extension-pgcrypto]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb]","target":"Pe_concat::Fragment[Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb]","target":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment]"},{"source":"Pe_postgresql::Server::Database[pe-classifier]","target":"Pe_postgresql_psql[Check for existence of db 'pe-classifier']"},{"source":"Pe_postgresql::Server::Database[pe-classifier]","target":"Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-classifier'  'pe-classifier']"},{"source":"Pe_postgresql::Server::Database[pe-classifier]","target":"Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-classifier\" FROM public]"},{"source":"Pe_postgresql::Server::Database[pe-classifier]","target":"Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-classifier']"},{"source":"Pe_postgresql::Server::Database_grant[GRANT pe-classifier - ALL - pe-classifier]","target":"Pe_postgresql::Server::Grant[database:GRANT pe-classifier - ALL - pe-classifier]"},{"source":"Puppet_enterprise::Psql[pe-classifier objects should be owned by pe-classifier/tables]","target":"Pe_postgresql_psql[pe-classifier objects should be owned by pe-classifier/tables]"},{"source":"Puppet_enterprise::Psql[pe-classifier objects should be owned by pe-classifier/functions]","target":"Pe_postgresql_psql[pe-classifier objects should be owned by pe-classifier/functions]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-read]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-classifier-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-read\" NOSUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-read\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-read\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-read\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-read\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-read\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-read\" CONNECTION LIMIT -1]"},{"source":"Puppet_enterprise::Pg::Grant_connect[pe-classifier grant connect perms to pe-classifier-read]","target":"Puppet_enterprise::Psql[pe-classifier grant connect perms to pe-classifier-read/sql]"},{"source":"Puppet_enterprise::Pg::Default_read_grant[pe-classifier grant read perms on new objects from pe-classifier to pe-classifier-read]","target":"Puppet_enterprise::Psql[pe-classifier grant read perms on new objects from pe-classifier to pe-classifier-read/sql]"},{"source":"Puppet_enterprise::Pg::Default_read_grant[pe-classifier grant read perms on new objects from pe-ha-replication to pe-classifier-read]","target":"Puppet_enterprise::Psql[pe-classifier grant read perms on new objects from pe-ha-replication to pe-classifier-read/sql]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-write]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-classifier-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-write\" NOSUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-write\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-write\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-write\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-write\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-write\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-classifier-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-classifier-write\" CONNECTION LIMIT -1]"},{"source":"Puppet_enterprise::Pg::Grant_connect[pe-classifier grant connect perms to pe-classifier-write]","target":"Puppet_enterprise::Psql[pe-classifier grant connect perms to pe-classifier-write/sql]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-classifier grant write perms on existing objects to pe-classifier-write]","target":"Puppet_enterprise::Psql[pe-classifier grant write perms on existing objects to pe-classifier-write/tables]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-classifier grant write perms on existing objects to pe-classifier-write]","target":"Puppet_enterprise::Psql[pe-classifier grant write perms on existing objects to pe-classifier-write/sequences]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-classifier grant write perms on existing objects to pe-classifier-write]","target":"Puppet_enterprise::Psql[pe-classifier grant write perms on existing objects to pe-classifier-write/functions]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write]","target":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/tables]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write]","target":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/sequences]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write]","target":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/functions]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write]","target":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/tables]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write]","target":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/sequences]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write]","target":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-classifier/pg_repack/create-or-drop-extension-pg_repack]","target":"Pe_postgresql_psql[pe-classifier/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-classifier/pg_repack/update-extension-pg_repack]","target":"Pe_postgresql_psql[pe-classifier/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-classifier/pglogical/create-or-drop-extension-pglogical]","target":"Pe_postgresql_psql[pe-classifier/pglogical/create-or-drop-extension-pglogical]"},{"source":"Puppet_enterprise::Psql[pe-classifier/pglogical/update-extension-pglogical]","target":"Pe_postgresql_psql[pe-classifier/pglogical/update-extension-pglogical]"},{"source":"Puppet_enterprise::Psql[pe-classifier/n6bad1349378221/sql]","target":"Pe_postgresql_psql[pe-classifier/n6bad1349378221/sql]"},{"source":"Puppet_enterprise::Psql[pglogical replication set pe-classifier/default populate-sql]","target":"Pe_postgresql_psql[pglogical replication set pe-classifier/default populate-sql]"},{"source":"Puppet_enterprise::Psql[pglogical_subscription pe-classifier/s6bad1349378221 drop-sql]","target":"Pe_postgresql_psql[pglogical_subscription pe-classifier/s6bad1349378221 drop-sql]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication]","target":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment]"},{"source":"Pe_postgresql::Server::Database[pe-rbac]","target":"Pe_postgresql_psql[Check for existence of db 'pe-rbac']"},{"source":"Pe_postgresql::Server::Database[pe-rbac]","target":"Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-rbac'  'pe-rbac']"},{"source":"Pe_postgresql::Server::Database[pe-rbac]","target":"Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-rbac\" FROM public]"},{"source":"Pe_postgresql::Server::Database[pe-rbac]","target":"Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-rbac']"},{"source":"Pe_postgresql::Server::Database_grant[GRANT pe-rbac - ALL - pe-rbac]","target":"Pe_postgresql::Server::Grant[database:GRANT pe-rbac - ALL - pe-rbac]"},{"source":"Puppet_enterprise::Psql[pe-rbac objects should be owned by pe-rbac/tables]","target":"Pe_postgresql_psql[pe-rbac objects should be owned by pe-rbac/tables]"},{"source":"Puppet_enterprise::Psql[pe-rbac objects should be owned by pe-rbac/functions]","target":"Pe_postgresql_psql[pe-rbac objects should be owned by pe-rbac/functions]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-read]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-rbac-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-read\" NOSUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-read\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-read\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-read\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-read\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-read\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-read\" CONNECTION LIMIT -1]"},{"source":"Puppet_enterprise::Pg::Grant_connect[pe-rbac grant connect perms to pe-rbac-read]","target":"Puppet_enterprise::Psql[pe-rbac grant connect perms to pe-rbac-read/sql]"},{"source":"Puppet_enterprise::Pg::Default_read_grant[pe-rbac grant read perms on new objects from pe-rbac to pe-rbac-read]","target":"Puppet_enterprise::Psql[pe-rbac grant read perms on new objects from pe-rbac to pe-rbac-read/sql]"},{"source":"Puppet_enterprise::Pg::Default_read_grant[pe-rbac grant read perms on new objects from pe-ha-replication to pe-rbac-read]","target":"Puppet_enterprise::Psql[pe-rbac grant read perms on new objects from pe-ha-replication to pe-rbac-read/sql]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-write]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-rbac-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-write\" NOSUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-write\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-write\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-write\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-write\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-write\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-rbac-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-rbac-write\" CONNECTION LIMIT -1]"},{"source":"Puppet_enterprise::Pg::Grant_connect[pe-rbac grant connect perms to pe-rbac-write]","target":"Puppet_enterprise::Psql[pe-rbac grant connect perms to pe-rbac-write/sql]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-rbac grant write perms on existing objects to pe-rbac-write]","target":"Puppet_enterprise::Psql[pe-rbac grant write perms on existing objects to pe-rbac-write/tables]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-rbac grant write perms on existing objects to pe-rbac-write]","target":"Puppet_enterprise::Psql[pe-rbac grant write perms on existing objects to pe-rbac-write/sequences]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-rbac grant write perms on existing objects to pe-rbac-write]","target":"Puppet_enterprise::Psql[pe-rbac grant write perms on existing objects to pe-rbac-write/functions]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write]","target":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/tables]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write]","target":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/sequences]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write]","target":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/functions]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write]","target":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/tables]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write]","target":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/sequences]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write]","target":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-rbac/pg_repack/create-or-drop-extension-pg_repack]","target":"Pe_postgresql_psql[pe-rbac/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-rbac/pg_repack/update-extension-pg_repack]","target":"Pe_postgresql_psql[pe-rbac/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-rbac/citext/create-or-drop-extension-citext]","target":"Pe_postgresql_psql[pe-rbac/citext/create-or-drop-extension-citext]"},{"source":"Puppet_enterprise::Psql[pe-rbac/citext/update-extension-citext]","target":"Pe_postgresql_psql[pe-rbac/citext/update-extension-citext]"},{"source":"Puppet_enterprise::Psql[pe-rbac/pgcrypto/create-or-drop-extension-pgcrypto]","target":"Pe_postgresql_psql[pe-rbac/pgcrypto/create-or-drop-extension-pgcrypto]"},{"source":"Puppet_enterprise::Psql[pe-rbac/pgcrypto/update-extension-pgcrypto]","target":"Pe_postgresql_psql[pe-rbac/pgcrypto/update-extension-pgcrypto]"},{"source":"Puppet_enterprise::Psql[pe-rbac/pglogical/create-or-drop-extension-pglogical]","target":"Pe_postgresql_psql[pe-rbac/pglogical/create-or-drop-extension-pglogical]"},{"source":"Puppet_enterprise::Psql[pe-rbac/pglogical/update-extension-pglogical]","target":"Pe_postgresql_psql[pe-rbac/pglogical/update-extension-pglogical]"},{"source":"Puppet_enterprise::Psql[pe-rbac/n6bad1349378221/sql]","target":"Pe_postgresql_psql[pe-rbac/n6bad1349378221/sql]"},{"source":"Puppet_enterprise::Psql[pglogical replication set pe-rbac/default populate-sql]","target":"Pe_postgresql_psql[pglogical replication set pe-rbac/default populate-sql]"},{"source":"Puppet_enterprise::Psql[pglogical_subscription pe-rbac/s6bad1349378221 drop-sql]","target":"Pe_postgresql_psql[pglogical_subscription pe-rbac/s6bad1349378221 drop-sql]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication]","target":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment]"},{"source":"Pe_postgresql::Server::Database[pe-activity]","target":"Pe_postgresql_psql[Check for existence of db 'pe-activity']"},{"source":"Pe_postgresql::Server::Database[pe-activity]","target":"Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-activity'  'pe-activity']"},{"source":"Pe_postgresql::Server::Database[pe-activity]","target":"Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-activity\" FROM public]"},{"source":"Pe_postgresql::Server::Database[pe-activity]","target":"Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-activity']"},{"source":"Pe_postgresql::Server::Database_grant[GRANT pe-activity - ALL - pe-activity]","target":"Pe_postgresql::Server::Grant[database:GRANT pe-activity - ALL - pe-activity]"},{"source":"Puppet_enterprise::Psql[pe-activity objects should be owned by pe-activity/tables]","target":"Pe_postgresql_psql[pe-activity objects should be owned by pe-activity/tables]"},{"source":"Puppet_enterprise::Psql[pe-activity objects should be owned by pe-activity/functions]","target":"Pe_postgresql_psql[pe-activity objects should be owned by pe-activity/functions]"},{"source":"Pe_postgresql::Server::Role[pe-activity-read]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-activity-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-activity-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-read\" NOSUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-activity-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-read\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-activity-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-read\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-activity-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-read\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-activity-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-read\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-activity-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-read\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-activity-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-read\" CONNECTION LIMIT -1]"},{"source":"Puppet_enterprise::Pg::Grant_connect[pe-activity grant connect perms to pe-activity-read]","target":"Puppet_enterprise::Psql[pe-activity grant connect perms to pe-activity-read/sql]"},{"source":"Puppet_enterprise::Pg::Default_read_grant[pe-activity grant read perms on new objects from pe-activity to pe-activity-read]","target":"Puppet_enterprise::Psql[pe-activity grant read perms on new objects from pe-activity to pe-activity-read/sql]"},{"source":"Puppet_enterprise::Pg::Default_read_grant[pe-activity grant read perms on new objects from pe-ha-replication to pe-activity-read]","target":"Puppet_enterprise::Psql[pe-activity grant read perms on new objects from pe-ha-replication to pe-activity-read/sql]"},{"source":"Pe_postgresql::Server::Role[pe-activity-write]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-activity-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-activity-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-write\" NOSUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-activity-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-write\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-activity-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-write\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-activity-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-write\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-activity-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-write\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-activity-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-write\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-activity-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-activity-write\" CONNECTION LIMIT -1]"},{"source":"Puppet_enterprise::Pg::Grant_connect[pe-activity grant connect perms to pe-activity-write]","target":"Puppet_enterprise::Psql[pe-activity grant connect perms to pe-activity-write/sql]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-activity grant write perms on existing objects to pe-activity-write]","target":"Puppet_enterprise::Psql[pe-activity grant write perms on existing objects to pe-activity-write/tables]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-activity grant write perms on existing objects to pe-activity-write]","target":"Puppet_enterprise::Psql[pe-activity grant write perms on existing objects to pe-activity-write/sequences]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-activity grant write perms on existing objects to pe-activity-write]","target":"Puppet_enterprise::Psql[pe-activity grant write perms on existing objects to pe-activity-write/functions]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-activity grant write perms on new objects from pe-activity to pe-activity-write]","target":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-activity to pe-activity-write/tables]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-activity grant write perms on new objects from pe-activity to pe-activity-write]","target":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-activity to pe-activity-write/sequences]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-activity grant write perms on new objects from pe-activity to pe-activity-write]","target":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-activity to pe-activity-write/functions]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write]","target":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/tables]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write]","target":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/sequences]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write]","target":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-activity/pg_repack/create-or-drop-extension-pg_repack]","target":"Pe_postgresql_psql[pe-activity/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-activity/pg_repack/update-extension-pg_repack]","target":"Pe_postgresql_psql[pe-activity/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-activity/pglogical/create-or-drop-extension-pglogical]","target":"Pe_postgresql_psql[pe-activity/pglogical/create-or-drop-extension-pglogical]"},{"source":"Puppet_enterprise::Psql[pe-activity/pglogical/update-extension-pglogical]","target":"Pe_postgresql_psql[pe-activity/pglogical/update-extension-pglogical]"},{"source":"Puppet_enterprise::Psql[pe-activity/n6bad1349378221/sql]","target":"Pe_postgresql_psql[pe-activity/n6bad1349378221/sql]"},{"source":"Puppet_enterprise::Psql[pglogical replication set pe-activity/default populate-sql]","target":"Pe_postgresql_psql[pglogical replication set pe-activity/default populate-sql]"},{"source":"Puppet_enterprise::Psql[pglogical_subscription pe-activity/s6bad1349378221 drop-sql]","target":"Pe_postgresql_psql[pglogical_subscription pe-activity/s6bad1349378221 drop-sql]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity-read (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity-read (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity-write (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-activity-write (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication]","target":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment]"},{"source":"Pe_postgresql::Server::Database[pe-orchestrator]","target":"Pe_postgresql_psql[Check for existence of db 'pe-orchestrator']"},{"source":"Pe_postgresql::Server::Database[pe-orchestrator]","target":"Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-orchestrator'  'pe-orchestrator']"},{"source":"Pe_postgresql::Server::Database[pe-orchestrator]","target":"Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-orchestrator\" FROM public]"},{"source":"Pe_postgresql::Server::Database[pe-orchestrator]","target":"Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-orchestrator']"},{"source":"Pe_postgresql::Server::Database_grant[GRANT pe-orchestrator - ALL - pe-orchestrator]","target":"Pe_postgresql::Server::Grant[database:GRANT pe-orchestrator - ALL - pe-orchestrator]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator objects should be owned by pe-orchestrator/tables]","target":"Pe_postgresql_psql[pe-orchestrator objects should be owned by pe-orchestrator/tables]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator objects should be owned by pe-orchestrator/functions]","target":"Pe_postgresql_psql[pe-orchestrator objects should be owned by pe-orchestrator/functions]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-read]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-read\" NOSUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-read\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-read\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-read\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-read\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-read\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-read\" CONNECTION LIMIT -1]"},{"source":"Puppet_enterprise::Pg::Grant_connect[pe-orchestrator grant connect perms to pe-orchestrator-read]","target":"Puppet_enterprise::Psql[pe-orchestrator grant connect perms to pe-orchestrator-read/sql]"},{"source":"Puppet_enterprise::Pg::Default_read_grant[pe-orchestrator grant read perms on new objects from pe-orchestrator to pe-orchestrator-read]","target":"Puppet_enterprise::Psql[pe-orchestrator grant read perms on new objects from pe-orchestrator to pe-orchestrator-read/sql]"},{"source":"Puppet_enterprise::Pg::Default_read_grant[pe-orchestrator grant read perms on new objects from pe-ha-replication to pe-orchestrator-read]","target":"Puppet_enterprise::Psql[pe-orchestrator grant read perms on new objects from pe-ha-replication to pe-orchestrator-read/sql]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-write]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-orchestrator-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-write\" NOSUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-write\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-write\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-write\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-write\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-write\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-orchestrator-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-orchestrator-write\" CONNECTION LIMIT -1]"},{"source":"Puppet_enterprise::Pg::Grant_connect[pe-orchestrator grant connect perms to pe-orchestrator-write]","target":"Puppet_enterprise::Psql[pe-orchestrator grant connect perms to pe-orchestrator-write/sql]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write]","target":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/tables]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write]","target":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/sequences]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write]","target":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/functions]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write]","target":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/tables]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write]","target":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/sequences]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write]","target":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/functions]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write]","target":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/tables]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write]","target":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/sequences]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write]","target":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator/pg_repack/create-or-drop-extension-pg_repack]","target":"Pe_postgresql_psql[pe-orchestrator/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator/pg_repack/update-extension-pg_repack]","target":"Pe_postgresql_psql[pe-orchestrator/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator/pglogical/create-or-drop-extension-pglogical]","target":"Pe_postgresql_psql[pe-orchestrator/pglogical/create-or-drop-extension-pglogical]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator/pglogical/update-extension-pglogical]","target":"Pe_postgresql_psql[pe-orchestrator/pglogical/update-extension-pglogical]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator/n6bad1349378221/sql]","target":"Pe_postgresql_psql[pe-orchestrator/n6bad1349378221/sql]"},{"source":"Puppet_enterprise::Psql[pglogical replication set pe-orchestrator/default populate-sql]","target":"Pe_postgresql_psql[pglogical replication set pe-orchestrator/default populate-sql]"},{"source":"Puppet_enterprise::Psql[pglogical_subscription pe-orchestrator/s6bad1349378221 drop-sql]","target":"Pe_postgresql_psql[pglogical_subscription pe-orchestrator/s6bad1349378221 drop-sql]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication]","target":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment]"},{"source":"Pe_postgresql::Server::Database[pe-inventory]","target":"Pe_postgresql_psql[Check for existence of db 'pe-inventory']"},{"source":"Pe_postgresql::Server::Database[pe-inventory]","target":"Exec[/opt/puppetlabs/server/bin/createdb --port='5432' --owner='pe-postgres' --template=template0 --encoding 'UTF8' --lc-ctype=en_US.UTF-8 --lc-collate=en_US.UTF-8 --tablespace='pe-inventory'  'pe-inventory']"},{"source":"Pe_postgresql::Server::Database[pe-inventory]","target":"Pe_postgresql_psql[REVOKE CONNECT ON DATABASE \"pe-inventory\" FROM public]"},{"source":"Pe_postgresql::Server::Database[pe-inventory]","target":"Pe_postgresql_psql[UPDATE pg_database SET datistemplate = false WHERE datname = 'pe-inventory']"},{"source":"Pe_postgresql::Server::Database_grant[GRANT pe-inventory - ALL - pe-inventory]","target":"Pe_postgresql::Server::Grant[database:GRANT pe-inventory - ALL - pe-inventory]"},{"source":"Puppet_enterprise::Psql[pe-inventory objects should be owned by pe-inventory/tables]","target":"Pe_postgresql_psql[pe-inventory objects should be owned by pe-inventory/tables]"},{"source":"Puppet_enterprise::Psql[pe-inventory objects should be owned by pe-inventory/functions]","target":"Pe_postgresql_psql[pe-inventory objects should be owned by pe-inventory/functions]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-read]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-inventory-read\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-read\" NOSUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-read\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-read\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-read\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-read\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-read\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-read]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-read\" CONNECTION LIMIT -1]"},{"source":"Puppet_enterprise::Pg::Grant_connect[pe-inventory grant connect perms to pe-inventory-read]","target":"Puppet_enterprise::Psql[pe-inventory grant connect perms to pe-inventory-read/sql]"},{"source":"Puppet_enterprise::Pg::Default_read_grant[pe-inventory grant read perms on new objects from pe-inventory to pe-inventory-read]","target":"Puppet_enterprise::Psql[pe-inventory grant read perms on new objects from pe-inventory to pe-inventory-read/sql]"},{"source":"Puppet_enterprise::Pg::Default_read_grant[pe-inventory grant read perms on new objects from pe-ha-replication to pe-inventory-read]","target":"Puppet_enterprise::Psql[pe-inventory grant read perms on new objects from pe-ha-replication to pe-inventory-read/sql]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-write]","target":"Pe_postgresql_psql[CREATE ROLE \"pe-inventory-write\"  LOGIN NOCREATEROLE NOCREATEDB NOSUPERUSER  CONNECTION LIMIT -1]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-write\" NOSUPERUSER]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-write\" NOCREATEDB]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-write\" NOCREATEROLE]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-write\" LOGIN]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-write\" INHERIT]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-write\" NOREPLICATION]"},{"source":"Pe_postgresql::Server::Role[pe-inventory-write]","target":"Pe_postgresql_psql[ALTER ROLE \"pe-inventory-write\" CONNECTION LIMIT -1]"},{"source":"Puppet_enterprise::Pg::Grant_connect[pe-inventory grant connect perms to pe-inventory-write]","target":"Puppet_enterprise::Psql[pe-inventory grant connect perms to pe-inventory-write/sql]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-inventory grant write perms on existing objects to pe-inventory-write]","target":"Puppet_enterprise::Psql[pe-inventory grant write perms on existing objects to pe-inventory-write/tables]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-inventory grant write perms on existing objects to pe-inventory-write]","target":"Puppet_enterprise::Psql[pe-inventory grant write perms on existing objects to pe-inventory-write/sequences]"},{"source":"Puppet_enterprise::Pg::Write_grant[pe-inventory grant write perms on existing objects to pe-inventory-write]","target":"Puppet_enterprise::Psql[pe-inventory grant write perms on existing objects to pe-inventory-write/functions]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write]","target":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/tables]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write]","target":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/sequences]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write]","target":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/functions]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write]","target":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/tables]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write]","target":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/sequences]"},{"source":"Puppet_enterprise::Pg::Default_write_grant[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write]","target":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-inventory/pg_repack/create-or-drop-extension-pg_repack]","target":"Pe_postgresql_psql[pe-inventory/pg_repack/create-or-drop-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-inventory/pg_repack/update-extension-pg_repack]","target":"Pe_postgresql_psql[pe-inventory/pg_repack/update-extension-pg_repack]"},{"source":"Puppet_enterprise::Psql[pe-inventory/pgcrypto/create-or-drop-extension-pgcrypto]","target":"Pe_postgresql_psql[pe-inventory/pgcrypto/create-or-drop-extension-pgcrypto]"},{"source":"Puppet_enterprise::Psql[pe-inventory/pgcrypto/update-extension-pgcrypto]","target":"Pe_postgresql_psql[pe-inventory/pgcrypto/update-extension-pgcrypto]"},{"source":"Puppet_enterprise::Psql[pe-inventory/pglogical/create-or-drop-extension-pglogical]","target":"Pe_postgresql_psql[pe-inventory/pglogical/create-or-drop-extension-pglogical]"},{"source":"Puppet_enterprise::Psql[pe-inventory/pglogical/update-extension-pglogical]","target":"Pe_postgresql_psql[pe-inventory/pglogical/update-extension-pglogical]"},{"source":"Puppet_enterprise::Psql[pe-inventory/n6bad1349378221/sql]","target":"Pe_postgresql_psql[pe-inventory/n6bad1349378221/sql]"},{"source":"Puppet_enterprise::Psql[pglogical replication set pe-inventory/default populate-sql]","target":"Pe_postgresql_psql[pglogical replication set pe-inventory/default populate-sql]"},{"source":"Puppet_enterprise::Psql[pglogical_subscription pe-inventory/s6bad1349378221 drop-sql]","target":"Pe_postgresql_psql[pglogical_subscription pe-inventory/s6bad1349378221 drop-sql]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write ident rule fragment]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv4)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv4)]"},{"source":"Pe_postgresql::Server::Pg_hba_rule[Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv6)]","target":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv6)]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication]","target":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment]"},{"source":"Puppet_enterprise::Pg::Ident_entry[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication]","target":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment]"},{"source":"Pe_staging::Deploy[puppet-agent-el-7-x86_64.tar.gz]","target":"Pe_staging::File[puppet-agent-el-7-x86_64.tar.gz]"},{"source":"Pe_staging::Deploy[puppet-agent-el-7-x86_64.tar.gz]","target":"Pe_staging::Extract[puppet-agent-el-7-x86_64.tar.gz]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3]","target":"Exec[Set perms of /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ directories to 0755]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3]","target":"Exec[Set perms of /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ contents to 0644]"},{"source":"Puppet_enterprise::Set_owner_group_permissions[/opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3]","target":"Exec[Set user/group of /opt/puppetlabs/server/data/packages/public/2019.1.1/el-7-x86_64-6.4.3/ contents to root:root]"},{"source":"Pe_concat::Fragment[orchestration-services orchestrator-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services orchestrator-service]"},{"source":"Pe_concat::Fragment[orchestration-services orchestrator-dispatch-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services orchestrator-dispatch-service]"},{"source":"Pe_concat::Fragment[orchestration-services jetty9-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services jetty9-service]"},{"source":"Pe_concat::Fragment[orchestration-services remote-rbac-consumer-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services remote-rbac-consumer-service]"},{"source":"Pe_concat::Fragment[orchestration-services remote-activity-reporter]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services remote-activity-reporter]"},{"source":"Pe_concat::Fragment[orchestration-services jruby-pool-manager-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services jruby-pool-manager-service]"},{"source":"Pe_concat::Fragment[orchestration-services broker-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services broker-service]"},{"source":"Pe_concat::Fragment[orchestration-services authorization-service]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_etc_puppetlabs_orchestration-services_bootstrap.cfg/fragments/10_orchestration-services authorization-service]"},{"source":"Pe_postgresql::Server::Grant[database:GRANT pe-puppetdb - ALL - pe-puppetdb]","target":"Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-puppetdb\" TO \"pe-puppetdb\"]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-puppetdb as pe-puppetdb (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment]"},{"source":"Pe_concat::Fragment[Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-compiler-0.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-puppetdb as pe-puppetdb ident rule fragment]"},{"source":"Pe_postgresql::Server::Grant[database:GRANT pe-classifier - ALL - pe-classifier]","target":"Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-classifier\" TO \"pe-classifier\"]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant connect perms to pe-classifier-read/sql]","target":"Pe_postgresql_psql[pe-classifier grant connect perms to pe-classifier-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant read perms on new objects from pe-classifier to pe-classifier-read/sql]","target":"Pe_postgresql_psql[pe-classifier grant read perms on new objects from pe-classifier to pe-classifier-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant read perms on new objects from pe-ha-replication to pe-classifier-read/sql]","target":"Pe_postgresql_psql[pe-classifier grant read perms on new objects from pe-ha-replication to pe-classifier-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant connect perms to pe-classifier-write/sql]","target":"Pe_postgresql_psql[pe-classifier grant connect perms to pe-classifier-write/sql]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant write perms on existing objects to pe-classifier-write/tables]","target":"Pe_postgresql_psql[pe-classifier grant write perms on existing objects to pe-classifier-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant write perms on existing objects to pe-classifier-write/sequences]","target":"Pe_postgresql_psql[pe-classifier grant write perms on existing objects to pe-classifier-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant write perms on existing objects to pe-classifier-write/functions]","target":"Pe_postgresql_psql[pe-classifier grant write perms on existing objects to pe-classifier-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/tables]","target":"Pe_postgresql_psql[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/sequences]","target":"Pe_postgresql_psql[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/functions]","target":"Pe_postgresql_psql[pe-classifier grant write perms on new objects from pe-classifier to pe-classifier-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/tables]","target":"Pe_postgresql_psql[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/sequences]","target":"Pe_postgresql_psql[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/functions]","target":"Pe_postgresql_psql[pe-classifier grant write perms on new objects from pe-ha-replication to pe-classifier-write/functions]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-read (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-read ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-classifier-write (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-classifier-write ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-classifier as pe-ha-replication (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-classifier as pe-ha-replication ident rule fragment]"},{"source":"Pe_postgresql::Server::Grant[database:GRANT pe-rbac - ALL - pe-rbac]","target":"Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-rbac\" TO \"pe-rbac\"]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant connect perms to pe-rbac-read/sql]","target":"Pe_postgresql_psql[pe-rbac grant connect perms to pe-rbac-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant read perms on new objects from pe-rbac to pe-rbac-read/sql]","target":"Pe_postgresql_psql[pe-rbac grant read perms on new objects from pe-rbac to pe-rbac-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant read perms on new objects from pe-ha-replication to pe-rbac-read/sql]","target":"Pe_postgresql_psql[pe-rbac grant read perms on new objects from pe-ha-replication to pe-rbac-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant connect perms to pe-rbac-write/sql]","target":"Pe_postgresql_psql[pe-rbac grant connect perms to pe-rbac-write/sql]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant write perms on existing objects to pe-rbac-write/tables]","target":"Pe_postgresql_psql[pe-rbac grant write perms on existing objects to pe-rbac-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant write perms on existing objects to pe-rbac-write/sequences]","target":"Pe_postgresql_psql[pe-rbac grant write perms on existing objects to pe-rbac-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant write perms on existing objects to pe-rbac-write/functions]","target":"Pe_postgresql_psql[pe-rbac grant write perms on existing objects to pe-rbac-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/tables]","target":"Pe_postgresql_psql[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/sequences]","target":"Pe_postgresql_psql[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/functions]","target":"Pe_postgresql_psql[pe-rbac grant write perms on new objects from pe-rbac to pe-rbac-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/tables]","target":"Pe_postgresql_psql[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/sequences]","target":"Pe_postgresql_psql[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/functions]","target":"Pe_postgresql_psql[pe-rbac grant write perms on new objects from pe-ha-replication to pe-rbac-write/functions]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-read (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-read ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-rbac-write (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-rbac-write ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-rbac as pe-ha-replication (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-rbac as pe-ha-replication ident rule fragment]"},{"source":"Pe_postgresql::Server::Grant[database:GRANT pe-activity - ALL - pe-activity]","target":"Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-activity\" TO \"pe-activity\"]"},{"source":"Puppet_enterprise::Psql[pe-activity grant connect perms to pe-activity-read/sql]","target":"Pe_postgresql_psql[pe-activity grant connect perms to pe-activity-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-activity grant read perms on new objects from pe-activity to pe-activity-read/sql]","target":"Pe_postgresql_psql[pe-activity grant read perms on new objects from pe-activity to pe-activity-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-activity grant read perms on new objects from pe-ha-replication to pe-activity-read/sql]","target":"Pe_postgresql_psql[pe-activity grant read perms on new objects from pe-ha-replication to pe-activity-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-activity grant connect perms to pe-activity-write/sql]","target":"Pe_postgresql_psql[pe-activity grant connect perms to pe-activity-write/sql]"},{"source":"Puppet_enterprise::Psql[pe-activity grant write perms on existing objects to pe-activity-write/tables]","target":"Pe_postgresql_psql[pe-activity grant write perms on existing objects to pe-activity-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-activity grant write perms on existing objects to pe-activity-write/sequences]","target":"Pe_postgresql_psql[pe-activity grant write perms on existing objects to pe-activity-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-activity grant write perms on existing objects to pe-activity-write/functions]","target":"Pe_postgresql_psql[pe-activity grant write perms on existing objects to pe-activity-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-activity to pe-activity-write/tables]","target":"Pe_postgresql_psql[pe-activity grant write perms on new objects from pe-activity to pe-activity-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-activity to pe-activity-write/sequences]","target":"Pe_postgresql_psql[pe-activity grant write perms on new objects from pe-activity to pe-activity-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-activity to pe-activity-write/functions]","target":"Pe_postgresql_psql[pe-activity grant write perms on new objects from pe-activity to pe-activity-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/tables]","target":"Pe_postgresql_psql[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/sequences]","target":"Pe_postgresql_psql[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/functions]","target":"Pe_postgresql_psql[pe-activity grant write perms on new objects from pe-ha-replication to pe-activity-write/functions]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-read (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-read ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-activity-write (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-activity-write ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-activity as pe-ha-replication (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-activity as pe-ha-replication ident rule fragment]"},{"source":"Pe_postgresql::Server::Grant[database:GRANT pe-orchestrator - ALL - pe-orchestrator]","target":"Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-orchestrator\" TO \"pe-orchestrator\"]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant connect perms to pe-orchestrator-read/sql]","target":"Pe_postgresql_psql[pe-orchestrator grant connect perms to pe-orchestrator-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant read perms on new objects from pe-orchestrator to pe-orchestrator-read/sql]","target":"Pe_postgresql_psql[pe-orchestrator grant read perms on new objects from pe-orchestrator to pe-orchestrator-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant read perms on new objects from pe-ha-replication to pe-orchestrator-read/sql]","target":"Pe_postgresql_psql[pe-orchestrator grant read perms on new objects from pe-ha-replication to pe-orchestrator-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant connect perms to pe-orchestrator-write/sql]","target":"Pe_postgresql_psql[pe-orchestrator grant connect perms to pe-orchestrator-write/sql]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/tables]","target":"Pe_postgresql_psql[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/sequences]","target":"Pe_postgresql_psql[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/functions]","target":"Pe_postgresql_psql[pe-orchestrator grant write perms on existing objects to pe-orchestrator-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/tables]","target":"Pe_postgresql_psql[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/sequences]","target":"Pe_postgresql_psql[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/functions]","target":"Pe_postgresql_psql[pe-orchestrator grant write perms on new objects from pe-orchestrator to pe-orchestrator-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/tables]","target":"Pe_postgresql_psql[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/sequences]","target":"Pe_postgresql_psql[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/functions]","target":"Pe_postgresql_psql[pe-orchestrator grant write perms on new objects from pe-ha-replication to pe-orchestrator-write/functions]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-read (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-read ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-orchestrator-write (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-orchestrator-write ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-orchestrator as pe-ha-replication (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-orchestrator as pe-ha-replication ident rule fragment]"},{"source":"Pe_postgresql::Server::Grant[database:GRANT pe-inventory - ALL - pe-inventory]","target":"Pe_postgresql_psql[GRANT ALL ON DATABASE \"pe-inventory\" TO \"pe-inventory\"]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant connect perms to pe-inventory-read/sql]","target":"Pe_postgresql_psql[pe-inventory grant connect perms to pe-inventory-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant read perms on new objects from pe-inventory to pe-inventory-read/sql]","target":"Pe_postgresql_psql[pe-inventory grant read perms on new objects from pe-inventory to pe-inventory-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant read perms on new objects from pe-ha-replication to pe-inventory-read/sql]","target":"Pe_postgresql_psql[pe-inventory grant read perms on new objects from pe-ha-replication to pe-inventory-read/sql]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant connect perms to pe-inventory-write/sql]","target":"Pe_postgresql_psql[pe-inventory grant connect perms to pe-inventory-write/sql]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant write perms on existing objects to pe-inventory-write/tables]","target":"Pe_postgresql_psql[pe-inventory grant write perms on existing objects to pe-inventory-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant write perms on existing objects to pe-inventory-write/sequences]","target":"Pe_postgresql_psql[pe-inventory grant write perms on existing objects to pe-inventory-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant write perms on existing objects to pe-inventory-write/functions]","target":"Pe_postgresql_psql[pe-inventory grant write perms on existing objects to pe-inventory-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/tables]","target":"Pe_postgresql_psql[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/sequences]","target":"Pe_postgresql_psql[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/functions]","target":"Pe_postgresql_psql[pe-inventory grant write perms on new objects from pe-inventory to pe-inventory-write/functions]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/tables]","target":"Pe_postgresql_psql[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/tables]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/sequences]","target":"Pe_postgresql_psql[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/sequences]"},{"source":"Puppet_enterprise::Psql[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/functions]","target":"Pe_postgresql_psql[pe-inventory grant write perms on new objects from pe-ha-replication to pe-inventory-write/functions]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-read (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-read ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-inventory-write (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-inventory-write ident rule fragment]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv4)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/0_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv4)]"},{"source":"Pe_concat::Fragment[pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv6)]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_hba.conf/fragments/1_pg_hba_rule_Allow certificate mapped connections to pe-inventory as pe-ha-replication (ipv6)]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-1.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment]"},{"source":"Pe_concat::Fragment[Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment]","target":"File[/opt/puppetlabs/puppet/cache/pe_concat/_opt_puppetlabs_server_data_postgresql_9.6_data_pg_ident.conf/fragments/10_Allow pe-xl-core-0.puppet.vm to connect to pe-inventory as pe-ha-replication ident rule fragment]"},{"source":"Pe_staging::File[puppet-agent-el-7-x86_64.tar.gz]","target":"Exec[/opt/puppetlabs/server/data/staging/pe_repo-puppet-agent-6.4.3/puppet-agent-el-7-x86_64.tar.gz]"},{"source":"Pe_staging::Extract[puppet-agent-el-7-x86_64.tar.gz]","target":"Exec[extract puppet-agent-el-7-x86_64.tar.gz]"}],"classes":["pe_repo","pe_repo::platform::el_7_x86_64","pe_repo::platform::windows_x86_64","puppet_enterprise","puppet_enterprise::license","puppet_enterprise::profile::agent","puppet_enterprise::profile::certificate_authority","puppet_enterprise::profile::console","puppet_enterprise::profile::database","puppet_enterprise::profile::master","puppet_enterprise::profile::orchestrator","puppet_enterprise::profile::puppetdb","settings","puppet_enterprise::params","puppet_enterprise","puppet_enterprise::profile::agent","puppet_enterprise::symlinks","puppet_enterprise::pxp_agent","puppet_enterprise::pxp_agent::service","puppet_enterprise::profile::console","puppet_enterprise::profile::console::certs","puppet_enterprise::packages","puppet_enterprise::repo","puppet_enterprise::repo::config","puppet_enterprise::profile::console::console_services_config","puppet_enterprise::console_services","puppet_enterprise::profile::console::proxy","pe_nginx","pe_nginx::params","puppet_enterprise::profile::console::proxy::nginx_conf","puppet_enterprise::profile::console::proxy::http_redirect","puppet_enterprise::profile::console::cache","puppet_enterprise::profile::database","pe_postgresql::globals","puppet_enterprise::postgresql::client","pe_postgresql::params","pe_postgresql::client","puppet_enterprise::postgresql::remove","pe_postgresql::server::contrib","pe_postgresql::server","pe_postgresql::server::reload","pe_postgresql::server::install","pe_postgresql::server::initdb","pe_postgresql::server::config","pe_postgresql::server::service","pe_postgresql::server::passwd","puppet_enterprise::profile::master","puppet_enterprise::license","puppet_enterprise::master::meep","puppet_enterprise::profile::master::classifier","puppet_enterprise::profile::master::auth_conf","puppet_enterprise::master::tk_authz","puppet_enterprise::profile::master::puppetdb","puppet_enterprise::master","puppet_enterprise::master::puppetserver","pe_r10k::params","pe_r10k","pe_r10k::config","pe_r10k::package","puppet_enterprise::master::code_manager","puppet_enterprise::master::file_sync","puppet_enterprise::trapperkeeper::analytics","puppet_enterprise::profile::controller","puppet_enterprise::cli_config","puppet_enterprise::profile::puppetdb","puppet_enterprise::puppetdb","puppet_enterprise::puppetdb::database_ini","puppet_enterprise::puppetdb::jetty_ini","puppet_enterprise::puppetdb::rbac_consumer_conf","puppet_enterprise::puppetdb::sync_ini","puppet_enterprise::puppetdb::config_ini","puppet_enterprise::puppetdb::service","puppet_enterprise::certs::puppetdb_whitelist","pe_repo","pe_repo::bulk_pluginsync","pe_repo::platform::el_7_x86_64","pe_repo::platform::windows_x86_64","puppet_enterprise::profile::certificate_authority","puppet_enterprise::master::recover_configuration","puppet_enterprise::profile::orchestrator","puppet_enterprise::trapperkeeper::inventory","puppet_enterprise::profile::bolt_server","puppet_enterprise::profile::plan_executor","puppet_enterprise::profile::ace_server","pe_concat::setup","pe_staging"]}